{"version":3,"sources":["n2-features/f1-auth/a5-enter-new-pass/EnterPassword.module.scss","n1-main/m1-ui/main/Main.module.css","n1-main/m1-ui/common/Loader/Loader.module.scss","n1-main/m1-ui/header/sidebar/Sidebar.module.css","n1-main/m1-ui/header/Header.module.scss","n1-main/m1-ui/Layout..module.scss","n1-main/m1-ui/footer/Footer.module.scss","n1-main/m1-ui/common/SuperButton/SuperButton.module.css","n1-main/m1-ui/common/TextError/TextError.module.css","n1-main/m1-ui/header/tabs/Tabs.module.scss","n1-main/m1-ui/main/packsList/searchInput/SearchInput.module.scss","n1-main/m1-ui/main/packsList/Pack/AddEditCardModal/AddEditCardModal.module.scss","n1-main/m1-ui/main/packsList/LearnPack/LearnPack.module.scss","n2-features/f1-auth/a2-register/Register.module.scss","n1-main/m1-ui/common/Pagination/Pagination.module.scss","n1-main/m1-ui/main/packsList/AddEditPackModal/AddEditPackModal.module.scss","n1-main/m1-ui/main/packsList/packList.module.scss","n1-main/m1-ui/common/SuperInputText/SuperInputText.tsx","n1-main/m1-ui/common/SuperButton/SuperButton.tsx","n1-main/m1-ui/common/SuperCheckbox/SuperCheckbox.tsx","n2-features/f1-auth/a1-login/utils/validationSettings.ts","n1-main/m3-dal/auth-api.ts","hook/redux.ts","n1-main/m2-bll/app-reducer.tsx","n1-main/m2-bll/loginization-reducer.ts","n2-features/f1-auth/a1-login/Login.tsx","n1-main/m1-ui/common/TextError/TextError.tsx","assets/eye.png","assets/noEye.png","n1-main/m1-ui/common/InputFormik/InputFormik.tsx","n2-features/f1-auth/a2-register/Register.tsx","n1-main/m2-bll/recovery-passw-reducer.ts","n2-features/f1-auth/a4-recovery-pass/RecoverPasswor.tsx","n2-features/f1-auth/a5-enter-new-pass/EnterPassword.tsx","n2-features/f1-auth/a6-check-password/CheckPassword.tsx","assets/letter.png","n2-features/f1-auth/a3-Error404/Error404.tsx","assets/loader.gif","n1-main/m1-ui/common/Loader/Loader.tsx","n1-main/m1-ui/main/Main.tsx","n1-main/m1-ui/header/sidebar/Sidebar.tsx","n1-main/m1-ui/header/tabs/tab/TabComponent.tsx","n1-main/m1-ui/header/tabs/Tabs.tsx","n1-main/m1-ui/header/Header.tsx","n1-main/m1-ui/footer/Footer.tsx","n1-main/m1-ui/Layout.tsx","n1-main/m1-ui/main/packsList/column.ts","n1-main/m1-ui/main/packsList/table/Table.tsx","n1-main/m3-dal/pack-list-api.ts","n1-main/m1-ui/common/Pagination/Pagination.tsx","n1-main/m1-ui/main/packsList/searchInput/SearchInput.tsx","hook/debounce.ts","n1-main/m1-ui/common/Select/Select.tsx","n1-main/m1-ui/common/RadioButtons/RadioButton.tsx","n1-main/m1-ui/main/packsList/range/Range.tsx","n1-main/m1-ui/common/Modal/Modal.tsx","n1-main/m1-ui/main/packsList/AddEditPackModal/AddEditPackModal.tsx","n1-main/m1-ui/main/packsList/DeletePackModal/DeleteModalWindow.tsx","n1-main/m2-bll/a1-pakcList/packListReducer.ts","n1-main/m1-ui/main/profile/User/User.tsx","utils/convertBase64.ts","n1-main/m1-ui/main/packsList/EditProfileModal/EditProfileModal.tsx","n1-main/m1-ui/main/packsList/PacksList.tsx","n1-main/m1-ui/main/profile/Profile.tsx","n1-main/m3-dal/cards-api.ts","n1-main/m1-ui/main/packsList/Pack/tableCard/columnCard.ts","n1-main/m1-ui/common/StarsRating/StarsRating.tsx","n1-main/m1-ui/common/StarsRating/count-width-active-start.ts","n1-main/m1-ui/main/packsList/Pack/tableCard/TableCard.tsx","n1-main/m1-ui/main/packsList/Pack/AddEditCardModal/ImgVideoAudio.tsx","n1-main/m1-ui/main/packsList/Pack/AddEditCardModal/AddEditCardModal.tsx","n1-main/m1-ui/main/packsList/Pack/CardsOfPack.tsx","n1-main/m2-bll/a2-learnPack/learnPackReducer.ts","n1-main/m1-ui/main/packsList/LearnPack/Question/QuestionCard.tsx","n1-main/m1-ui/main/packsList/LearnPack/AnswerWithRate/AnswerWithRateCard.tsx","n1-main/m1-ui/main/packsList/LearnPack/LearnPack.tsx","utils/GetRandomCard.ts","n1-main/m1-ui/App.tsx","reportWebVitals.ts","n1-main/m3-dal/file-api.ts","n1-main/m2-bll/state.ts","index.tsx","n1-main/m1-ui/common/SuperInputText/SuperInputText.module.css","n1-main/m1-ui/main/packsList/Pack/CardsOfPack.module.scss","n1-main/m1-ui/common/Select/Select.module.scss","n1-main/m1-ui/common/StarsRating/StarsRating.module.scss","n1-main/m1-ui/main/packsList/range/Range.module.scss","n1-main/m1-ui/common/Modal/Modal.module.scss","n1-main/m1-ui/main/profile/User/User.module.scss","n2-features/f1-auth/a1-login/Login.module.css","n1-main/m1-ui/common/RadioButtons/Radio.module.scss","n1-main/m1-ui/main/packsList/EditProfileModal/EditProfileModal.module.scss","n1-main/m1-ui/common/SuperCheckbox/SuperCheckbox.module.css","n1-main/m1-ui/common/InputFormik/InputFormik.module.scss","n2-features/f1-auth/a4-recovery-pass/RecoverPasswor.module.scss","n2-features/f1-auth/a3-Error404/Error404.module.css","n2-features/f1-auth/a6-check-password/CheckPassword.module.scss","n1-main/m1-ui/header/tabs/tab/Tab.module.scss","n1-main/m1-ui/main/packsList/DeletePackModal/DeleteModal.module.scss"],"names":["module","exports","SuperInputText","type","onChange","onChangeText","onKeyPress","onEnter","error","className","spanClassName","name","hidden","placeholder","restProps","onBlur","finalSpanClassName","s","finalInputClassName","errorInput","superInput","finalBarClassName","errorBar","bar","finalLabelClassName","errorLabel","label","group","value","e","currentTarget","key","SuperButton","finalClassName","default","children","SuperCheckbox","onChangeChecked","checkbox","checked","style","loginValidation","yup","shape","email","required","typeError","password","axiosBaseQuery","baseUrl","a","url","method","data","params","axios","withCredentials","result","err","status","response","_authApi","createApi","reducerPath","baseQuery","endpoints","build","registrationAuth","mutation","query","arg","createNewPassword","forgotPassword","from","message","checkAuthUser","updateProfileUser","makeLoginUser","logOutUser","useRegistrationAuthMutation","useCreateNewPasswordMutation","useForgotPasswordMutation","useCheckAuthUserMutation","useUpdateProfileUserMutation","useMakeLoginUserMutation","useLogOutUserMutation","useAppDispatch","useDispatch","useAppSelector","useSelector","slice","createSlice","initialState","isAuthUser","isOpenedModal","modalTrigger","reducers","setAppStatus","state","action","payload","setAppError","setAppIsAuth","setIsOpenedModal","setTriggerModal","appReducer","reducer","actions","user","setUser","loginReducer","Login","makeLogin","errorLoginization","navigate","useNavigate","dispatch","onSubmitHandler","values","unwrap","replace","container","spanLogo","validationSchema","initialValues","rememberMe","onSubmit","formikHelpers","then","res","setSubmitting","validateOnMount","formik","handleSubmit","getFieldProps","errors","dirty","actionsContainer","btn__send","disabled","isValid","isSubmitting","links","to","TextError","React","memo","props","InputFormik","addClassInput","finalInputClass","input","inputRef","useRef","imgRef","showPassword","current","src","eyePassword","document","addEventListener","hidePassword","closeEyePassword","removeEventListener","field","form","item","htmlFor","id","ref","draggable","onMouseDown","img","alt","touched","Register","registrationUser","matches","confirmPassword","oneOf","returnBack","registration","title","body","btns","onClick","btn__cancel","setEmail","recoveryPassReducer","RecoverPassword","c","text","btn","text__sub","link","EnterPassword","token","useParams","CheckPassword","recoveryPassword","image","Error404","errorPage","content","Loader","loader","Main","loadingStatus","app","main","Sidebar","logOutHandler","sidebar","list","TabComponent","finallyClass","useMatch","path","end","length","tab","active","Tabs","Header","header","Footer","Layout","isAuth","undefined","containerLogin","COLUMNS","accessor","Cell","format","Date","Table","sortData","openModalWindow","updateSort","triggerPage","columns","useMemo","userId","loginization","_id","useTable","hooks","visibleColumns","push","row","original","user_id","stopPropagation","packName","getTableProps","getTableBodyProps","headerGroups","rows","prepareRow","map","headerGroup","getHeaderGroupProps","headers","column","getHeaderProps","render","getRowProps","cells","cell","getCellProps","userIdPack","packListApi","tagTypes","getAllPacks","providesTags","createNewPack","cardsPack","transformResponse","newCardsPack","deletePack","invalidatesTags","updatePack","useGetAllPacksQuery","useLazyGetAllPacksQuery","useCreateNewPackMutation","useDeletePackMutation","useUpdatePackMutation","Pagination","totalCards","pageSize","pageCurrent","setCurrentPage","addClass","useState","currentPage","setPage","totalPages","Math","ceil","beforePage","afterPage","useEffect","pagination","liArray","classPage","numb","togglePage","i","String","prev","dots","pageLength","next","showElements","li","PagePagination","callback","random","InputSearch","valueSearch","tempValue","setTempValue","activeSearchValue","delay","debValue","setDebValue","window","setTimeout","clearTimeout","useDebounce","Select","tasks","setValue","setActive","hoverElID","setHoverElID","hoveredElement","find","t","selectedItem","tabIndex","select","onKeyUp","newEl","hover","onMouseEnter","RadioButton","activeBtn","finallyClassText","radio","Range","minValue","maxValue","setMinMaxRange","value1","setValue1","range","Slider","classes","track","rail","thumb","valueLabel","getAriaLabel","event","newValue","activeThumb","Array","isArray","min","max","onMouseUp","valueLabelDisplay","disableSwap","Modal","isActive","trigger","finallyClassModal","modal","finallyClassContent","AddEditPackModal","setNewTitlePack","openCloseModalWindow","namePack","closeModalWindow","top","cancel","save","DeleteModalWindow","nameValue","triggerDelete","s2","delete","sortPacks","page","pageCount","setPackListParams","packListReducer","User","useCallback","triggerName","info","avatar","unknown","convertBase64","file","Promise","resolve","reject","fileReader","FileReader","readAsDataURL","onload","onerror","EditProfileModal","infoProfile","updateProfileInfo","nickName","useForm","mode","defaultValues","register","formState","getValues","reset","sendNewValuesCard","base64","changeFileHandler","target","avatarValue","avatar__container","addPhoto","accept","btnFile","fontSize","color","cursor","minLength","maxLength","selectOptions","PacksList","useSearchParams","searchParams","setSearchParams","selectedOptionId","setSelectedOptionId","packInfo","setPackInfo","triggerModal","isOpenModal","queryParams","packList","nickNameUser","emailUser","avatarUser","skip","allCards","isLoading","errorGettingPacks","isFetching","createPack","updateProfile","lazyGetPack","cardPacks","setCurrentPageHandler","searchPackName","setRadioButtonsValue","sort","createPackHandler","updatePackHandler","deletePackHandler","Object","entries","el","option","Number","panelCards","noPadding","radioButtons","rangeContainer","bodyCards","search","button","selectCard","cardPacksTotalCount","selectBody","Profile","cardsApi","getCardsOfPack","createNewCard","deleteCard","editCard","setCardGrade","useGetCardsOfPackQuery","useLazyGetCardsOfPackQuery","useCreateNewCardMutation","useDeleteCardMutation","useEditCardMutation","useSetCardGradeMutation","COLUMNS_CARD","StarsRating","grade","setStarsRating","ratingActiveRef","isChangeRating","setRating","width","wrapper","form__item","rating","rating__body","rating__active","rating__items","star","rating__item","TableCard","isOwnerCard","question","answer","answerImg","answerVideo","questionImg","questionVideo","indexRow","index","ImgVideoAudio","preload","controls","AddEditCardModal","setNewCard","cardInfo","fileQuestion","fileAnswer","files","setFiles","str","indexOf","dataset","fileValue","clearFileHandler","dataForm","containerLabel","fileLabel","clearFile","CardsOfPack","useLocation","cardId","get","queryPackParams","cardsPack_id","cardQuestion","cardAnswer","sortCards","setQueryParams","setCardInfo","isError","upd","createCard","updateCard","getCards","updatePacks","goBack","searchCardName","searchValue","createCardHandler","card","deleteCardHandler","editCardHandler","arrow","cards","emptyPackText","cardsTotalCount","setLearningCards","setGradeOfCard","findIndex","learnPackReducer","QuestionCard","finishLearn","showAnswer","emptyText","fileLearn","ratingValue","AnswerWithRate","nextQuestion","checkedRate","setCheckedRate","setRateHandler","rate","titleRate","radioText","LearnPack","learningCardsOfPack","learningPack","isShowQuestion","setIsShowQuestion","isSuccess","updateGradesOfCards","isLoadingUpdateCardGrade","isSuccessUpdateCardGrade","comments","created","more_id","shots","updated","__v","setCard","card_id","showNextQuestion","prevGrade","sum","reduce","acc","rand","newSum","console","log","getCard","App","errorAuthUser","catch","finallyError","element","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","fileApi","builder","getFile","createFile","formData","AppRootReducer","useGetFileQuery","useCreateFileMutation","combineReducers","store","configureStore","middleware","getDefaultMiddleware","concat","ReactDOM","StrictMode","basename","getElementById"],"mappings":"iGACAA,EAAOC,QAAU,CAAC,KAAO,4BAA4B,UAAY,mC,oBCAjED,EAAOC,QAAU,CAAC,KAAO,qB,oBCAzBD,EAAOC,QAAU,CAAC,UAAY,0BAA0B,OAAS,yB,oBCAjED,EAAOC,QAAU,CAAC,KAAO,sBAAsB,QAAU,2B,oBCAzDD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,UAAY,4B,oBCA9DD,EAAOC,QAAU,CAAC,UAAY,2BAA2B,eAAiB,kC,oBCA1ED,EAAOC,QAAU,CAAC,OAAS,uBAAuB,UAAY,4B,0CCA9DD,EAAOC,QAAU,CAAC,QAAU,6BAA6B,IAAM,2B,oBCA/DD,EAAOC,QAAU,CAAC,MAAQ,2B,oBCA1BD,EAAOC,QAAU,CAAC,UAAY,0B,oBCA9BD,EAAOC,QAAU,CAAC,MAAQ,6B,mBCA1BD,EAAOC,QAAU,CAAC,UAAY,oCAAoC,IAAM,8BAA8B,KAAO,+BAA+B,KAAO,+BAA+B,IAAM,8BAA8B,OAAS,iCAAiC,KAAO,+BAA+B,eAAiB,yCAAyC,UAAY,oCAAoC,UAAY,sC,+DCA5ZD,EAAOC,QAAU,CAAC,UAAY,6BAA6B,MAAQ,yBAAyB,UAAY,6BAA6B,SAAW,4BAA4B,KAAO,wBAAwB,IAAM,uBAAuB,OAAS,0BAA0B,UAAY,6BAA6B,KAAO,wBAAwB,MAAQ,yBAAyB,MAAQ,yBAAyB,UAAY,6BAA6B,UAAY,+B,mBCA1cD,EAAOC,QAAU,CAAC,aAAe,+BAA+B,MAAQ,wBAAwB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,UAAY,4BAA4B,YAAc,gC,mBCAhPD,EAAOC,QAAU,CAAC,WAAa,+BAA+B,KAAO,yBAAyB,IAAM,wBAAwB,KAAO,yBAAyB,KAAO,yBAAyB,KAAO,yBAAyB,OAAS,6B,mBCArOD,EAAOC,QAAU,CAAC,UAAY,oCAAoC,IAAM,8BAA8B,KAAO,+BAA+B,KAAO,+BAA+B,IAAM,8BAA8B,OAAS,mC,mBCA/ND,EAAOC,QAAU,CAAC,SAAW,2BAA2B,WAAa,6BAA6B,UAAY,4BAA4B,eAAiB,iCAAiC,UAAY,4BAA4B,MAAQ,wBAAwB,OAAS,yBAAyB,MAAQ,wBAAwB,OAAS,yBAAyB,WAAa,6BAA6B,WAAa,6BAA6B,aAAe,+BAA+B,OAAS,yBAAyB,UAAY,8B,8TCkEzgBC,EAnD2C,SAAC,GAatD,EAXGC,KAWF,IAVEC,EAUH,EAVGA,SAAUC,EAUb,EAVaA,aACVC,EASH,EATGA,WAAYC,EASf,EATeA,QACZC,EAQH,EARGA,MACAC,EAOH,EAPGA,UAAWC,EAOd,EAPcA,cACXC,EAMH,EANGA,KACAC,EAKH,EALGA,OACAC,EAIH,EAJGA,YAEGC,GAEN,EAHGC,OAGH,kBAeKC,EAAkB,UAAMC,IAAET,MAAR,YAAiBE,GAAgC,IACnEQ,EAAsBV,EAAK,WAAOS,IAAEE,WAAT,YAAuBF,IAAEG,YAAzB,UAA2CH,IAAEG,WAA7C,YAA2DX,GACtFY,EAAoBb,EAAK,WAAOS,IAAEK,SAAT,YAAqBL,IAAEM,KAAvB,UAAkCN,IAAEM,IAApC,KACzBC,EAAsBhB,EAAK,WAAOS,IAAEQ,WAAT,YAAuBR,IAAES,OAAzB,UAAsCT,IAAES,MAAxC,KAEjC,OACI,sBAAKjB,UAAWQ,IAAEU,MAAlB,UACI,mCACIC,MAAOd,EAAUc,MACjBzB,KAAMS,EAAS,WAAa,OAC5BD,KAAMA,EACNP,SAzBa,SAACyB,GACtBzB,GACGA,EAASyB,GAEZxB,GAAgBA,EAAawB,EAAEC,cAAcF,QAsBrCtB,WApBe,SAACuB,GACxBvB,GAAcA,EAAWuB,GAEzBtB,GACa,UAAVsB,EAAEE,KACFxB,KAgBKE,UAAWS,GACPJ,IAER,sBAAML,UAAWY,EAAjB,eACA,uBAAOZ,UAAWe,EAAlB,SAAwCX,IACvCL,GAAS,sBAAMC,UAAWO,EAAjB,SAAsCR,Q,kCCtC7CwB,EAhB4C,SAAC,GAKtD,IAHAvB,EAGD,EAHCA,UACKK,EAEN,iBACKmB,EAAc,UAAMhB,IAAEiB,QAAR,YAAmBzB,GAEvC,OACI,gDACIA,UAAWwB,GACPnB,GAFR,aAGEA,EAAUqB,a,gGC6BLC,EAtCgD,SAAC,GAS3D,EAPGjC,KAOF,IANEC,EAMH,EANGA,SAAUiC,EAMb,EANaA,gBACV5B,EAKH,EALGA,UACA0B,GAIH,EALczB,cAKd,EAJGyB,UAEGrB,EAEN,iBAaKI,EAAmB,UAAMD,IAAEqB,SAAR,YAAoB7B,GAAwB,IAErE,OACI,wBAAOA,UAAWS,EAAlB,UACI,mCACIf,KAAM,WACNC,SAlBa,SAACyB,GAQtBzB,GAAYA,EAASyB,GACrBQ,GAAmBA,EAAgBR,EAAEC,cAAcS,UAU3C9B,UAAW,GACX+B,MAAOvB,KACHH,IAER,sBAAM0B,MAAOvB,IAAb,SAAkBkB,GAAY,sBAAM1B,UAAWQ,IAAEP,cAAnB,SAAmCyB,U,QC1ChEM,EAAkBC,MAAaC,MAAM,CAC9CC,MAAOF,MAAaG,SAAS,qGAAqBC,UAAU,qIAC5DC,SAAUL,MAAaG,SAAS,qGAAqBC,UAAU,uI,mDC8EtDE,EACT,wEACsC,CAACC,QAAS,wCAA3CA,EADL,EACKA,QADL,8CAUI,2CAAAC,EAAA,6DAAQC,EAAR,EAAQA,IAAKC,EAAb,EAAaA,OAAQC,EAArB,EAAqBA,KAAMC,EAA3B,EAA2BA,OAA3B,kBAE6BC,IAAM,CACvBJ,IAAKF,EAAUE,EACfC,SACAC,OACAC,SACAE,iBAAiB,IAP7B,cAEcC,EAFd,yBASe,CAACJ,KAAMI,EAAOJ,OAT7B,uCAWYK,EAXZ,uBAYe,CACHlD,MAAO,CACHmD,OAAM,UAAED,EAAIE,gBAAN,aAAE,EAAcD,OACtBN,KAAI,UAAEK,EAAIE,gBAAN,aAAE,EAAcP,QAfpC,yDAVJ,uDA+BSQ,EAAWC,oBAAU,CAC9BC,YAAa,UAEbC,UAAWhB,EAAe,CAACC,QAAS,yCACpCgB,UAAW,SAACC,GAAD,MAAY,CACnBC,iBAAkBD,EAAME,SAAoD,CACxEC,MAAO,SAACC,GAAD,MAAW,CACdnB,IAAK,gBACLC,OAAQ,OACRC,KAAMiB,MAGdC,kBAAmBL,EAAME,SAAoD,CACzEC,MAAO,SAACC,GAAD,MAAW,CACdnB,IAAK,wBACLC,OAAQ,OACRC,KAAMiB,MAGdE,eAAgBN,EAAME,SAAkC,CACpDC,MAAO,SAACC,GAAD,MAAU,CACbnB,IAAK,cACLC,OAAQ,OACRC,KAAM,CACFT,MAAO0B,EAAI1B,MACX6B,KAAM,0CACNC,QAAQ,2nBASpBC,cAAeT,EAAME,SAAyC,CAC1DC,MAAO,iBAAO,CACVlB,IAAK,UACLC,OAAQ,WAGhBwB,kBAAmBV,EAAME,SAAiE,CACtFC,MAAM,SAACC,GAAD,MAAU,CACZnB,IAAK,UACLC,OAAQ,MACRC,KAAMiB,MAGdO,cAAeX,EAAME,SAElB,CACCC,MAAO,SAACC,GAAD,MAAU,CACbnB,IAAK,aACLC,OAAQ,OACRC,KAAMiB,MAGdQ,WAAYZ,EAAME,SAAiC,CAC/CC,MAAO,iBAAO,CACVlB,IAAK,UACLC,OAAQ,iBAMpB2B,EAOAlB,EAPAkB,4BACAC,EAMAnB,EANAmB,6BACAC,EAKApB,EALAoB,0BACAC,EAIArB,EAJAqB,yBACAC,EAGAtB,EAHAsB,6BACAC,EAEAvB,EAFAuB,yBACAC,EACAxB,EADAwB,sB,QCvLSC,EAAiB,kBAAMC,yBACvBC,EAAyDC,c,OCsBhEC,EAAQC,sBAAY,CACtBhF,KAAM,MACNiF,aAboB,CACpBjC,OAAQ,OACRnD,MAAO,KACPqF,YAAY,EACZC,eAAe,EACfC,aAAc,MASdC,SAAU,CACNC,aADM,SACOC,EAAOC,GAChBD,EAAMvC,OAASwC,EAAOC,SAE1BC,YAJM,SAIMH,EAAOC,GACfD,EAAM1F,MAAQ2F,EAAOC,SAEzBE,aAPM,SAOOJ,EAAOC,GAChBD,EAAML,WAAaM,EAAOC,SAE9BG,iBAVM,SAUWL,EAAOC,GACpBD,EAAMJ,cAAgBK,EAAOC,SAEjCI,gBAbM,SAaUN,EAAOC,GACnBD,EAAMH,aAAeI,EAAOC,YAK3BK,EAAaf,EAAMgB,QAEzB,EAMHhB,EAAMiB,QALNV,EADG,EACHA,aAEAM,IAHG,EAEHF,YAFG,EAGHE,kBACAD,GAJG,EAIHA,aACAE,GALG,EAKHA,gBChDEd,GAAQC,sBAAY,CACtBhF,KAAM,QACNiF,aANiB,CACjBgB,KAAM,IAMNZ,SAAU,CACNa,QADM,SACEX,EAAOC,GACXD,EAAMU,KAAOT,EAAOC,YAKlBS,GAAWnB,GAAMiB,QAAjBE,QACDC,GAAepB,GAAMgB,QCKrBK,GAAY,WAAO,IAAD,EAE3B,EAAgD3B,IAAhD,mBAAO4B,EAAP,KAA0BC,EAA1B,KAAmBzG,MACnB,EAAwB0E,IAAjBP,EAAP,oBAEMuC,EAAWC,cACXC,EAAW9B,IAEX+B,EAAe,uCAAG,WAAOC,GAAP,eAAApE,EAAA,6DACpBkE,EAASnB,EAAa,YADF,kBAGVe,EAAUM,GAAQC,SAHR,uBAIG5C,IAAgB4C,SAJnB,OAIVX,EAJU,OAKhBQ,EAASP,GAAQD,IACjBQ,EAASd,IAAa,IACtBc,EAASnB,EAAa,cACtBiB,EAAS,cAAe,CAACM,SAAS,IARlB,kDAUhBJ,EAASnB,EAAa,WAVN,0DAAH,sDAcrB,OACI,sBAAKxF,UAAWQ,IAAEwG,UAAlB,UACI,sBAAMhH,UAAWQ,IAAEyG,SAAnB,mBACA,cAAC,IAAD,CAAQC,iBAAkBlF,EAClBmF,cAAe,CAAChF,MAAO,GAAIG,SAAU,GAAI8E,YAAY,GACrDC,SAAU,SAACR,EAAQS,GACfV,EAAgBC,GACXU,MAAK,SAAAC,GACFF,EAAcG,eAAc,OAGxCC,iBAAe,EARvB,SAUK,SAACC,GACE,OAAQ,uBAAMN,SAAUM,EAAOC,aAAvB,UACJ,cAAC,EAAD,yBACIxF,UAAQ,EAAChC,YAAa,SAClBuH,EAAOE,cAAc,UAF7B,IAGI9H,MAAO4H,EAAOG,OAAO3F,OAASwF,EAAOI,MAAQ,oGAC/B,MAClB,cAAC,EAAD,yBAAgB3F,UAAQ,EACRhC,YAAa,YAAeuH,EAAOE,cAAc,aADjE,IAEgB9H,MAAO4H,EAAOG,OAAOxF,UAAYqF,EAAOI,MAAQ,oGAClC,GAAI5H,QAAM,KACxC,sBAAKH,UAAWQ,IAAEwH,iBAAlB,UAAoC,cAAC,EAAD,aAChCtG,SAAU,eAAmBiG,EAAOE,cAAc,gBAClD,cAAC,EAAD,CACI7H,UAAWQ,IAAEyH,UACbC,UAAWP,EAAOQ,SAAWR,EAAOS,aACpCjH,MAAO,SACPzB,KAAM,SAJV,2BAYZ8G,GAAqB,qBAAKxG,UAAW,QAAhB,UAEb,UAACwG,EAA+C5D,YAAhD,eAAsD7C,QAAS,sGAI3E,sBAAKC,UAAWQ,IAAE6H,MAAlB,UACI,cAAC,IAAD,CAASC,GAAG,qBAAZ,mCACA,cAAC,IAAD,CAASA,GAAG,gBAAZ,sC,qBCvFHC,GAAqCC,IAAMC,MAAK,SAAAC,GACzD,OACI,qBAAK1I,UAAWQ,KAAET,MAAlB,SAA0B2I,EAAMhH,c,oBCNzB,OAA0B,gCCA1B,OAA0B,kC,oCCuB5BiH,GAAcH,IAAMC,MAAK,SAACC,GAEnC,IAAOzH,EAA4CyH,EAA5CzH,MAAOf,EAAqCwI,EAArCxI,KAAM0I,EAA+BF,EAA/BE,cAAkBvI,EAAtC,YAAmDqI,EAAnD,IAGMG,EAAe,UAAMrI,KAAEsI,MAAR,YAAiBF,GAGhCG,EAAWC,iBAAgC,MAC3CC,EAASD,iBAAgC,MAEzCE,EAAe,WAAO,IAAD,IACQ,cAA3B,UAAAH,EAASI,eAAT,eAAkBjJ,OAAkD,qBAA3B,UAAA6I,EAASI,eAAT,eAAkBjJ,QAC3D6I,EAASI,QAAQzJ,KAAO,OACpBuJ,EAAOE,UACPF,EAAOE,QAAQC,IAAMC,IAEzBC,SAASC,iBAAiB,UAAWC,KAKvCA,EAAe,SAAfA,IAAsB,IAAD,IACQ,cAA3B,UAAAT,EAASI,eAAT,eAAkBjJ,OAAkD,qBAA3B,UAAA6I,EAASI,eAAT,eAAkBjJ,QAC3D6I,EAASI,QAAQzJ,KAAO,WAEpBuJ,EAAOE,UACPF,EAAOE,QAAQC,IAAMK,IAGzBH,SAASI,oBAAoB,UAAWF,KAOhD,OACI,cAAC,IAAD,CAAWtJ,KAAMA,EAAjB,SAEQ,SAACwI,GAEG,IAAOiB,EAAejB,EAAfiB,MAAOC,EAAQlB,EAARkB,KAEd,OACI,sBAAK5J,UAAWQ,KAAEqJ,KAAlB,UACI,uBAAOC,QAASzJ,EAAU0J,GACnB/J,UAAWQ,KAAES,MADpB,SAC4BA,IAC5B,+CACIjB,UAAW6I,EACXmB,IAAKjB,GACD1I,GACAsJ,IAGK,UAATzJ,GACA,qBACI8J,IAAKf,EACLgB,WAAW,EACXC,YAAahB,EACblJ,UAAWQ,KAAE2J,IAAKf,IAAKK,GACvBW,IAAI,KAIRR,EAAK9B,OAAO5H,IAAS0J,EAAKS,QAAQnK,IAAS0J,EAAK7B,OAChD,cAACQ,GAAD,UAAYqB,EAAK9B,OAAO5H,c,oBCnE3CoK,GAAW,WAEpB,IAMM3D,EAAW9B,IAEX4B,EAAWC,cAEjB,EAAoCpC,IAApC,mBAAOiG,EAAP,KAA0BxK,EAA1B,KAA0BA,MAEpBmH,EAAmBjF,MAAaC,MAAM,CACxCC,MAAOF,MAAaE,MAAM,wBAAwBC,SAAS,YAC3DE,SAAUL,MAAauI,QAAQ,iDAC3B,gGAAgGpI,SAAS,YAC7GqI,gBAAiBxI,MAAayI,MAAM,CAACzI,IAAQ,aAAc,0BAA0BG,SAAS,cAG5FiF,EAAQ,uCAAG,WAAOR,EAA2BS,GAAlC,SAAA7E,EAAA,6DAEbkE,EAASnB,EAAa,YAFT,kBAIH+E,EAAiB,CACnBpI,MAAO0E,EAAO1E,MACdG,SAAUuE,EAAOvE,WAClBwE,SAPM,OAQTH,EAASnB,EAAa,cACtBiB,EAAS,SAAU,CAACM,SAAS,IATpB,gDAWTJ,EAASnB,EAAa,WAXb,yDAAH,wDAeRmF,EAAa,kBAAMlE,GAAU,IAGnC,OACI,sBAAKzG,UAAWQ,KAAEoK,aAAlB,UACI,oBAAI5K,UAAWQ,KAAEqK,MAAjB,qBACA,qBAAK7K,UAAWQ,KAAEsK,KAAlB,SACI,cAAC,IAAD,CACI3D,cA1CyB,CACrChF,MAAO,GACPG,SAAU,GACVmI,gBAAiB,IAwCLvD,iBAAkBA,EAClBG,SAAUA,EACVK,iBAAe,EAJnB,SAOQ,SAACC,GAAD,OACI,eAAC,IAAD,CAAM3H,UAAWQ,KAAEoJ,KAAnB,UACI,cAACjB,GAAD,CACIoB,GAAI,QACJrK,KAAM,QACNQ,KAAM,QACNe,MAAO,UAEX,cAAC0H,GAAD,CACIoB,GAAI,WACJrK,KAAM,WACNQ,KAAM,WACNe,MAAO,aAEX,cAAC0H,GAAD,CACIoB,GAAI,kBACJrK,KAAM,WACNQ,KAAM,kBACNe,MAAO,qBAGPlB,GAAS,qBAAKC,UAAW,QAAhB,SAEAD,EAAmC6C,KAAK7C,OAAS,sGAI9D,sBAAKC,UAAWQ,KAAEuK,KAAlB,UACI,cAAC,EAAD,CACIC,QAASL,EACT3K,UAAWQ,KAAEyK,YACbvL,KAAM,SAHV,kDAOA,cAAC,EAAD,CACIM,UAAWQ,KAAEyH,UACbC,UAAWP,EAAOQ,SAAWR,EAAOS,aACpC1I,KAAM,SAHV,mF,oBCjE9BuF,GAAQC,sBAAY,CACtBhF,KAAM,eACNiF,aAAc,CAAChD,MAAO,GAAIpC,MAAO,MACjCwF,SAAU,CAIN2F,SAJM,SAIGzF,EAAOC,GACZD,EAAMtD,MAAQuD,EAAOC,YAanBuF,GAAYjG,GAAMiB,QAAlBgF,SACDC,GAAsBlG,GAAMgB,QCzC5BmF,GAAkB,WAE3B,IAAMzE,EAAW9B,IAEX4B,EAAWC,cAEjB,EAAkClC,IAAlC,mBAAOT,EAAP,KAAwBhE,EAAxB,KAAwBA,MAOlBmH,EAAmBjF,MAAaC,MAAM,CACxCC,MAAOF,MAAaE,MAAM,wBAAwBC,SAAS,cAGzDiF,EAAQ,uCAAG,WAAOR,EAA2BS,GAAlC,SAAA7E,EAAA,6DAEbkE,EAASnB,EAAa,YAFT,kBAIHzB,EAAe,CAAC5B,MAAM0E,EAAO1E,QAAQ2E,SAJlC,OAKTH,EAASuE,GAASrE,EAAO1E,QACzBwE,EAASnB,EAAa,cACtBiB,EAAS,kBAAmB,CAACM,SAAS,IAP7B,gDASTJ,EAASnB,EAAa,WATb,QAWb8B,EAAcG,eAAc,GAXf,yDAAH,wDAed,OACI,sBAAKzH,UAAWQ,KAAEoK,aAAlB,UACI,oBAAI5K,UAAWQ,KAAEqK,MAAjB,kCACA,qBAAK7K,UAAWQ,KAAEsK,KAAlB,SACI,cAAC,IAAD,CACI3D,cA5ByB,CACrChF,MAAO,IA4BK+E,iBAAkBA,EAClBG,SAAUA,EACVK,iBAAe,EAJnB,SAOQ,SAACC,GAAD,OACI,eAAC,IAAD,CAAM3H,UAAWQ,KAAEoJ,KAAnB,UACI,cAACjB,GAAD,CACIoB,GAAI,QACJrK,KAAM,QACNQ,KAAM,QACNe,MAAO,UAEX,mBAAGjB,UAAWqL,KAAEC,KAAhB,gFAWIvL,GAAS,qBAAKC,UAAW,QAAhB,SAEAD,EAAmC6C,KAAK7C,OAAS,sGAI9D,cAAC,EAAD,CACIC,UAAWqL,KAAEE,IACbrD,UAAWP,EAAOQ,SAAWR,EAAOS,aACpC1I,KAAM,SAHV,+BAOA,mBAAGM,UAAWqL,KAAEG,UAAhB,6CAGA,qBAAKxL,UAAWqL,KAAEI,KAAlB,SACI,cAAC,IAAD,CAAMnD,GAAI,SAAV,yC,qBCjFvBoD,GAAgB,WAEzB,IAIM/E,EAAW9B,IAEjB,EAAqCN,IAArC,mBAAOT,EAAP,KAA2B/D,EAA3B,KAA2BA,MAEpB4L,EAASC,cAATD,MACDlF,EAAWC,cAEXQ,EAAmBjF,MAAaC,MAAM,CACxCI,SAAUL,MAAaG,SAAS,cAG9BiF,EAAQ,uCAAG,WAAOR,EAA2BS,GAAlC,SAAA7E,EAAA,0DASTkJ,EATS,wBAUThF,EAASnB,EAAa,YAVb,kBAYC1B,EAAkB,CACpBxB,SAAUuE,EAAOvE,SACjBqJ,UACD7E,SAfE,OAgBLH,EAASnB,EAAa,cACtBiB,EAAS,IAAK,CAACM,SAAS,IAjBnB,gDAmBLJ,EAASnB,EAAa,WAnBjB,yDAAH,wDAwBd,OACI,sBAAKxF,UAAWQ,KAAEoK,aAAlB,UACI,oBAAI5K,UAAWQ,KAAEqK,MAAjB,iCACA,qBAAK7K,UAAWQ,KAAEsK,KAAlB,SACI,cAAC,IAAD,CACI3D,cA5CyB,CACrC7E,SAAU,IA4CE4E,iBAAkBA,EAClBG,SAAUA,EACVK,iBAAe,EAJnB,SAOQ,SAACC,GAAD,OACI,eAAC,IAAD,CAAM3H,UAAWQ,KAAEoJ,KAAnB,UACI,cAACjB,GAAD,CACIjJ,KAAM,WACNQ,KAAM,WACNe,MAAO,aAGPlB,GAAS,qBAAKC,UAAW,QAAhB,SAEAD,EAAmC6C,KAAK7C,OAAS,sGAI9D,qBAAKC,UAAS,UAAKQ,KAAEuK,KAAP,YAAeM,KAAEN,MAA/B,SACI,cAAC,EAAD,CACI/K,UAAS,UAAKQ,KAAEyH,UAAP,YAAoBoD,KAAEpD,WAC/BC,UAAWP,EAAOQ,SAAWR,EAAOS,aACpC1I,KAAM,SAHV,kF,oBCjFvBmM,GAAgB,WAEzB,IAAM1J,EAAQ6C,uBAAsC,SAAAS,GAAK,OAAIA,EAAMqG,iBAAiB3J,SAEpF,OACI,sBAAKnC,UAAWQ,KAAEoK,aAAlB,UACI,qBAAK5K,UAAWqL,KAAEU,MAAlB,SACI,qBAAK3C,ICdN,ivKDcmBgB,IAAI,OAE1B,oBAAIpK,UAAS,UAAKQ,KAAEqK,MAAP,YAAgBQ,KAAER,OAA/B,yBAGA,oBAAG7K,UAAWqL,KAAEC,KAAhB,sDAC8CnJ,S,oBEhB7C6J,GAAW,WACpB,OACI,qBAAKhM,UAAWQ,KAAEsK,KAAlB,SACI,qBAAK9K,UAAWQ,KAAEyL,UAAlB,SACI,sBAAKjM,UAAWQ,KAAE0L,QAAlB,UACI,oBAAI,YAAW,MAAf,iBACA,oBAAI,YAAW,wBAAf,mCACA,kFACA,qBAAKlM,UAAWQ,KAAE+K,IAAlB,SACI,cAAC,IAAD,CAAMjD,GAAI,QAAV,SACI,wD,0CCdb,OAA0B,mCCE5B6D,GAAS,WAClB,OACI,qBAAKnM,UAAWQ,KAAEwG,UAAlB,SACI,qBAAKhH,UAAWQ,KAAE4L,OAAQhD,IAAKgD,GAAQhC,IAAI,kBCE1CiC,GAAO,WAEhB,IAAMC,EAAgBvH,GAAe,SAAAU,GAAK,OAAIA,EAAM8G,IAAIrJ,UAExD,OACI,sBAAMlD,UAAWQ,KAAEgM,KAAnB,SACI,sBAAKxM,UAAWQ,KAAEwG,UAAlB,UACuB,YAAlBsF,GAA+B,cAAC,GAAD,IAChC,cAAC,IAAD,U,qBCNHG,GAAU,WACnB,IAAM9F,EAAW9B,IAEjB,EAAqBD,IAAdP,EAAP,oBACMoC,EAAWC,cAEXgG,EAAa,uCAAG,sBAAAjK,EAAA,6DAClBkE,EAASnB,EAAa,YADJ,kBAGRnB,IAHQ,OAIdsC,EAASd,IAAa,IACtBc,EAASnB,EAAa,cACtBiB,EAAS,SAAU,CAACM,SAAS,IANf,gDAQdJ,EAASnB,EAAa,WARR,yDAAH,qDAanB,OACI,qBAAKxF,UAAWQ,KAAEmM,QAAlB,SACI,oBAAI3M,UAAWQ,KAAEoM,KAAjB,SACI,6BACI,cAAC,EAAD,CAAa5B,QAAS0B,EAAevL,MAAO,SAA5C,2B,uGCtBP0L,GAAkCrE,IAAMC,MAAK,YAAiB,IAAfvI,EAAc,EAAdA,KAAMoI,EAAQ,EAARA,GAOxDwE,EALQC,YAAS,CACnBC,KAAM1E,EAEN2E,IAAmB,IAAd3E,EAAG4E,SAEc,UAAM1M,KAAE2M,IAAR,YAAe3M,KAAE4M,OAAjB,eAAgC5M,KAAE2M,KAC5D,OACI,eAAC,IAAD,CAAM7E,GAAIA,EAAItI,UAAW8M,EAAzB,UAEiB,eAAT5M,EACM,cAAC,KAAD,IACA,cAAC,KAAD,IAEV,6BAAKA,UCnBJmN,GAAO,WAEhB,OACI,sBAAKrN,UAAWQ,KAAEwG,UAAlB,UACI,cAAC6F,GAAD,CAAcvE,GAAI,cAAepI,KAAM,eACvC,cAAC2M,GAAD,CAAcvE,GAAI,WAAYpI,KAAM,gBCLnCoN,GAAS,WAElB,OACI,qBAAKtN,UAAWQ,KAAE+M,OAAlB,SACI,sBAAKvN,UAAWQ,KAAEwG,UAAlB,UACI,cAAC,GAAD,IACA,cAAC,GAAD,U,0CCRHwG,GAAS,WAElB,OACI,qBAAKxN,UAAWQ,KAAE+M,OAAlB,SACI,qBAAKvN,UAAWQ,KAAEwG,UAAlB,uBCICyG,GAA+B,SAAC,GAAa,IAAZ1N,EAAW,EAAXA,MAEpC2N,EAAS3I,GAAe,SAAAU,GAAK,OAAIA,EAAM8G,IAAInH,cAEjD,OACI,mCAEQsI,EACI,sBAAK1N,UAAWQ,KAAEwG,UAAlB,UACI,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,OAEFjH,QAAwB4N,IAAf5N,EAAM6C,KACX,qBAAK5C,UAAW,eAAhB,mKACA,qBAAKA,UAAWQ,KAAEoN,eAAlB,SACD,cAAC,IAAD,S,2BC1BZC,GAAU,CACnB,CACIP,OAAQ,OACRQ,SAAU,QAEd,CACIR,OAAQ,QACRQ,SAAU,cAEd,CACIR,OAAQ,eACRQ,SAAU,UACVC,KAAM,YAA+B,IAA7B5M,EAA4B,EAA5BA,MACJ,OAAO6M,aAAO,IAAIC,KAAK9M,GAAQ,gBAIvC,CACImM,OAAQ,aACRQ,SAAU,cCFLI,I,OAA6B,SAAC,GAMO,IALHtL,EAKE,EALFA,KACAuL,EAIE,EAJFA,SACAC,EAGE,EAHFA,gBACAC,EAEE,EAFFA,WACAC,EACE,EADFA,YAGrCC,EAAUC,mBAAQ,kBAAMX,KAAS,IACjCY,EAAS1J,GAAe,SAAAU,GAAK,OAAIA,EAAMiJ,aAAavI,KAAKwI,OAmE/D,EAMIC,oBAAS,CAETL,UACA3L,SA1Ee,SAACiM,GAEhBA,EAAMC,eAAeC,MAAK,SAACR,GAAD,6BACnBA,GADmB,CAEtB,CACIxE,GAAI,UACJuD,OAAQ,UACRS,KAAM,YAAiB,IAAfiB,EAAc,EAAdA,IACJ,OAAIA,EAAIC,SAASC,UAAYT,EAErB,sBAAKzO,UAAW,UAAhB,UACI,wBACIA,UAAW,uBACXgL,QAAS,SAAC5J,GACNA,EAAE+N,kBACFf,GAAgB,EAAM,aAAc,CAChCrE,GAAIiF,EAAIC,SAASN,IACjBzO,KAAM8O,EAAIC,SAAS/O,QAN/B,oBAaA,wBAAQF,UAAW,qBACXgL,QAAS,SAAC5J,GACNA,EAAE+N,kBACFf,GAAgB,EAAM,WAAY,CAC9BrE,GAAIiF,EAAIC,SAASN,IACjBzO,KAAM8O,EAAIC,SAAS/O,QALnC,kBAUA,cAAC,IAAD,CACIoI,GAAE,6CAAwC0G,EAAIC,SAASN,KACvD3O,UAAW,SACXyF,MAAO,CACH2J,SAASJ,EAAIC,SAAS/O,MAJ9B,sBAaJ,qBAAKF,UAAW,UAAhB,SACI,cAAC,IAAD,CACIsI,GAAE,6CAAwC0G,EAAIC,SAASN,KACvD3O,UAAW,SACXyF,MAAO,CACH2J,SAASJ,EAAIC,SAAS/O,MAJ9B,+BAkBxBmP,EADJ,EACIA,cACAC,EAFJ,EAEIA,kBACAC,EAHJ,EAGIA,aACAC,EAJJ,EAIIA,KACAC,EALJ,EAKIA,WAQJ,OACI,mCACI,kDAAWJ,KAAX,cACI,gCAEIE,EAAaG,KAAI,SAAAC,GAAW,OACxB,8CAAQA,EAAYC,uBAApB,aAEQD,EAAYE,QAAQH,KAAI,SAAAI,GAEpB,MAAsB,iBAAlBA,EAAOxC,OAEH,4CACItN,UAA0B,aAAfqO,EACL,OACA,aAEFyB,EAAOC,kBALf,IAMI/E,QAASmD,EANb,SAQK2B,EAAOE,OAAO,aAKnB,8CAAQF,EAAOC,kBAAf,aACKD,EAAOE,OAAO,wBAU/C,iDAAWV,KAAX,aAEIE,EAAKE,KAAI,SAAAV,GAEL,OADAS,EAAWT,GAGP,8CAAQA,EAAIiB,eAAZ,aAEQjB,EAAIkB,MAAMR,KAAI,SAAAS,GACV,MAA2B,SAAvBA,EAAKL,OAAOxC,OACL,8CAAQ6C,EAAKC,gBAAb,aACH,cAAC,IAAD,CACIpQ,UAAW,SACXsI,GACoB,aAAhBgG,EAAA,8CAC6CU,EAAIC,SAASN,KAD1D,2CAE0CK,EAAIC,SAASN,KAE3DlJ,MAAO,CACH2J,SAAUe,EAAKhP,MACfkP,WAAYrB,EAAIC,SAASC,SATjC,SAYKiB,EAAKH,OAAO,aAIlB,8CAAQG,EAAKC,gBAAb,aACH,8BAAMD,EAAKH,OAAO,iCChIjDM,GAAcjN,oBAAU,CACjCC,YAAa,cACbC,UAAWhB,EAAe,CAACC,QAAS,yCACpC+N,SAAU,CAAC,SACX/M,UAAW,SAACC,GAAD,MAAY,CACnB+M,YAAa/M,EAAMG,MAAgD,CAC/DA,MAAO,SAACC,GAAD,MAAU,CACbnB,IAAK,aACLG,OAAO,eAAKgB,GACZlB,OAAQ,QAEZ8N,aAAc,CAAC,WAEnBC,cAAejN,EAAME,SAA2C,CAC5DC,MAAO,SAACC,GAAD,MAAU,CACbnB,IAAK,aACLC,OAAQ,OACRC,KAAM,CAAC+N,UAAW9M,KAEtB+M,kBAAmB,SAAC5N,GAAD,sBACZA,EAAO6N,iBAIlBC,WAAYrN,EAAME,SAAyC,CACvDC,MAAO,SAACC,GAAD,MAAU,CACbnB,IAAI,aACJC,OAAQ,SACRE,OAAQgB,IAEZkN,gBAAiB,CAAC,WAEtBC,WAAYvN,EAAME,SAAwD,CACtEC,MAAO,SAACC,GAAD,MAAU,CACbnB,IAAI,aACJC,OAAQ,MACRC,KAAM,CAAC+N,UAAW9M,KAEtBkN,gBAAiB,CAAC,eAM1BE,GAKAX,GALAW,oBACAC,GAIAZ,GAJAY,wBACAC,GAGAb,GAHAa,yBACAC,GAEAd,GAFAc,sBACAC,GACAf,GADAe,sB,wCC5ESC,GAAsC9I,IAAMC,MAAM,SAACC,GAC5D,IAAO6I,EAAgE7I,EAAhE6I,WAAYC,EAAoD9I,EAApD8I,SAAUC,EAA0C/I,EAA1C+I,YAAcC,EAA4BhJ,EAA5BgJ,eAAgBC,EAAYjJ,EAAZiJ,SAE3D,EAA+BC,mBAASH,GAAxC,mBAAOI,EAAP,KAAoBC,EAApB,KAEMC,EAAaC,KAAKC,KAAKV,EAAaC,GAEtCU,EAAaL,EAAc,EAC3BM,EAAYN,EAAc,EAE1BA,IAAgBE,EAChBG,GAA0B,EACnBL,IAAgBE,EAAa,IACpCG,GAA0B,GAGV,IAAhBL,EACAM,GAAwB,EACD,IAAhBN,IACPM,GAAwB,GAE5BC,qBAAU,WACNN,EAAQL,KACV,CAACA,IAoHH,OACQ,qBAAKzR,UAAS,UAAKQ,KAAE6R,WAAP,YAAqBV,GAAnC,SACI,oBAAI3R,UAAWQ,KAAE+K,IAAjB,SArHS,WAEjB,IAAM+G,EAA8B,GAChCC,EAAY,GAEhB,GAAmB,IAAfR,EAQA,OAPAO,EAAQvD,KAAK,CACT/O,UAAU,GAAD,OAAKQ,KAAEgS,KAAP,YAAehS,KAAE4M,QAC1BlN,KAAM,IACNuS,WAHS,WAILf,EAAeG,MAGhBS,EAEX,GAAIP,EAAa,GAAKA,EAAa,EAAG,CAClC,IADmC,IAAD,WACzBW,GACL,GAAIA,EAAIX,EACJ,iBAGAQ,EADAG,IAAMb,EACG,UAAMrR,KAAEgS,KAAR,YAAgBhS,KAAE4M,QAEf5M,KAAEgS,KAGlBF,EAAQvD,KAAK,CACT/O,UAAWuS,EACXrS,KAAMyS,OAAOD,GACbD,WAHS,WAILf,EAAegB,OAdlBA,EAAI,EAAGA,EAAI,EAAGA,IAAK,EAAnBA,GAkBT,OAAOJ,EAGPT,EAAc,GACdS,EAAQvD,KAAK,CACT/O,UAAU,GAAD,OAAKQ,KAAE+K,IAAP,YAAc/K,KAAEoS,MACzB1S,KAAM,OACNuS,WAHS,WAILf,EAAeG,EAAc,MAKrCA,EAAc,IACdS,EAAQvD,KAAK,CACT/O,UAAWQ,KAAEgS,KACbtS,KAAM,IACNuS,WAHS,WAILf,EAAe,MAInBG,EAAc,GACdS,EAAQvD,KAAK,CAAC/O,UAAWQ,KAAEqS,KAAM3S,KAAM,SAK/C,IA9DuB,kBAgEnB,GAAI4S,EAAaf,EACb,OAD0B,EAAD,EACzB,WAEe,IAAfe,IACAA,GAA0B,GAI1BP,EADAO,IAAejB,EACN,UAAMrR,KAAEgS,KAAR,YAAgBhS,KAAE4M,QAEf5M,KAAEgS,KAGlBF,EAAQvD,KAAK,CACT/O,UAAWuS,EACXrS,KAAMyS,OAAOG,GACbL,WAHS,WAILf,EAAeoB,MAjFJ,KA8DdA,EAAaZ,EAAYY,GAAcX,EAAWW,IAAc,EAAhEA,GAiDT,OAzBIjB,EAAcE,EAAa,IAEvBF,EAAcE,EAAa,GAC3BO,EAAQvD,KAAK,CAAC/O,UAAWQ,KAAEqS,KAAM3S,KAAM,QAG3CoS,EAAQvD,KAAK,CACT/O,UAAWQ,KAAEgS,KACbtS,KAAK,GAAD,OAAK6R,GACTU,WAHS,WAILf,EAAeK,OAKvBF,EAAcE,GACdO,EAAQvD,KAAK,CACT/O,UAAU,GAAD,OAAKQ,KAAE+K,IAAP,YAAc/K,KAAEuS,MACzB7S,KAAM,OACNuS,WAHS,WAILf,EAAeG,EAAc,MAKlCS,EAQSU,GAAetD,KAAI,SAAAuD,GAAE,OACjB,cAACC,GAAD,CAEIhT,KAAM+S,EAAG/S,KACTF,UAAWiT,EAAGjT,UACdmT,SAAUF,EAAGR,YAHRE,OAAOX,KAAKoB,qBAiBpCF,GAAqC1K,IAAMC,MAAK,YAKlD,IAHHzI,EAGE,EAHFA,UACAE,EAEE,EAFFA,KACAiT,EACE,EADFA,SAQA,OACI,oBAAInT,UAAWA,EAAWgL,QALP,WACnBmI,GAAYA,KAIZ,SAAmD,+BAAOjT,S,qBCtLzDmT,GAAwC7K,IAAMC,MAAK,SAACC,GAE7D,IAAM4K,EAAmC5K,EAAnC4K,YAAaH,EAAsBzK,EAAtByK,SAAUxB,EAAYjJ,EAAZiJ,SAC7B,EAAiCC,mBAAS0B,GAA1C,mBAAMC,EAAN,KAAiBC,EAAjB,KAEMC,ECRiB,SAAC,GAAkC,IAAjCtS,EAAgC,EAAhCA,MAAOuS,EAAyB,EAAzBA,MAEhC,EAAgC9B,mBAASzQ,GAAzC,mBAAOwS,EAAP,KAAiBC,EAAjB,KAcA,OAZAxB,qBAAU,WAEN,IAAMrI,EAAY8J,OAAOC,YAAW,WAChCF,EAAYzS,KACduS,GAEF,OAAO,WACHK,aAAahK,MAGnB,CAAC5I,EAAOuS,IAEHC,EDRmBK,CAAY,CAAC7S,MAAOoS,EAAWG,MAAM,MAW/D,OALAtB,qBAAU,WACPe,EAASM,KAEV,CAACA,IAGC,uBACI/T,KAAK,OACLM,UAAS,UAAKQ,KAAEsI,MAAP,YAAgB6I,GACzBxQ,MAAOoS,EACP5T,SAdgB,SAACyB,GACrBoS,EAAapS,EAAEC,cAAcF,QAczBf,YAAa,iB,oBEnBZ6T,GAA+CzL,IAAMC,MAAK,YAK5D,IAHHtH,EAGE,EAHFA,MACA+S,EAEE,EAFFA,MACAC,EACE,EADFA,SAEJ,EAA4BvC,oBAAS,GAArC,mBAAOxE,EAAP,KAAegH,EAAf,KACA,EAAkCxC,mBAASzQ,GAA3C,mBAAOkT,EAAP,KAAkBC,EAAlB,KAEMC,EAAiBL,EAAMM,MAAK,SAAAC,GAAC,OAAIA,EAAE1K,KAAOsK,KAC1CK,EAAeR,EAAMM,MAAK,SAAAC,GAAC,OAAIA,EAAE1K,KAAO5I,KAK9CiR,qBAAU,WACNkC,EAAanT,KACd,CAACA,IAuBJ,OACI,sBACIwT,SAAU,EACV3U,UAAWQ,KAAEoU,OACbC,QAzBe,SAACzT,GACpB,GAAc,YAAVA,EAAEE,KAA+B,cAAVF,EAAEE,IAAqB,CAC9C,IAAK,IAAIoR,EAAI,EAAGA,EAAIwB,EAAMhH,OAAQwF,IAC9B,GAAIwB,EAAMxB,GAAG3I,KAAOsK,EAAW,CAC3B,IAAIS,EAAkB,YAAV1T,EAAEE,IACR4S,EAAMxB,EAAI,GACVwB,EAAMxB,EAAI,GAIhB,YAHIoC,GACAX,EAASW,EAAM/K,KAKtB2K,GACDP,EAASD,EAAM,GAAGnK,IAGZ,UAAV3I,EAAEE,KAA6B,WAAVF,EAAEE,KACvB8S,GAAU,IAId,UAKI,qBACIpU,UAAWoN,EAAM,UAAM5M,KAAEqK,MAAR,YAAiBrK,KAAE4M,QAAW5M,KAAEqK,MACjDG,QArCS,WACjBoJ,GAAWhH,IAkCP,SAIKsH,GAAgBA,EAAavT,QAG9BiM,GACA,qBAAKpN,UAAWQ,KAAEsK,KAAlB,SACKoJ,EAAMxE,KAAI,SAAA+E,GAKP,OACI,qBACIzU,UAAWyU,IAAMF,EAAN,UAA0B/T,KAAEqJ,KAA5B,YAAoCrJ,KAAEuU,MAAtC,YAA+CvU,KAAE4M,QAAW5M,KAAEqJ,KAEzEmB,QARe,WACnBmJ,EAASM,EAAE1K,IACXqK,GAAU,IAONY,aAAc,kBAAMV,EAAaG,EAAE1K,KAJvC,SAMK0K,EAAEtT,OAJEsT,EAAE1K,e,oBCjE1BkL,GAA0CzM,IAAMC,MAAK,SAACC,GAE/D,IAAOxI,EAAyCwI,EAAzCxI,KAAMoL,EAAmC5C,EAAnC4C,KAAM4J,EAA6BxM,EAA7BwM,UAAW/B,EAAkBzK,EAAlByK,SAAShS,EAASuH,EAATvH,MAMjCgU,EAAmBD,EAAS,UAAM1U,KAAES,MAAR,YAAiBT,KAAE4M,QAAW5M,KAAES,MAClE,OACI,wBAAOjB,UAAWmV,EAAlB,UACI,uBACInV,UAAS,UAAKQ,KAAE4U,OAChB1V,KAAK,QAAQQ,KAAMA,EACnBiB,MAAOA,EACP6J,QAVQ,WAChBmI,EAAShS,MAWL,sBAAMnB,UAAWQ,KAAE8K,KAAnB,SAA0BA,U,8BCfzB+J,GAA6B7M,IAAMC,MAAK,SAACC,GAElD,IAAO4M,EAAsC5M,EAAtC4M,SAAUC,EAA4B7M,EAA5B6M,SAAUC,EAAkB9M,EAAlB8M,eAE3B,EAA4BhN,IAAMoJ,SAAmB,CAAC0D,EAAUC,IAAhE,mBAAOE,EAAP,KAAeC,EAAf,KAmBA,OACI,qCACI,oBAAI1V,UAAWQ,KAAEqK,MAAjB,6BAGA,qBAAK7K,UAAWQ,KAAEmV,MAAlB,SACI,cAACC,GAAA,EAAD,CACIC,QAAS,CACLC,MAAOtV,KAAEsV,MACT1I,OAAQ5M,KAAE4M,OAGV2I,KAAMvV,KAAEuV,KACRC,MAAOxV,KAAEwV,MACTC,WAAWzV,KAAES,OAEjBiV,aAAc,iBAAM,oBACpB/U,MAAOsU,EACP9V,SAnCM,SAClBwW,EACAC,EACAC,GAEKC,MAAMC,QAAQH,IAKfV,EADgB,IAAhBW,EACU,CAACrE,KAAKwE,IAAIJ,EAAS,GAAIX,EAAO,GAxBhC,IAwBmDA,EAAO,IAExD,CAACA,EAAO,GAAIzD,KAAKyE,IAAIL,EAAS,GAAIX,EAAO,GA1B3C,OAkDAiB,UAAW,kBAAMlB,EAAeC,IAChCkB,kBAAkB,OAClBC,aAAW,Y,oBC9ClBC,GAA6BrO,IAAMC,MAAK,SAAAC,GAEjD,IAAOoO,EAAyCpO,EAAzCoO,SAAU1C,EAA+B1L,EAA/B0L,UAAU2C,EAAqBrO,EAArBqO,QAASrV,EAAYgH,EAAZhH,SAQ9BsV,EAAoBF,EAAQ,UAAMtW,KAAEyW,MAAR,YAAiBzW,KAAE4M,QAAW5M,KAAEyW,MAC5DC,EAAsBJ,EAAQ,UAAMtW,KAAE0L,QAAR,YAAmB1L,KAAE4M,QAAW5M,KAAE0L,QAGtE,OACI,qBAAKlM,UAAWgX,EAAmBhM,QAXpB,WACfoJ,GAAU,EAAO2C,IAUjB,SACI,qBACI/W,UAAWkX,EACXlM,QAXS,SAAC5J,GAClBA,EAAE+N,mBAQE,SAIKzN,S,oBChBJyV,GAAkD3O,IAAMC,MAAK,SAAAC,GAEtE,IAAO0O,EAAkE1O,EAAlE0O,gBAAiBC,EAAiD3O,EAAjD2O,qBAAsBxM,EAA2BnC,EAA3BmC,MAAOyM,EAAoB5O,EAApB4O,SAASP,EAAWrO,EAAXqO,QAE9D,EAAiCnF,mBAAS0F,GAAY,IAAtD,mBAAM/D,EAAN,KAAiBC,EAAjB,KAUM+D,EAAmB,WACrBF,GAAqB,EAAON,IAEhC,OACI,sBAAK/W,UAAWQ,KAAEwG,UAAlB,UACI,sBAAKhH,UAAWQ,KAAEgX,IAAlB,UACI,6BAAK3M,IACL,sBAAMG,QAASuM,EAAf,kBAEJ,sBAAKvX,UAAWQ,KAAEsK,KAAlB,UACI,0CACA,uBACIpL,KAAK,OACLC,SArBQ,SAACyB,GACrBoS,EAAapS,EAAEC,cAAcF,QAqBjBA,MAAOoS,OAGf,sBAAKvT,UAAWQ,KAAEuK,KAAlB,UACI,cAAC,EAAD,CACI/K,UAAS,UAAKQ,KAAE+K,IAAP,YAAc/K,KAAEiX,QACzBzM,QAASuM,EAFb,oBAMA,cAAC,EAAD,CAAavX,UAAS,UAAKQ,KAAE+K,IAAP,YAAc/K,KAAEkX,MAAQ1M,QA5BjC,WACrBoM,EAAgB7D,GAChBC,EAAa,KA0BL,2B,oBCtCHmE,GAAmDnP,IAAMC,MAAK,SAAAC,GAEvE,IAAOoI,EAA8DpI,EAA9DoI,WAAY8G,EAAkDlP,EAAlDkP,UAAWP,EAAuC3O,EAAvC2O,qBAAsBQ,EAAiBnP,EAAjBmP,cAK9CN,EAAmB,WACrBF,GAAqB,EAAO,OAEhC,OACI,sBAAKrX,UAAWQ,KAAEwG,UAAlB,UACI,sBAAKhH,UAAWQ,KAAEgX,IAAlB,UACI,6BACsB,eAAlBK,EAAA,8BAIJ,sBAAM7M,QAASuM,EAAf,kBAEJ,sBAAKvX,UAAS,UAAKQ,KAAEsK,KAAP,YAAegN,KAAGhN,MAAhC,UACI,8DAAgC,sBAAM9K,UAAW8X,KAAGxM,KAApB,SAEN,eAAlBuM,EAAA,sBACqBD,EADrB,oCAE8BA,QAGtC,4BAE0B,eAAlBC,EAAA,2FAKZ,sBAAK7X,UAAWQ,KAAEuK,KAAlB,UACI,cAAC,EAAD,CACI/K,UAAS,UAAKQ,KAAE+K,IAAP,YAAc/K,KAAEiX,QACzBzM,QAASuM,EAFb,oBAMA,cAAC,EAAD,CAAavX,UAAS,UAAKQ,KAAE+K,IAAP,YAAcuM,KAAGC,QAC1B/M,QAvCC,WACtB8F,KAqCQ,6BCpDV7L,GAAQC,sBAAY,CACtBhF,KAAM,WACNiF,aAAc,CACViK,SAAU,GACVoH,IAAK,EACLC,IAAK,GACLuB,UAAW,WACXC,KAAM,EACNC,UAAW,GACXhJ,QAAS,MAEb3J,SAAU,CACN4S,kBADM,SACY1S,EAAOC,GACrB,OAAO,eAAIA,EAAOC,aAKjByS,GAAkBnT,GAAMgB,QACvBkS,GAAqBlT,GAAMiB,QAA3BiS,kB,oBCZDE,GAAO,WAEhB,IAAMlS,EAAOpB,GAAe,SAAAU,GAAK,OAAIA,EAAMiJ,aAAavI,QAClDQ,EAAW9B,IAEXwS,EAAuBiB,uBAAY,SAACnX,EAAgBoX,EAChBC,GACtC7R,EAASb,GAAiB3E,IACrBA,EAODwF,EAASZ,GAAgBwS,IALzBzE,YAAW,WACPnN,EAASZ,GAAgB,SAC1B,OAKR,CAACY,IAEJ,OACI,mCACI,sBAAK3G,UAAWQ,KAAEwG,UAAlB,UACI,qBAAK6D,MAAO,MAAO7K,UAAWQ,KAAEuL,MAAhC,SAEQ5F,EAAKsS,OACC,qBAAKrP,IAAKjD,EAAKsS,OAAQrO,IAAI,KAC3B,cAAC,KAAD,CAAYpK,UAAWQ,KAAEkY,YAGvC,oBAAI1Y,UAAWQ,KAAEN,KAAjB,SACKiG,EAAKjG,OAEV,mBAAGF,UAAWQ,KAAE8K,KAAhB,iCAGA,wBAAQ5L,KAAM,SACNM,UAAWQ,KAAE+K,IACbP,QAAS,kBAAMqM,GAAqB,EAAM,gBAFlD,gC,6DC7CHsB,GAAa,uCAAG,WAAOC,GAAP,SAAAnW,EAAA,+EAElB,IAAIoW,SAAQ,SAACC,EAASC,GAEzB,IAAMC,EAAa,IAAIC,WACvBD,EAAWE,cAAcN,GAEzBI,EAAWG,OAAS,WAChBL,EAAQE,EAAWhW,SAEvBgW,EAAWI,QAAU,SAACrZ,GAClBgZ,EAAOhZ,QAXU,2CAAH,sD,SC4CbsZ,GAAmD7Q,IAAMC,MAAK,SAAAC,GAAU,IAAD,IAGxE2O,EAIA3O,EAJA2O,qBACAiC,EAGA5Q,EAHA4Q,YACAvC,EAEArO,EAFAqO,QACAwC,EACA7Q,EADA6Q,kBAGJ,EAAkC3H,mBAA6B,CAC3D4H,SAAUF,EAAYE,SACtBf,OAAQa,EAAYb,QAAU,KAFlC,mBAAOlF,EAAP,KAAkBC,EAAlB,KAKA,EAMIiG,aAA4B,CAC5BC,KAAM,WACNC,cAAe,CACXH,SAAUF,EAAYE,SACtBf,OAAQa,EAAYb,QAAU,MATlCmB,EADJ,EACIA,SACAhS,EAFJ,EAEIA,aACYE,EAHhB,EAGI+R,UAAY/R,OAEZgS,GALJ,EAIIC,MAJJ,EAKID,WAUEE,EAAiB,uCAAG,WAAOpX,GAAP,eAAAH,EAAA,kEAGS,kBAAhBG,EAAK6V,OAHE,gBAIdc,EAAkB3W,EAAK4W,SAAU5W,EAAK6V,QAJxB,2BAMV7V,EAAK6V,OAAO,GANF,iCAOWE,GAAc/V,EAAK6V,OAAO,IAPrC,OAOJwB,EAPI,OAQVV,EAAkB3W,EAAK4W,SAAUS,GARvB,wBAUVV,EAAkB3W,EAAK4W,SAAU,IAVvB,oHAAH,sDAiBjBjC,EAAmB,WACrBF,GAAqB,EAAON,IAE1BmD,EAAiB,uCAAG,WAAO9Y,GAAP,qBAAAqB,EAAA,yDAEO,SAAxBrB,EAAU+Y,OAAOpQ,GAFA,qBAID+P,IAAVrB,EAJW,EAIXA,SACD2B,EAAc3B,EAAO,IALT,gCAQOE,GAAcyB,GARrB,OAQRH,EARQ,OASdzG,EAAa,2BAAID,GAAL,IAAgBkF,OAAQwB,KATtB,2CAAH,sDAcvB,OACI,sBAAKja,UAAWQ,KAAEwG,UAAlB,UACI,sBAAKhH,UAAWQ,KAAEgX,IAAlB,UACI,sDACA,sBAAMxM,QAASuM,EAAf,kBAEJ,uBACIlQ,SAAUO,EAAaoS,GACvBra,SAAUua,EAFd,cAGI,sBAAKla,UAAWQ,KAAEsK,KAAlB,UACI,qBAAK9K,UAAW8X,KAAGW,OAAnB,SACI,sBAAKzY,UAAW8X,KAAGuC,kBAAnB,UAEQ9G,EAAUkF,OACJ,qBAAKrP,IAAKmK,EAAUkF,OAAQrO,IAAI,KAChC,cAAC,KAAD,CAAYpK,UAAW8X,KAAGY,UAEpC,wBAAO5O,QAAS,OAAQ9J,UAAW8X,KAAGwC,SAAtC,UACI,+CACIvQ,GAAI,OACJrK,KAAK,OACL6a,OAAQ,mBACJX,EAAS,WAJjB,IAKI5Z,UAAW8X,KAAG0C,WAElB,cAAC,KAAD,CAAezY,MAAO,CAClB0Y,SAAU,OACVC,MAAO,UACPC,OAAQ,sBAMd,OAAN7S,QAAM,IAANA,OAAA,EAAAA,EAAQ2Q,SACL,qBACCzY,UAAW,QADZ,UAC4B,OAAN8H,QAAM,IAANA,GAAA,UAAAA,EAAQ2Q,cAAR,eAAgBxU,UAAW,oBAExD,yCACA,qCACQ2V,EAAS,WAAY,CACrBgB,UAAU,CACNzZ,MAAM,EACN8C,QAAS,uBAEb4W,UAAU,CACN1Z,MAAM,GACN8C,QAAS,wBAKX,OAAN6D,QAAM,IAANA,OAAA,EAAAA,EAAQ0R,WACL,qBACCxZ,UAAW,QADZ,UAC4B,OAAN8H,QAAM,IAANA,GAAA,UAAAA,EAAQ0R,gBAAR,eAAkBvV,UAAW,WAE1D,sCACA,uBACI9C,MAAOmY,EAAYnX,MACnB+F,UAAQ,OAGhB,sBAAKlI,UAAWQ,KAAEuK,KAAlB,UACI,cAAC,EAAD,CACI/K,UAAS,UAAKQ,KAAE+K,IAAP,YAAc/K,KAAEiX,QACzBzM,QAASuM,EAFb,oBAMA,cAAC,EAAD,CACI7X,KAAM,SACNM,UAAS,UAAKQ,KAAE+K,IAAP,YAAc/K,KAAEkX,MAF7B,8BCtIlBoD,GAA0C,CAC5C,CACI/Q,GAAI,IACJ5I,MAAO,MAEX,CACI4I,GAAI,IACJ5I,MAAO,MAEX,CACI4I,GAAI,IACJ5I,MAAO,OAWF4Z,GAAqCvS,IAAMC,MAAK,SAACC,GAAW,IAAD,EAE7D4F,EAAe5F,EAAf4F,YAEP,EAAwC0M,cAAxC,mBAAOC,EAAP,KAAqBC,EAArB,KAEA,EAAgDtJ,mBAASkJ,GAAc,GAAG/Q,IAA1E,mBAAOoR,EAAP,KAAyBC,EAAzB,KACA,EAAgCxJ,mBAAuB,CACnD7H,GAAI,GACJ7J,KAAM,KAFV,mBAAOmb,EAAP,KAAiBC,EAAjB,KAKMC,EAAexW,GAAe,SAAAU,GAAK,OAAIA,EAAM8G,IAAIjH,gBACjDoI,EAAS3I,GAAe,SAAAU,GAAK,OAAIA,EAAM8G,IAAInH,cAC3CqJ,EAAS1J,GAAe,SAAAU,GAAK,OAAIA,EAAMiJ,aAAavI,KAAKwI,OACzD6M,EAAczW,GAAe,SAAAU,GAAK,OAAIA,EAAM8G,IAAIlH,iBAChDoW,EAAc1W,GAAe,SAAAU,GAAK,OAAIA,EAAMiW,YAElD,EACI3W,GAAe,SAAAU,GAAK,OAAIA,EAAMiJ,aAAavI,QADlCwV,EAAb,EAAOzb,KAA2B0b,EAAlC,EAA2BzZ,MAA0B0Z,EAArD,EAA6CpD,OAGvC9R,EAAW9B,IAEX4B,EAAWC,cACjB,EAKIuK,GAAoB,2BACjBwK,GADgB,IAGnBvM,QAAyB,gBAAhBZ,EAAgCG,EAASgN,EAAYvM,UAC/D,CACC4M,MAAOpO,IATDqO,EADV,EACInZ,KACAoZ,EAFJ,EAEIA,UAEOC,GAJX,EAGIC,WAHJ,EAIInc,OASJ,EAAqBoR,KAAdgL,EAAP,oBACA,EAAqB/K,KAAdN,EAAP,oBACA,EAAqBO,KAAdL,EAAP,oBACA,EAAwBtM,IAAjB0X,EAAP,oBACA,EAAwB3X,IAAjBP,EAAP,oBAEA,EAAqBgN,KAAfmL,GAAN,oBAEMzZ,GAAO4L,mBAAQ,kBAAMuN,EAAWA,EAASO,UAAY,KAAI,CAACP,IAE1DQ,GAAwBjE,uBAAY,SAACL,GACvCtR,EAASwR,GAAkB,2BAAIsD,GAAL,IAAkBxD,aAC7C,CAACwD,EAAa9U,IAEX6V,GAAiBlE,uBAAY,SAAClJ,GAChCzI,EAASwR,GAAkB,2BAAIsD,GAAL,IAAkBrM,iBAC7C,CAACqM,EAAa9U,IAEX8V,GAAuBnE,uBAAY,SAACpY,GAElCyG,EAASwR,GADA,OAATjY,EAC2B,2BACpBub,GADmB,IAEtBvM,QAAST,IAGc,2BAAIgN,GAAL,IAAkBvM,QAAS,WAE1D,CAACuM,EAAahN,EAAQ9H,IAEnBwH,GAAWmK,uBAAY,WACzB,IAAMoE,EAA2C,aAA1BjB,EAAYzD,UAA2B,WAAa,WAC3ErR,EAASwR,GAAkB,2BAAIsD,GAAL,IAAkBzD,UAAW0E,QACxD,CAACjB,EAAa9U,IAEX6O,GAAiB8C,uBAAY,SAACzR,GAChCF,EAASwR,GAAkB,2BACpBsD,GADmB,IAEtBjF,IAAK3P,EAAO,GACZ4P,IAAK5P,EAAO,SAEjB,CAAC4U,EAAa9U,IAEX0Q,GAAuBiB,uBAAY,SAACnX,EAAgBoX,EAChBC,GACtC7R,EAASb,GAAiB3E,IACrBA,GAQmB,eAAhBoX,GAAgD,aAAhBA,EAChCC,GAAQ8C,EAAY,eAAI9C,IAExB8C,EAAY,CAACvR,GAAI,GAAI7J,KAAM,KAE/ByG,EAASZ,GAAgBwS,KAXzBzE,YAAW,WACPwH,EAAY,CAACvR,GAAI,GAAI7J,KAAM,KAC3ByG,EAASZ,GAAgB,SAC1B,OAUR,CAACY,IAGEgW,GAAoBrE,sBAAW,uCAAC,WAAOpY,GAAP,eAAAuC,EAAA,6DAClCkE,EAASnB,EAAa,YADY,kBAKP2W,EAAW,CAACjc,SALL,cAKxBiD,EALwB,gBAOxBkZ,GAAY,2BAAIZ,GAAL,IAEbvM,QAAyB,gBAAhBZ,EAAgCG,EAASgN,EAAYvM,WATpC,OAY9BvI,EAASb,IAAiB,IAC1Ba,EAASnB,EAAa,cACtBiB,EAAS,uCAAD,OAAyCtD,EAA2BP,KAAK+L,KAC7E,CACI5H,SAAS,EACTtB,MAAO,CACH2J,SAAUlP,EACVmQ,WAAalN,EAA2BP,KAAKsM,WAnB3B,kDAwB9BvI,EAASnB,EAAa,WAxBQ,0DAAD,sDA0BlC,CAAC2W,EAAYxV,EAAUF,IAEpB8S,GAAoBjB,sBAAW,uCAAC,WAAOkB,EACAf,GADP,eAAAhW,EAAA,6DAElCkE,EAASnB,EAAa,YAFY,kBAIxB4W,EAAc,CAAClc,KAAMsZ,EAAUf,OAAQA,IAJf,uBAKPvU,IAAgB4C,SALT,OAKxB3D,EALwB,OAM9BwD,EAASP,GAAQjD,IACjBwD,EAASb,IAAiB,IAC1Ba,EAASnB,EAAa,cARQ,kDAU9BmB,EAASnB,EAAa,WAVQ,0DAAD,wDAYlC,CAACmB,EAAUyV,EAAelY,IAEvB0Y,GAAoBtE,sBAAW,uCAAC,WAAOpY,GAAP,SAAAuC,EAAA,6DAClCkE,EAASnB,EAAa,YADY,kBAGxBwL,EAAW,CAACrC,IAAK0M,EAAStR,GAAI7J,SAHN,OAI9ByG,EAASb,IAAiB,IAC1Ba,EAASnB,EAAa,cALQ,gDAO9BmB,EAASnB,EAAa,WAPQ,yDAAD,sDASlC,CAACmB,EAAU0U,EAAStR,GAAIiH,IAErB6L,GAAoBvE,sBAAW,sBAAC,sBAAA7V,EAAA,6DAClCkE,EAASnB,EAAa,YADY,kBAGxBsL,EAAW,CAAC/G,GAAIsR,EAAStR,KAHD,OAI9BpD,EAASb,IAAiB,IAC1Ba,EAASnB,EAAa,cALQ,gDAO9BmB,EAASnB,EAAa,WAPQ,yDASnC,CAACmB,EAAUmK,EAAYuK,IAoC1B,OAhCAjJ,qBAAU,WAEN8I,EAAgB,2BAAI4B,OAAOC,QAAQ9B,IAAkBQ,MACtD,CAACM,EAAUN,EAAaR,EAAcC,IAGzC9I,qBAAU,WAEU,gBAAhB9D,GAAyD,OAAxBmN,EAAYvM,SAC1CvI,EAASwR,GAAkB,2BAAIsD,GAAL,IAAkBvM,QAAST,QACzD,CAACH,EAAaG,EAAQ9H,IAGzByL,qBAAU,WACN,IAAM4K,EAAKlC,GAActG,MAAK,SAAAyI,GAAM,OAAIA,EAAOlT,KAAOoR,KAClD6B,GACArW,EAASwR,GAAkB,2BACpBsD,GADmB,IAEtBvD,UAAWgF,OAAOF,EAAG7b,aAG9B,CAACga,EAAkBxU,IAWjB+G,EAKD,mCACKsO,EACK,cAAC,GAAD,IAGFC,EAAoB,qBAAKjc,UAAW,QAAhB,UAER,OAACic,QAAD,IAACA,GAAD,UAACA,EAAgDrZ,YAAjD,eAAuD7C,QAAS,sGAIxE,qCACI,sBAAKC,UAAWQ,KAAEkb,SAAlB,UACI,sBAAK1b,UAA2B,aAAhBsO,EACV9N,KAAE2c,WADQ,UAEP3c,KAAE2c,WAFK,YAES3c,KAAE4c,WAF3B,UAGqB,aAAhB9O,EACK,qCACE,oBAAItO,UAAWQ,KAAEqK,MAAjB,6BAEA,sBAAK7K,UAAWQ,KAAE6c,aAAlB,UACI,cAACpI,GAAD,CACIC,UAAmC,OAAxBuG,EAAYvM,QACvBhP,KAAM,aAAcoL,KAAM,KAC1BnK,MAAO,KACPgS,SAAUsJ,KACd,cAACxH,GAAD,CACIC,UAAmC,OAAxBuG,EAAYvM,QACvB/N,MAAO,MACPjB,KAAM,aAAcoL,KAAM,MAC1B6H,SAAUsJ,WAGpB,cAAC,GAAD,IAEN,qBAAKzc,UAA2B,aAAhBsO,EACV9N,KAAE4c,UACF5c,KAAE8c,eAFR,SAGI,cAACjI,GAAD,CACIC,SAAUmG,EAAYjF,KAAO,EAC7BjB,SAAUkG,EAAYhF,KAAO,IAC7BjB,eAAgBA,UAG5B,sBAAKxV,UAAWQ,KAAE+c,UAAlB,UACI,oBAAIvd,UAAWQ,KAAEqK,MAAjB,wBACA,sBAAK7K,UAAWQ,KAAEgd,OAAlB,UACI,cAACnK,GAAD,CACIC,YAAamI,EAAYrM,UAAY,GACrC+D,SAAUqJ,GACV7K,SAAUnR,KAAEsI,QAEhB,wBACIkC,QAAS,kBAAMqM,IAAqB,EAAM,YAC1CrX,UAAWQ,KAAEid,OAFjB,wBAMJ,cAAC,GAAD,CACI7a,KAAMA,GACNuL,SAAUA,GACVC,gBAAiBiJ,GACjBhJ,WAAYoN,EAAYzD,UACxB1J,YAAaA,IAEjB,sBAAKtO,UAAWQ,KAAEkd,WAAlB,UACI,cAACpM,GAAD,CACIC,YAAoB,OAARwK,QAAQ,IAARA,OAAA,EAAAA,EAAU4B,sBAAuB,EAC7CnM,SAAUiK,EAAYvD,WAAa,GACnCzG,YAAagK,EAAYxD,MAAQ,EACjCvG,eAAgB6K,KAEpB,sBAAKvc,UAAWQ,KAAEod,WAAlB,UACI,wCACA,cAAC3J,GAAD,CACI9S,MAAOga,EACPjH,MAAO4G,GACP3G,SAAUiH,IAEd,8DAKhB,cAACvE,GAAD,CACIC,SAAU0E,EACVpH,UAAWiD,GACXN,QAASwE,EAHb,SAMyB,YAAjBA,EACM,cAACpE,GAAD,CACEC,gBAAiBuF,GACjBtF,qBAAsBA,GACtBxM,MAAO,eACPkM,QAAS,YAEM,aAAjBwE,EACA,cAACpE,GAAD,CACEC,gBAAiBwF,GACjBvF,qBAAsBA,GACtBxM,MAAO,YACPyM,SAAU+D,EAASnb,KACnB6W,QAAS,aAEM,eAAjBwE,EACI,cAAC5D,GAAD,CACEC,UAAWyD,EAASnb,KACpB4Q,WAAY+L,GACZxF,qBAAsBA,GACtBQ,cAAe,eAEA,gBAAjB0D,GACI,cAAClC,GAAD,CACEhC,qBAAsBA,GACtBiC,YAAa,CACTE,SAAUmC,EACVxZ,MAAOyZ,EACPnD,OAAQoD,GAEZ9E,QAAS,cACTwC,kBAAmBA,YA7HpD,cAAC,IAAD,CAAUjR,GAAI,SAAUvB,SAAO,OCnQjC8W,GAAU,WAGnB,OACI,cAAC9C,GAAD,CAAWzM,YAAa,iBC4DnBwP,GAAWza,oBAAU,CAC9BC,YAAa,WACbC,UAAWhB,EAAe,CAACC,QAAS,yCACpC+N,SAAU,CAAC,SACX/M,UAAW,SAACC,GAAD,MAAY,CACnBsa,eAAgBta,EAAMG,MAAsD,CACxEA,MAAO,SAACC,GAAD,MAAU,CACbnB,IAAK,aACLG,OAAO,eACAgB,GAEPlB,OAAQ,QAEZ8N,aAAc,CAAC,WAEnBuN,cAAeva,EAAME,SAA6D,CAC9EC,MAAO,SAACC,GAAD,MAAU,CACbnB,IAAK,aACLC,OAAQ,OACRC,KAAK,eAAKiB,OAIlBoa,WAAYxa,EAAME,SAAoD,CAClEC,MAAO,SAACC,GAAD,MAAU,CACbnB,IAAK,aACLC,OAAQ,SACRE,OAAO,eAAKgB,KAEhBkN,gBAAiB,CAAC,WAEtBmN,SAAUza,EAAME,SAA0C,CACtDC,MAAO,SAACC,GAAD,MAAU,CACbnB,IAAK,aACLC,OAAQ,MACRC,KAAK,eAAKiB,KAEdkN,gBAAiB,CAAC,WAEtBoN,aAAc1a,EAAME,SAAgE,CAChFC,MAAM,SAACC,GAAD,MAAU,CACZnB,IAAK,cACLC,OAAQ,MACRC,KAAK,eAAKiB,WAQtBua,GAMAN,GANAM,uBACAC,GAKAP,GALAO,2BACAC,GAIAR,GAJAQ,yBACAC,GAGAT,GAHAS,sBACAC,GAEAV,GAFAU,oBACAC,GACAX,GADAW,wBC3HSC,GAAe,CACxB,CACIpR,OAAQ,WACRQ,SAAU,YAEd,CACIR,OAAQ,SACRQ,SAAU,UAEd,CACIR,OAAQ,eACRQ,SAAU,UACVC,KAAM,YAA+B,IAA7B5M,EAA4B,EAA5BA,MACJ,OAAO6M,aAAO,IAAIC,KAAK9M,GAAQ,gBAIvC,CACImM,OAAQ,QACRQ,SAAU,W,oBCPL6Q,GAAkC,SAACjW,GAE5C,IAAOkW,EAAyClW,EAAzCkW,MAAOC,EAAkCnW,EAAlCmW,eA4BRC,GA5B0CpW,EAAlBqW,eA4BN/V,iBAA8B,OAuBhDgW,EAAY,SAAC5d,GACfyd,GAAkBA,EAAe3B,OAAO9b,EAAEC,cAAcF,SAS5D,OANAiR,qBAAU,WACH0M,EAAgB3V,UACf2V,EAAgB3V,QAAQpH,MAAMkd,MAA9B,UAA8DL,ECvEvD,IDuEP,QAEN,CAACA,IAGC,qBAAK5e,UAAWQ,KAAE0e,QAAlB,SACI,sBAAMxZ,OAAO,IAAI1F,UAAWQ,KAAEwD,KAA9B,SA0CI,qBAAKhE,UAAWQ,KAAE2e,WAAlB,SACI,qBAAKnf,UAAWQ,KAAE4e,OAAlB,SACI,sBAAKpf,UAAWQ,KAAE6e,aAAlB,UACI,qBAAKrV,IAAK8U,EAAiB9e,UAAWQ,KAAE8e,eAAxC,eACA,qBAAKtf,UAAWQ,KAAE+e,cAAlB,SA5GkB,CACtC,CACIxV,GAAI,IACJ7J,KAAK,SACLiB,MAAO,GAEX,CACI4I,GAAI,IACJ7J,KAAK,SACLiB,MAAO,GAEX,CACI4I,GAAI,IACJ7J,KAAK,SACLiB,MAAO,GAEX,CACI4I,GAAI,IACJ7J,KAAK,SACLiB,MAAO,GAEX,CACI4I,GAAI,IACJ7J,KAAK,SACLiB,MAAO,IAsF6BuO,KAAI,SAAA8P,GAAI,OAChB,mCAEIxf,UAAWQ,KAAEif,aACb/f,KAAK,QAGLsL,QAASgU,GACLQ,GANCA,EAAKzV,qBE9GzC2V,GAAiC,SAAC,GAMO,IALH9c,EAKE,EALFA,KACAuL,EAIE,EAJFA,SACAwR,EAGE,EAHFA,YACAtR,EAEE,EAFFA,WACAD,EACE,EADFA,gBAGzCG,EAAUC,mBAAQ,kBAAMkQ,KAAc,IACtCjQ,EAAS1J,GAAe,SAAAU,GAAK,OAAIA,EAAMiJ,aAAavI,KAAKwI,OAgD/D,EAMIC,oBAAS,CAETL,UACA3L,SAvDe,SAACiM,GAChB8Q,GAAe9Q,EAAMC,eAAeC,MAAK,SAACR,GAAD,6BAClCA,GADkC,CAErC,CACIjB,OAAQ,UACRvD,GAAI,UACJgE,KAAM,YAAiB,IAAfiB,EAAc,EAAdA,IACJ,OACI,sBAAKhP,UAAW,UAAhB,UACI,wBACIA,UAAW,uBACXgL,QAAS,WACLoD,GAAgB,EAAK,aAAc,CAC/BrE,GAAIiF,EAAIC,SAASN,IACjBiR,SAAS5Q,EAAIC,SAAS2Q,SACtBC,OAAO7Q,EAAIC,SAAS4Q,OACpBC,UAAW9Q,EAAIC,SAAS6Q,UACxBC,YAAa/Q,EAAIC,SAAS8Q,YAC1BC,YAAahR,EAAIC,SAAS+Q,YAC1BC,cAAejR,EAAIC,SAASgR,iBAVxC,oBAiBA,wBAAQjgB,UAAW,qBACXgL,QAAS,SAAC5J,GACNgN,GAAgB,EAAK,WAAY,CAC7BrE,GAAIiF,EAAIC,SAASN,IACjBiR,SAAS5Q,EAAIC,SAAS2Q,SACtBC,OAAO7Q,EAAIC,SAAS4Q,OACpBC,UAAW9Q,EAAIC,SAAS6Q,UACxBC,YAAa/Q,EAAIC,SAAS8Q,YAC1BC,YAAahR,EAAIC,SAAS+Q,YAC1BC,cAAejR,EAAIC,SAASgR,iBAT5C,+BAqBpB5Q,EADJ,EACIA,cACAC,EAFJ,EAEIA,kBACAC,EAHJ,EAGIA,aACAC,EAJJ,EAIIA,KACAC,EALJ,EAKIA,WAOJ,OACI,mCACI,kDAAWJ,KAAX,cACI,gCAEIE,EAAaG,KAAI,SAAAC,GAAW,OACxB,8CAAQA,EAAYC,uBAApB,aAEQD,EAAYE,QAAQH,KAAI,SAAAI,GAEpB,MAAsB,iBAAlBA,EAAOxC,OAEH,4CACItN,UAA0B,aAAfqO,EACL,OACA,aAEFyB,EAAOC,kBALf,IAMI/E,QAASmD,EANb,SAQK2B,EAAOE,OAAO,aAKnB,8CAAQF,EAAOC,kBAAf,aACKD,EAAOE,OAAO,wBAU/C,iDAAWV,KAAX,aAEIE,EAAKE,KAAI,SAACV,EAAIkR,GAGV,OADAzQ,EAAWT,GAGP,8CAAQA,EAAIiB,eAAZ,aAGQjB,EAAIkB,MAAMR,KAAI,SAACS,EAAMgQ,GACjB,OAAO,8CAAQhQ,EAAKC,gBAAb,aAEwB,UAAvBD,EAAKL,OAAOxC,OACV,cAAC,GAAD,CACMsR,MAAOhc,EAAKsd,GAAUtB,MACtBG,eAAgB/P,EAAIC,SAASC,UAAYyD,OAAOlE,KAEtD0B,EAAKH,OAAO,8B,yCCvIjDoQ,GAA6C5X,IAAMC,MAAK,SAAAC,GAEjE,IAAOkQ,EAAQlQ,EAARkQ,KACP,OACI,oCAEQA,GACe,eAAdA,EAAKlZ,MACe,cAAdkZ,EAAKlZ,MACS,kBAAdkZ,EAAKlZ,MAQQ,eAAdkZ,EAAKlZ,MACU,cAAdkZ,EAAKlZ,MACS,cAAdkZ,EAAKlZ,OACN,qBAAKM,UAAWQ,KAAEoY,KAAlB,SACE,uBAAOyH,QAAQ,WAAWC,UAAQ,EAAlC,SACI,wBACI5gB,KAAMkZ,EAAKlZ,KACX0J,IAAKwP,EAAK1Y,WAbpB,qBAAKF,UAAWQ,KAAEoY,KAAlB,SACE,qBACIxP,IAAKwP,EAAK1Y,KACVkK,IAAI,YC0CnBmW,GAAkD/X,IAAMC,MAAK,SAAAC,GAAU,IAAD,IAExE8X,EAA8D9X,EAA9D8X,WAAYnJ,EAAkD3O,EAAlD2O,qBAAsBxM,EAA4BnC,EAA5BmC,MAAO4V,EAAqB/X,EAArB+X,SAAU1J,EAAWrO,EAAXqO,QAE1D,EAA0BnF,mBAAoB,CAC1C8O,aAAc,CACVhhB,KAAM,GACNQ,KAAM,IAEVygB,WAAY,CACRjhB,KAAM,GACNQ,KAAM,MAPd,mBAAO0gB,EAAP,KAAcC,EAAd,KAWA,EAMIpH,aAAqE,CACrEC,KAAM,WACNC,cAAe,CACX5P,IAAY,OAAR0W,QAAQ,IAARA,OAAA,EAAAA,EAAU1W,KAAM,GACpB6V,UAAkB,OAARa,QAAQ,IAARA,OAAA,EAAAA,EAAUb,WAAY,GAChCC,QAAgB,OAARY,QAAQ,IAARA,OAAA,EAAAA,EAAUZ,SAAU,GAC5Ba,cAAsB,OAARD,QAAQ,IAARA,OAAA,EAAAA,EAAUT,eAAV,OAAyBS,QAAzB,IAAyBA,OAAzB,EAAyBA,EAAUR,gBAAiB,GAClEU,YAAoB,OAARF,QAAQ,IAARA,OAAA,EAAAA,EAAUX,aAAV,OAAuBW,QAAvB,IAAuBA,OAAvB,EAAuBA,EAAUV,cAAe,MAZhEnG,EADJ,EACIA,SACAhS,EAFJ,EAEIA,aACYE,EAHhB,EAGI+R,UAAY/R,OACZiS,EAJJ,EAIIA,MACAD,EALJ,EAKIA,UAaJ1H,qBAAU,WACN,MAAmC0H,IAA5B4G,EAAP,EAAOA,aAAcC,EAArB,EAAqBA,WACrB,GAAGD,EAAc,CACb,IAAMI,EAAMJ,EAAazb,MAAMyb,EAAaK,QAAQ,KAAO,EAAGL,EAAaK,QAAQ,MACnFF,EAAS,2BAAID,GAAL,IAAYF,aAAa,CAC7BxgB,KAAKwgB,EACDhhB,KAAKohB,MAGjB,GAAGH,EAAY,CACX,IAAMG,EAAMH,EAAW1b,MAAM0b,EAAWI,QAAQ,KAAO,EAAGJ,EAAWI,QAAQ,MAC7EF,EAAS,2BAAID,GAAL,IAAYD,WAAW,CACvBzgB,KAAKygB,EACLjhB,KAAKohB,SAGnB,CAAChH,IAEH,IA4BMvC,EAAmB,WACrBF,GAAqB,EAAON,IAG1BmD,EAAiB,uCAAG,WAAO9Y,GAAP,uBAAAqB,EAAA,yDAEhBoE,EAASiT,KAEV1Y,EAAU+Y,OAAO6G,QAAQ9gB,KAJR,oBAOF,aAFSkB,EAAU+Y,OAAO6G,QAAQ9gB,KALhC,sBAQR+gB,EAAYpa,EAAO6Z,aAAa,IARxB,iCAWW/H,GAAcsI,GAXzB,OAWJhH,EAXI,OAYV4G,EAAS,2BACFD,GADC,IAEJF,aAAc,CACVxgB,KAAM+Z,EAENva,KAAMuhB,EAAUvhB,SAjBd,qCAsBRuhB,EAAYpa,EAAO8Z,WAAW,IAtBtB,kCAyBWhI,GAAcsI,GAzBzB,QAyBJhH,EAzBI,OA0BV4G,EAAS,2BACFD,GADC,IAEJD,WAAY,CACRzgB,KAAM+Z,EAENva,KAAMuhB,EAAUvhB,SA/Bd,4CAAH,sDAuCjBwhB,EAAmB,SAACnK,GAEN,aAAZA,GACAgD,EAAM,2BAAID,KAAL,IAAkB4G,aAAc,MACrCG,EAAS,2BAAID,GAAL,IAAYF,aAAc,CAACxgB,KAAM,GAAIR,KAAM,SAEnDqa,EAAM,2BAAID,KAAL,IAAkB6G,WAAY,MACnCE,EAAS,2BAAID,GAAL,IAAYD,WAAY,CAACzgB,KAAM,GAAIR,KAAM,SAIzD,OACI,sBAAKM,UAAWQ,KAAEwG,UAAlB,UACI,sBAAKhH,UAAWQ,KAAEgX,IAAlB,UACI,6BAAK3M,IACL,sBAAMG,QAASuM,EAAf,kBAEJ,uBAAMlQ,SAAUO,GAxFE,SAACuZ,GACvBX,EAAW,2BACJW,GADG,IAENnB,YACgC,cAA5BY,EAAMF,aAAahhB,MACS,eAA5BkhB,EAAMF,aAAahhB,MACS,kBAA5BkhB,EAAMF,aAAahhB,KACbkhB,EAAMF,aAAaxgB,KAAO,KAEpC+f,cACgC,cAA5BW,EAAMF,aAAahhB,MACS,cAA5BkhB,EAAMF,aAAahhB,MACS,eAA5BkhB,EAAMF,aAAahhB,KACbkhB,EAAMF,aAAaxgB,KAAO,KAEpC4f,UAC8B,cAA1Bc,EAAMD,WAAWjhB,MACS,eAA1BkhB,EAAMD,WAAWjhB,MACS,kBAA1BkhB,EAAMD,WAAWjhB,KACXkhB,EAAMF,aAAaxgB,KAAO,KAEpC6f,YAC8B,cAA1Ba,EAAMD,WAAWjhB,MACS,cAA1BkhB,EAAMD,WAAWjhB,MACS,eAA1BkhB,EAAMD,WAAWjhB,KACXkhB,EAAMF,aAAaxgB,KAAO,WAgE9BP,SAAUua,EADhB,UAEI,sBAAKla,UAAWQ,KAAEsK,KAAlB,UACI,yCACA,qCACQ8O,EAAS,WAAY,CACrBgB,UAAW,CACPzZ,MAAO,EACP8C,QAAS,oBAIrB,cAACmc,GAAD,CAAexH,KAAMgI,EAAMF,eAC3B,sBAAK1gB,UAAWQ,KAAE4gB,eAAlB,UACI,wBAAOphB,UAAWQ,KAAE6gB,UAAWvX,QAAQ,eAAvC,UACI,8CACA,+CACIpK,KAAK,OACLqK,GAAI,gBACA6P,EAAS,iBAHjB,IAII,YAAW,WACXW,OAAQ,iDAIZqG,EAAMF,aAAaxgB,QAAQ,OAAC4H,QAAD,IAACA,KAAQ4Y,eACpC,sBAAM1gB,UAAWQ,KAAE8gB,UACbtW,QAAS,kBAAMkW,EAAiB,aADtC,wBAQE,OAANpZ,QAAM,IAANA,OAAA,EAAAA,EAAQ4Y,eACL,qBACC1gB,UAAW,QADZ,UAC4B,OAAN8H,QAAM,IAANA,GAAA,UAAAA,EAAQ4Y,oBAAR,eAAsBzc,UAAW,oBAI9D,uCACA,qCACQ2V,EAAS,SAAU,CACnBgB,UAAW,CACPzZ,MAAO,EACP8C,QAAS,oBAIrB,cAACmc,GAAD,CAAexH,KAAMgI,EAAMD,aAC3B,sBAAK3gB,UAAWQ,KAAE4gB,eAAlB,UACI,wBAAOphB,UAAWQ,KAAE6gB,UAAWvX,QAAQ,aAAvC,UACI,8CACA,+CACIpK,KAAK,OACLqK,GAAI,cACA6P,EAAS,eAHjB,IAII,YAAW,SACXW,OAAQ,iDAIZqG,EAAMD,WAAWzgB,QAAQ,OAAC4H,QAAD,IAACA,KAAQ6Y,aAClC,sBAAM3gB,UAAWQ,KAAE8gB,UACbtW,QAAS,kBAAMkW,EAAiB,WADtC,wBAOE,OAANpZ,QAAM,IAANA,OAAA,EAAAA,EAAQ6Y,aACL,qBACC3gB,UAAW,QADZ,UAC4B,OAAN8H,QAAM,IAANA,GAAA,UAAAA,EAAQ6Y,kBAAR,eAAoB1c,UAAW,uBAIhE,sBAAKjE,UAAWQ,KAAEuK,KAAlB,UACI,cAAC,EAAD,CACI/K,UAAS,UAAKQ,KAAE+K,IAAP,YAAc/K,KAAEiX,QACzBzM,QAASuM,EAFb,oBAMA,cAAC,EAAD,CACIvX,UAAS,UAAKQ,KAAE+K,IAAP,YAAc/K,KAAEkX,MAAQhY,KAAM,SAD3C,8BCnPdob,GAA0C,CAC5C,CACI/Q,GAAI,IACJ5I,MAAO,KAEX,CACI4I,GAAI,IACJ5I,MAAO,MAEX,CACI4I,GAAI,IACJ5I,MAAO,OASFogB,GAAkC/Y,IAAMC,MAAK,SAAAC,GAElD,MAAwCsS,cAAxC,mBAAOC,EAAP,KACMxU,GADN,KACiBC,eAEX2U,EADWmG,cACS/b,MACpBkB,EAAW9B,IAEX4c,EAASxG,EAAayG,IAAI,iBAAmB,GAE7ClG,EAAczW,GAAe,SAAAU,GAAK,OAAIA,EAAM8G,IAAIlH,iBAChDqI,EAAS3I,GAAe,SAAAU,GAAK,OAAIA,EAAM8G,IAAInH,cAC3CqJ,EAAS1J,GAAe,SAAAU,GAAK,OAAIA,EAAMiJ,aAAavI,KAAKwI,OACzD4M,EAAexW,GAAe,SAAAU,GAAK,OAAIA,EAAM8G,IAAIjH,gBACjDqc,EAAkB5c,GAAe,SAAAU,GAAK,OAAIA,EAAMiW,YAEtD,EAAsC9J,mBAAwC,CAC1EgQ,aAAcH,EACdvJ,UAAW,GACX2J,aAAc,GACdC,WAAY,GACZC,UAAW,WACX9J,KAAM,IANV,mBAAOwD,EAAP,KAAoBuG,EAApB,KAQA,EAAgDpQ,mBAASkJ,GAAc,GAAG/Q,IAA1E,mBAAOoR,EAAP,KAAyBC,EAAzB,KAEA,EAAgCxJ,mBAAuB,CACnD7H,GAAI,GACJ6V,SAAU,GACVC,OAAQ,GACRC,UAAW,KACXC,YAAa,KACbC,YAAa,KACbC,cAAe,OAPnB,mBAAOQ,EAAP,KAAiBwB,EAAjB,KAUA,EAII7D,GAAuB3C,EAAa,CACpCK,MAAOpO,IAJP9K,EADJ,EACIA,KACAoZ,EAFJ,EAEIA,UACAkG,EAHJ,EAGIA,QAIJ,EAAc7D,KAAP8D,EAAP,oBAEA/P,qBAAU,WACN+P,EAAI1G,KACN,IAEF,MAAqB6C,KAAd8D,EAAP,oBACA,EAAqB7D,KAAdN,EAAP,oBACA,EAAqBO,KAAd6D,EAAP,oBACA,EAAmBhE,KAAZiE,EAAP,oBACA,EAAsBpR,KAAfqR,EAAP,oBAGMpU,EAAWmK,uBAAY,WACzB,IAAMoE,EAA2C,aAA1BjB,EAAYsG,UAA2B,WAAa,WAC3EC,EAAe,2BAAIvG,GAAL,IAAkBsG,UAAWrF,OAC5C,CAACjB,IAEE+G,EAAM,uCAAG,sBAAA/f,EAAA,sEACL8f,EAAYZ,GADP,OAEXlb,GAAU,GAFC,2CAAH,qDAKNgc,GAAiBnK,uBAAY,SAACoK,GAChCV,EAAe,2BAAIvG,GAAL,IAAkBoG,aAAca,OAC/C,CAACjH,IAEEc,GAAwBjE,uBAAY,SAACL,GACnCvK,GACAsU,EAAe,2BAAIvG,GAAL,IAAkBxD,YAErC,CAACvK,EAAQ+N,IAENkH,GAAoBrK,sBAAW,uCAAC,WAAO1V,GAAP,SAAAH,EAAA,6DAClCkE,EAASnB,EAAa,YADY,kBAIxB4c,EAAW,CACbQ,KAAM,CACFhB,aAAcH,EACd7B,SAAUhd,EAAKgd,SACfC,OAAQjd,EAAKid,OACbC,UAAWld,EAAKkd,WAAa,KAC7BC,YAAand,EAAKmd,aAAe,KACjCC,YAAapd,EAAKod,aAAe,KACjCC,cAAerd,EAAKqd,eAAiB,QAZf,uBAgBxBqC,EAAS7G,GAhBe,OAiB9B9U,EAASb,IAAiB,IAC1Ba,EAASnB,EAAa,cAlBQ,kDAsB9BmB,EAASnB,EAAa,WAtBQ,0DAAD,sDAwBlC,CAAC4c,EAAYzb,EAAU8a,IAEpBoB,GAAoBvK,sBAAW,sBAAC,sBAAA7V,EAAA,6DAElCkE,EAASnB,EAAa,YAFY,kBAKxByY,EAAW,CAAClU,GAAI0W,EAAS1W,KALD,OAM9BpD,EAASb,IAAiB,IAC1Ba,EAASnB,EAAa,cAPQ,gDAS9BmB,EAASnB,EAAa,WATQ,yDAWnC,CAACib,EAAS1W,GAAIkU,EAAYtX,IAEvBmc,GAAkBxK,sBAAW,uCAAC,WAAO1V,GAAP,SAAAH,EAAA,6DAChCkE,EAASnB,EAAa,YADU,kBAItB6c,EAAW,CACbO,KAAM,CACFjU,IAAK/L,EAAKmH,GACV6V,SAAUhd,EAAKgd,SACfC,OAAQjd,EAAKid,OACbC,UAAWld,EAAKkd,WAAa,KAC7BC,YAAand,EAAKmd,aAAe,KACjCC,YAAapd,EAAKod,aAAe,KACjCC,cAAerd,EAAKqd,eAAiB,QAZjB,OAgB5BtZ,EAASb,IAAiB,IAC1Ba,EAASnB,EAAa,cAjBM,gDAoB5BmB,EAASnB,EAAa,WApBM,yDAAD,sDAsBhC,CAACmB,EAAU0b,IAGRhL,GAAuBiB,uBACzB,SAACnX,EAAgBoX,EAA+BC,GAE5C7R,EAASb,GAAiB3E,IAErBA,GAQmB,eAAhBoX,GAAgD,aAAhBA,EAChCC,GAAQyJ,EAAY,eAAIzJ,IAExByJ,EAAY,CAAClY,GAAI,GAAI6V,SAAU,GAAIC,OAAQ,KAE/ClZ,EAASZ,GAAgBwS,KAXzBzE,YAAW,WACPmO,EAAY,CAAClY,GAAI,GAAI6V,SAAU,GAAIC,OAAQ,KAC3ClZ,EAASZ,GAAgB,SAC1B,OAUR,CAACY,IAaR,OAXAyL,qBAAU,WACN,IAAM4K,EAAKlC,GAActG,MAAK,SAAAyI,GAAM,OAAIA,EAAOlT,KAAOoR,KAClD6B,GACAgF,EAAe,2BACRvG,GADO,IAEVvD,UAAWgF,OAAOF,EAAG7b,YAG9B,CAACga,IAIA,mCAEQa,EACM,cAAC,GAAD,IACA,sBAAKhc,UAAWQ,KAAEwG,UAAlB,UACE,sBAAKhH,UAAWQ,KAAE+M,OAAlB,UACI,cAAC,KAAD,CAAevN,UAAWQ,KAAEuiB,MAAO/X,QAASwX,IAC5C,oBAAIxiB,UAAWQ,KAAEqK,MAAjB,SAAyBwQ,EAASjM,cAEtC,sBAAKpP,UAAWQ,KAAEgd,OAAlB,UACI,cAACnK,GAAD,CACIC,YAAamI,EAAYoG,cAAgB,GACzC1O,SAAUsP,GACV9Q,SAAUnR,KAAEsI,QAGZuS,EAAShL,aAAe5B,GACxB,wBACIzO,UAAWQ,KAAEid,OACbzS,QAAS,kBAAMqM,IAAqB,EAAM,YAF9C,6BAUJ6K,EACM,qBAAKliB,UAAW,QAAhB,+GAGA,qCAE6B,KAAnB,OAAJ4C,QAAI,IAAJA,OAAA,EAAAA,EAAMogB,MAAM9V,QAER,mBAAGlN,UAAWQ,KAAEyiB,cAAhB,iCAGE,qCACE,cAAC,GAAD,CACIrgB,MAAU,OAAJA,QAAI,IAAJA,OAAA,EAAAA,EAAMogB,QAAS,GACrB7U,SAAUA,EACVwR,YAAatE,EAAShL,aAAe5B,EACrCJ,WAAYoN,EAAYsG,UACxB3T,gBAAiBiJ,KAErB,sBAAKrX,UAAWQ,KAAEkd,WAAlB,UACI,cAACpM,GAAD,CACIC,YAAgB,OAAJ3O,QAAI,IAAJA,OAAA,EAAAA,EAAMsgB,kBAAmB,EACrC1R,SAAUiK,EAAYvD,WAAa,GACnCzG,YAAagK,EAAYxD,MAAQ,EACjCvG,eAAgB6K,KAEpB,sBAAKvc,UAAWQ,KAAEod,WAAlB,UACI,wCACA,cAAC3J,GAAD,CACI9S,MAAOga,EACPjH,MAAO4G,GACP3G,SAAUiH,IAEd,2DAKpB,cAACvE,GAAD,CACIC,SAAU0E,EACVpH,UAAWiD,GACXN,QAASwE,EAHb,SAMyB,YAAjBA,EACM,cAAEgF,GAAF,CACEC,WAAYmC,GACZtL,qBAAsBA,GACtBxM,MAAO,eACPkM,QAAS,YAEM,aAAjBwE,EACA,cAAEgF,GAAF,CACEC,WAAYsC,GACZzL,qBAAsBA,GACtBxM,MAAO,YACPkM,QAAS,WACT0J,SAAUA,IAEK,eAAjBlF,GACI,cAAC5D,GAAD,CACEC,UAAW6I,EAASb,SACpB9O,WAAY+R,GACZxL,qBAAsBA,GACtBQ,cAAe,4B,oBCpUrE5S,GAAQC,sBAAY,CACtBhF,KAAM,eACNiF,aAAc,CACV6d,MAAO,IAEXzd,SAAU,CACN4d,iBADM,SACW1d,EAAOC,GACpBD,EAAMud,MAAStd,EAAOC,SAE1Byd,eAJM,SAIS3d,EAAOC,GAElB,IAAMqE,EAAKtE,EAAMud,MAAMK,WAAU,SAAAT,GAAI,OAAIA,EAAKjU,MAAQjJ,EAAOC,QAAQ8b,UACjE1X,GAAM,IACNtE,EAAMud,MAAMjZ,GAAI6U,MAAQlZ,EAAOC,QAAQiZ,WAM1C0E,GAAmBre,GAAMgB,QAC/B,GAA2ChB,GAAMiB,QAA1Cid,GAAP,GAAOA,iBAAkBC,GAAzB,GAAyBA,eCbnBG,GAA2C/a,IAAMC,MAAK,SAACC,GAEhE,IAAOka,EAAiCla,EAAjCka,KAAMY,EAA2B9a,EAA3B8a,YAAaC,EAAc/a,EAAd+a,WAS1B,OACI,qCACI,mBAAGzjB,UAAW4iB,EAAKhD,SAAWpf,KAAEof,SAAWpf,KAAEkjB,UAA7C,SAEQd,EAAKhD,SACC,qCAAE,6CAAuBgD,EAAKhD,YAC9B,yBAITgD,EAAK5C,aAAe4C,EAAK3C,gBAC1B,qBAAKjgB,UAAWQ,KAAEmjB,UAAlB,SAEQf,EAAK5C,YACC,qBAAK5W,IAAKwZ,EAAK5C,YAAa5V,IAAI,OAChCwY,EAAK3C,eACL,uBAAOI,QAAQ,WAAWC,UAAQ,EAAlC,SACE,wBAAQlX,IAAKwZ,EAAK3C,oBAMtC,sBAAKjgB,UAAWQ,KAAEuK,KAAlB,UACI,cAAC,EAAD,CACI/K,UAAS,UAAKQ,KAAE+K,IAAP,YAAc/K,KAAEiX,QACzBzM,QAjCK,WACjBwY,KA8BQ,oBAMA,cAAC,EAAD,CACIxjB,UAAS,UAAKQ,KAAE+K,IAAP,YAAc/K,KAAEkX,MACzB1M,QAnCU,WACtByY,KAmCYvb,UAAW0a,EAAKhD,SAHpB,kCCnCVgE,GAA+B,CACjC,CACI7Z,GAAI,IACJ5I,MAAO,EACPmK,KAAM,gBAEV,CACIvB,GAAI,IACJ5I,MAAO,EACPmK,KAAM,UAEV,CACIvB,GAAI,IACJ5I,MAAO,EACPmK,KAAM,oBAEV,CACIvB,GAAI,IACJ5I,MAAO,EACPmK,KAAM,YAEV,CACIvB,GAAI,IACJ5I,MAAO,EACPmK,KAAM,oBAIDuY,GAA+Crb,IAAMC,MAAK,SAACC,GAEpE,IAAOka,EAAmCla,EAAnCka,KAAMY,EAA6B9a,EAA7B8a,YAAaM,EAAgBpb,EAAhBob,aAE1B,EAAsClS,mBAAS,GAA/C,mBAAOmS,EAAP,KAAoBC,EAApB,KASMC,EAAiB,SAAC7iB,GACpB4iB,EAAe9G,OAAO9b,EAAEC,cAAcF,SAE1C,OACI,qCACI,oBAAGnB,UAAWQ,KAAEof,SAAhB,UACI,6CAAuBgD,EAAKhD,aAG3BgD,EAAK5C,aAAe4C,EAAK3C,gBAC1B,qBAAKjgB,UAAWQ,KAAEmjB,UAAlB,SAEQf,EAAK5C,YACC,qBAAK5W,IAAKwZ,EAAK5C,YAAa5V,IAAI,OAChCwY,EAAK3C,eACL,uBAAOI,QAAQ,WAAWC,UAAQ,EAAlC,SACE,wBAAQlX,IAAKwZ,EAAK3C,oBAMtC,oBAAGjgB,UAAWQ,KAAEof,SAAhB,UACI,2CAAqBgD,EAAK/C,WAGzB+C,EAAK9C,WAAa8C,EAAK7C,cACxB,qBAAK/f,UAAWQ,KAAEmjB,UAAlB,SAEQf,EAAK9C,UACC,qBAAK1W,IAAKwZ,EAAK9C,UAAW1V,IAAI,OAC9BwY,EAAK7C,aACL,uBAAOM,QAAQ,WAAWC,UAAQ,EAAlC,SACE,wBAAQlX,IAAKwZ,EAAK7C,kBAMtC,sBAAK/f,UAAWQ,KAAE0jB,KAAlB,UACI,oBAAIlkB,UAAWQ,KAAE2jB,UAAjB,4BAEIP,GAAYlU,KAAI,SAAA7F,GAAI,OAChB,wBAAqB7J,UAAWQ,KAAES,MAAlC,UACI,uBACIa,QAASiiB,IAAgBla,EAAK1I,MAC9BnB,UAAWQ,KAAE4U,MACb1V,KAAK,QACLQ,KAAM,OACNiB,MAAO0I,EAAK1I,MACZxB,SAAUskB,IAEd,sBAAMjkB,UAAWQ,KAAE4jB,UAAnB,SAA+Bva,EAAKyB,SAT5BzB,EAAKE,UAc7B,sBAAK/J,UAAWQ,KAAEuK,KAAlB,UACI,cAAC,EAAD,CACI/K,UAAS,UAAKQ,KAAE+K,IAAP,YAAc/K,KAAEiX,QACzBzM,QAnEK,WACjBwY,KAgEQ,oBAMA,cAAC,EAAD,CACIxjB,UAAS,UAAKQ,KAAE+K,IAAP,YAAc/K,KAAEkX,MAEzB1M,QAtES,WACrB8Y,EAAaC,IAkEL,2BClGHM,GAAY,WAErB,MAAwCrJ,cAAxC,mBAAOC,EAAP,KACMwG,GADN,KACexG,EAAayG,IAAI,iBAAmB,IAC7ChU,EAAS3I,GAAe,SAAAU,GAAK,OAAIA,EAAM8G,IAAInH,cAG1CgK,EAFUoS,cAEW/b,MAArB2J,SACD3I,EAAWC,cACXC,EAAW9B,IAGXyf,EAAsBvf,GAAe,SAAAU,GAAK,OAAIA,EAAM8e,aAAavB,SAEvE,EAA4CpR,oBAAS,GAArD,mBAAO4S,EAAP,KAAuBC,EAAvB,KAEA,EAKIrG,GAAuB,CAACwD,aAAcH,EAAQvJ,UAAW,IAAK,CAC9D4D,MAAOpO,IALP9K,EADJ,EACIA,KACAoZ,EAFJ,EAEIA,UACA0I,EAHJ,EAGIA,UACAxI,EAJJ,EAIIA,WAKJ,EAGKuC,KAHL,mBAAOkG,EAAP,YACeC,EADf,EACI5I,UACW6I,EAFf,EAEIH,UAIJ,EAAsBrG,KAEtB,GAFA,oBAEwBzM,mBAAmB,CACvCiO,OAAQ,GACR+B,aAAc,GACdkD,SAAU,GACVC,QAAS,GACTnG,MAAO,EACPoG,QAAS,GACTpF,SAAU,GACVR,OAAQ,EACR6F,MAAO,EACPvlB,KAAM,GACNwlB,QAAS,GACThW,QAAS,GACTiW,IAAK,EACLxW,IAAK,GACLmR,UAAW,KACXC,YAAa,KACbC,YAAa,KACbC,cAAe,QAlBnB,mBAAO2C,EAAP,KAAawC,EAAb,KAqBM5B,EAAclL,sBAAW,sBAAC,4BAAA7V,EAAA,yDAEM,IAA/B6hB,EAAoBpX,OAFK,uBAGxBzG,EAAS,IAAK,CAACM,SAAS,IAHA,0BAMnB2L,EAAI,EANe,YAMZA,EAAI4R,EAAoBpX,QANZ,sBAOpBoX,EAAoB5R,GAAGkM,MAAQ,GAPX,gCAQd+F,EAAoB,CAAC/F,MAAO0F,EAAoB5R,GAAGkM,MAAOyG,QAASf,EAAoB5R,GAAG/D,MAR5E,OAMoB+D,IANpB,uBAW5B/L,EAASwc,GAAiB,KAXE,4CAa7B,CAACmB,EAAqBK,EAAoBle,EAAUE,IAEjD8c,EAAanL,uBAAY,WAC3BmM,GAAkB,KACnB,IAEGa,EAAmBhN,uBAAY,SAACiN,GAClC5e,EAASyc,GAAe,CAAC3B,OAAQmB,EAAKjU,IAAKiQ,MAAO2G,KAClDd,GAAkB,KAEnB,CAAC9d,EAAUic,IAmBd,OAjBAxQ,qBAAU,WACFsS,IACI,OAAJ9hB,QAAI,IAAJA,OAAA,EAAAA,EAAMogB,QAASrc,EAASwc,GAAiBvgB,EAAKogB,UAEnD,QAACpgB,QAAD,IAACA,OAAD,EAACA,EAAMogB,MAAOrc,EAAU+d,IAE3BtS,qBAAU,WACFkS,EAAoBpX,QAAUwX,GAC9BU,EC3GW,SAACpC,GACpB,IAAMwC,EAAMxC,EAAMyC,QAAO,SAACC,EAAK9C,GAAN,OAAe8C,GAAO,EAAI9C,EAAKhE,QAAU,EAAIgE,EAAKhE,SAAQ,GAC7E+G,EAAO3T,KAAKoB,SAAWoS,EACvBhe,EAAMwb,EAAMyC,QAAO,SAACC,EAAiC9C,EAAMlQ,GACzD,IAAMkT,EAASF,EAAIF,KAAO,EAAI5C,EAAKhE,QAAU,EAAIgE,EAAKhE,OACtD,MAAO,CAAC4G,IAAKI,EAAQ7b,GAAI6b,EAASD,EAAOjT,EAAIgT,EAAI3b,MAEnD,CAACyb,IAAK,EAAGzb,IAAK,IAGpB,OAFA8b,QAAQC,IAAI,SAAUN,EAAKG,EAAMne,GAE1Bwb,EAAMxb,EAAIuC,GAAK,GDiGNgc,CAAQzB,MAErB,CAACA,EAAqBI,IAEzBtS,qBAAU,WACNyS,GAA4Bpe,EAAS,IAAK,CAACM,SAAS,MACtD,CAAC8d,EAA0Bpe,IAIzB,mCAEQuV,GAAa4I,GAA4B1I,EACnC,cAAC,GAAD,IACA,sBAAKlc,UAAWQ,KAAEwG,UAAlB,UACE,oBAAIhH,UAAWQ,KAAEqK,MAAjB,0BAAmCuE,EAAnC,OAEIoV,EACM,cAACjB,GAAD,CACEX,KAAMA,EACNY,YAAaA,EACbC,WAAYA,IAEd,cAACI,GAAD,CACEjB,KAAMA,EACNY,YAAaA,EACbM,aAAcwB,UEhHrCU,GAAM,WAEf,MAGKvhB,IAHL,mBAAOP,EAAP,YACW+hB,EADX,EACIlmB,MACAic,EAFJ,EAEIA,UAGErV,EAAW9B,IACX4B,EAAWC,cAEjB0L,qBAAU,WACNlO,IAAgB4C,SACXS,MAAK,SAAAC,GACFb,EAASd,IAAa,IACtBc,EAASP,GAAQoB,OAEpB0e,OAAM,SAAAnmB,GACH0G,EAAS,SAAU,CAACM,SAAS,SAEtC,CAAC7C,EAAeyC,IAEnB,IAAMwf,EAAe3X,mBAAQ,WACzB,OAAOyX,IACR,CAACA,IAEJ,OAAIjK,EACO,cAAC,GAAD,IAIP,qBAAKhc,UAAU,MAAf,SACI,cAAC,IAAD,UACI,eAAC,IAAD,CAAOgN,KAAK,IAAIoZ,QAAS,cAAC,GAAD,CACrBrmB,MAAOomB,IADX,UAEI,cAAC,IAAD,CAAOnZ,KAAK,IAAIoZ,QAAS,cAAC,IAAD,CAAU9d,GAAI,iBACvC,cAAC,IAAD,CAAO0E,KAAM,aAAcoZ,QAAS,cAACrL,GAAD,CAAWzM,YAAa,eAC5D,cAAC,IAAD,CAAOtB,KAAM,uBAAwBoZ,QAAS,cAAC,GAAD,MAC9C,cAAC,IAAD,CAAOpZ,KAAM,wBAAyBoZ,QAAS,cAAC7E,GAAD,MAC/C,cAAC,IAAD,CAAOvU,KAAM,qBAAsBoZ,QAAS,cAAC7E,GAAD,MAC5C,cAAC,IAAD,CAAOvU,KAAM,UAAWoZ,QAAS,cAAC,GAAD,MACjC,cAAC,IAAD,CAAOpZ,KAAM,QAASoZ,QAAS,cAAC,GAAD,MAC/B,cAAC,IAAD,CAAOpZ,KAAM,eAAgBoZ,QAAS,cAAC,GAAD,MACtC,cAAC,IAAD,CAAOpZ,KAAM,oBACNoZ,QAAS,cAAC,GAAD,MAChB,cAAC,IAAD,CAAOpZ,KAAM,sBACNoZ,QAAS,cAAC,GAAD,MAChB,cAAC,IAAD,CAAOpZ,KAAM,iBACNoZ,QAAS,cAAC,GAAD,MAChB,cAAC,IAAD,CAAOpZ,KAAM,IAAKoZ,QAAS,cAAC,GAAD,cC1DhCC,GAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,8BAAqBhf,MAAK,YAAkD,IAA/Cif,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,O,kBCLDO,GAAUxjB,oBAAU,CAC7BC,YAAa,UACbC,UAAWhB,EACP,CAACC,QAAS,2CAEd+N,SAAS,CAAC,QACV/M,UAAU,SAACsjB,GAAD,MAAa,CACnBC,QAASD,EAAQljB,MAAM,CACnBA,MAAM,SAACC,GAAD,MAAU,CACZnB,IAAI,OACJC,OAAQ,UAGhBqkB,WAAYF,EAAQnjB,SAAgC,CAChDC,MAAM,SAACC,GAAD,MAAU,CACZnB,IAAI,OACJE,KAAM,CAACqkB,SAAWpjB,GAClBlB,OAAQ,cCLXukB,IDW2CL,GAA1CM,gBAA0CN,GAAzBO,sBCXDC,cAAe,GACzC3Y,aAAcrI,GACdyF,iBAAkBX,GAClBoB,IAAKvG,EACL0V,SAAUtD,GACVmM,aAAcjB,IAL2B,eAMxClgB,EAASE,YAAeF,EAAS6C,SANO,eAOxCqK,GAAYhN,YAAegN,GAAYrK,SAPC,eAQxC6X,GAASxa,YAAewa,GAAS7X,SARO,eASxC4gB,GAAQvjB,YAAeujB,GAAQ5gB,SATS,KAchCqhB,GAAQC,yBAAe,CAChCthB,QAASihB,GACTM,WAAY,SAACC,GAAD,OAA0BA,IAAuBC,OACzDtkB,EAASokB,WACTlX,GAAYkX,WACZ1J,GAAS0J,WACTX,GAAQW,eAOhB3T,OAAOyT,MAAQA,GClCfK,IAAS3X,OACP,cAAC,IAAM4X,WAAP,UACI,cAAC,IAAD,CAAeC,SAAU,aAAzB,SACE,cAAC,WAAD,CAAUP,MAAOA,GAAjB,SAAwB,cAAC,GAAD,UAG9Bhe,SAASwe,eAAe,SAM1BzB,M,mBCpBA9mB,EAAOC,QAAU,CAAC,WAAa,mCAAmC,WAAa,mCAAmC,MAAQ,8BAA8B,MAAQ,8BAA8B,MAAQ,8BAA8B,WAAa,mCAAmC,IAAM,4BAA4B,SAAW,mC,mBCAjUD,EAAOC,QAAU,CAAC,UAAY,+BAA+B,OAAS,4BAA4B,MAAQ,2BAA2B,MAAQ,2BAA2B,cAAgB,mCAAmC,OAAS,4BAA4B,MAAQ,2BAA2B,OAAS,4BAA4B,WAAa,gCAAgC,WAAa,kC,mBCAlYD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,MAAQ,sBAAsB,OAAS,uBAAuB,KAAO,qBAAqB,KAAO,qBAAqB,MAAQ,wB,mBCAhLD,EAAOC,QAAU,CAAC,eAAiB,oCAAoC,oBAAsB,yCAAyC,mBAAqB,wCAAwC,oBAAsB,yCAAyC,QAAU,6BAA6B,OAAS,4BAA4B,aAAe,kCAAkC,eAAiB,oCAAoC,cAAgB,mCAAmC,aAAe,kCAAkC,cAAgB,qC,mBCAxiBD,EAAOC,QAAU,CAAC,MAAQ,qBAAqB,MAAQ,qBAAqB,MAAQ,qBAAqB,KAAO,oBAAoB,MAAQ,qBAAqB,OAAS,sBAAsB,MAAQ,qBAAqB,IAAM,qB,mBCAnOD,EAAOC,QAAU,CAAC,MAAQ,qBAAqB,OAAS,sBAAsB,QAAU,yB,mBCAxFD,EAAOC,QAAU,CAAC,UAAY,wBAAwB,MAAQ,oBAAoB,QAAU,sBAAsB,KAAO,mBAAmB,KAAO,mBAAmB,IAAM,oB,mBCA5KD,EAAOC,QAAU,CAAC,SAAW,wBAAwB,MAAQ,qBAAqB,UAAY,yBAAyB,iBAAmB,gCAAgC,UAAY,2B,mBCAtLD,EAAOC,QAAU,CAAC,MAAQ,qBAAqB,MAAQ,qBAAqB,KAAO,oBAAoB,OAAS,wB,mBCAhHD,EAAOC,QAAU,CAAC,OAAS,iCAAiC,kBAAoB,4CAA4C,QAAU,kCAAkC,QAAU,kCAAkC,SAAW,mCAAmC,WAAa,uC,mBCA/QD,EAAOC,QAAU,CAAC,SAAW,kC,mBCA7BD,EAAOC,QAAU,CAAC,KAAO,0BAA0B,MAAQ,2BAA2B,IAAM,yBAAyB,MAAQ,6B,mBCA7HD,EAAOC,QAAU,CAAC,KAAO,6BAA6B,UAAY,kCAAkC,IAAM,4BAA4B,KAAO,+B,mBCA7ID,EAAOC,QAAU,CAAC,KAAO,uBAAuB,UAAY,4BAA4B,QAAU,0BAA0B,QAAU,0BAA0B,IAAM,wB,mBCAtKD,EAAOC,QAAU,CAAC,MAAQ,6BAA6B,MAAQ,6BAA6B,KAAO,8B,mBCAnGD,EAAOC,QAAU,CAAC,IAAM,iBAAiB,OAAS,sB,mBCAlDD,EAAOC,QAAU,CAAC,OAAS,4BAA4B,KAAO,0BAA0B,KAAO,6B","file":"static/js/main.f93da8a1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"btns\":\"EnterPassword_btns__3peBd\",\"btn__send\":\"EnterPassword_btn__send__akJ6w\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Main_main__1E5U3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Loader_container__TNkn-\",\"loader\":\"Loader_loader__36nfc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"Sidebar_list__vV3qU\",\"sidebar\":\"Sidebar_sidebar__iLMZP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1Y6f6\",\"container\":\"Header_container__7-NRu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Layout__container__yIT7t\",\"containerLogin\":\"Layout__containerLogin__1DO9E\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Footer_header__91vrb\",\"container\":\"Footer_container__xtjqf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"default\":\"SuperButton_default__qYVuw\",\"red\":\"SuperButton_red__3b7bs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"TextError_error__11b55\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Tabs_container__1qQVp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"SearchInput_input__33NXb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"AddEditCardModal_container__cYpVi\",\"top\":\"AddEditCardModal_top__28RiX\",\"body\":\"AddEditCardModal_body__2z4dd\",\"btns\":\"AddEditCardModal_btns__2-7eO\",\"btn\":\"AddEditCardModal_btn__Q8JD4\",\"cancel\":\"AddEditCardModal_cancel__2JBte\",\"file\":\"AddEditCardModal_file__3L66U\",\"containerLabel\":\"AddEditCardModal_containerLabel__140Lw\",\"fileLabel\":\"AddEditCardModal_fileLabel__1VNDu\",\"clearFile\":\"AddEditCardModal_clearFile__1qUhY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"LearnPack_container___ab0P\",\"title\":\"LearnPack_title__2zoeF\",\"emptyText\":\"LearnPack_emptyText__1_VSM\",\"question\":\"LearnPack_question__3b5Ni\",\"btns\":\"LearnPack_btns__7SuUp\",\"btn\":\"LearnPack_btn__DRZaM\",\"cancel\":\"LearnPack_cancel__2byAT\",\"titleRate\":\"LearnPack_titleRate__1FKvW\",\"rate\":\"LearnPack_rate__2YsxS\",\"label\":\"LearnPack_label__3uGdg\",\"radio\":\"LearnPack_radio__345xG\",\"radioText\":\"LearnPack_radioText__2e8l-\",\"fileLearn\":\"LearnPack_fileLearn__1IUjG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"registration\":\"Register_registration__3iCto\",\"title\":\"Register_title__3wqzX\",\"body\":\"Register_body__1S_kG\",\"form\":\"Register_form__2UxyV\",\"btns\":\"Register_btns__1px0s\",\"btn__send\":\"Register_btn__send__DvLpY\",\"btn__cancel\":\"Register_btn__cancel__28p4e\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"Pagination_pagination__1qa2D\",\"numb\":\"Pagination_numb__31Xil\",\"btn\":\"Pagination_btn__3q9gX\",\"prev\":\"Pagination_prev__3GUly\",\"next\":\"Pagination_next__jFItC\",\"dots\":\"Pagination_dots__3y0BP\",\"active\":\"Pagination_active__2s4vm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"AddEditPackModal_container__ruP_r\",\"top\":\"AddEditPackModal_top__3B51J\",\"body\":\"AddEditPackModal_body__3sRXj\",\"btns\":\"AddEditPackModal_btns__sNePE\",\"btn\":\"AddEditPackModal_btn__1aRGm\",\"cancel\":\"AddEditPackModal_cancel__12dhb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"packList\":\"packList_packList__29_j5\",\"panelCards\":\"packList_panelCards__5xRG1\",\"noPadding\":\"packList_noPadding__1b9Ca\",\"rangeContainer\":\"packList_rangeContainer__3QcxH\",\"bodyCards\":\"packList_bodyCards__3pDPH\",\"title\":\"packList_title__2K24H\",\"search\":\"packList_search__3sGnw\",\"input\":\"packList_input__278Tq\",\"button\":\"packList_button__281qd\",\"selectCard\":\"packList_selectCard__3lkex\",\"selectBody\":\"packList_selectBody__kxZhD\",\"radioButtons\":\"packList_radioButtons__OKEB4\",\"active\":\"packList_active__3rN5G\",\"body_lock\":\"packList_body_lock__1EDMv\"};","import React, {ChangeEvent, DetailedHTMLProps, InputHTMLAttributes, KeyboardEvent} from 'react'\r\nimport s from './SuperInputText.module.css'\r\n\r\n// тип пропсов обычного инпута\r\ntype DefaultInputPropsType = DetailedHTMLProps<InputHTMLAttributes<HTMLInputElement>, HTMLInputElement>\r\n\r\n// здесь мы говорим что у нашего инпута будут такие же пропсы как у обычного инпута\r\n// (чтоб не писать value: string, onChange: ...; они уже все описаны в DefaultInputPropsType)\r\ntype SuperInputTextPropsType = DefaultInputPropsType & { // и + ещё пропсы которых нет в стандартном инпуте\r\n    onChangeText?: (value: string) => void\r\n    onEnter?: () => void\r\n    error?: string\r\n    spanClassName?: string//для стилизации ошибки\r\n    hidden?:boolean\r\n}\r\n\r\nconst SuperInputText: React.FC<SuperInputTextPropsType> = (\r\n    {\r\n        type, // достаём и игнорируем чтоб нельзя было задать другой тип инпута\r\n        onChange, onChangeText,\r\n        onKeyPress, onEnter,\r\n        error,\r\n        className, spanClassName,\r\n        name,\r\n        hidden,\r\n        placeholder,\r\n        onBlur,\r\n        ...restProps// все остальные пропсы попадут в объект restProps\r\n    }\r\n) => {\r\n    const onChangeCallback = (e: ChangeEvent<HTMLInputElement>) => {\r\n        onChange // если есть пропс onChange т.е если хочется использовать обычный onChange\r\n        && onChange(e) // то передать ему е (поскольку onChange не обязателен)\r\n\r\n        onChangeText && onChangeText(e.currentTarget.value) //если будет пропс onChangeText\r\n    }\r\n    const onKeyPressCallback = (e: KeyboardEvent<HTMLInputElement>) => {\r\n        onKeyPress && onKeyPress(e);\r\n\r\n        onEnter // если есть пропс onEnter\r\n        && e.key === 'Enter' // и если нажата кнопка Enter\r\n        && onEnter() // то вызвать его\r\n    }\r\n\r\n    const finalSpanClassName = `${s.error} ${spanClassName ? spanClassName : ''}`\r\n    const finalInputClassName = error ? ` ${s.errorInput} ${s.superInput}` : `${s.superInput} ${className}`\r\n    const finalBarClassName = error ? ` ${s.errorBar} ${s.bar}` : `${s.bar} `\r\n    const finalLabelClassName = error ? ` ${s.errorLabel} ${s.label}` : `${s.label} `\r\n\r\n    return (\r\n        <div className={s.group}>\r\n            <input\r\n                value={restProps.value}\r\n                type={hidden ? 'password' : 'text'}\r\n                name={name}\r\n                onChange={onChangeCallback}\r\n                onKeyPress={onKeyPressCallback}\r\n                className={finalInputClassName}\r\n                {...restProps} // отдаём инпуту остальные пропсы если они есть (value например там внутри)\r\n            />\r\n            <span className={finalBarClassName}> </span>\r\n            <label className={finalLabelClassName}>{placeholder}</label>\r\n            {error && <span className={finalSpanClassName}>{error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SuperInputText\r\n","import React, {ButtonHTMLAttributes, DetailedHTMLProps} from 'react'\r\nimport s from './SuperButton.module.css'\r\n\r\n// тип пропсов обычной кнопки, children в котором храниться название кнопки там уже описан\r\ntype DefaultButtonPropsType = DetailedHTMLProps<ButtonHTMLAttributes<HTMLButtonElement>, HTMLButtonElement>\r\n\r\ntype SuperButtonPropsType = DefaultButtonPropsType & {}\r\n\r\nexport const SuperButton: React.FC<SuperButtonPropsType> = (\r\n    {\r\n      className,\r\n        ...restProps// все остальные пропсы попадут в объект restProps, там же будет children\r\n    }\r\n) => {\r\n    const finalClassName = `${s.default} ${className}` //className - класс по умолчанию\r\n\r\n    return (\r\n        <button\r\n            className={finalClassName}\r\n            {...restProps} // отдаём кнопке остальные пропсы если они есть (children там внутри)\r\n        >{restProps.children}</button>\r\n    )\r\n}\r\n\r\nexport default SuperButton\r\n","import React, {ChangeEvent, DetailedHTMLProps, InputHTMLAttributes} from 'react'\r\nimport s from './SuperCheckbox.module.css'\r\n\r\n// тип пропсов обычного инпута\r\ntype DefaultInputPropsType = DetailedHTMLProps<InputHTMLAttributes<HTMLInputElement>, HTMLInputElement>\r\n\r\ntype SuperCheckboxPropsType = DefaultInputPropsType & {\r\n    onChangeChecked?: (checked: boolean) => void\r\n    spanClassName?: string\r\n}\r\n\r\nexport const SuperCheckbox: React.FC<SuperCheckboxPropsType> = (\r\n    {\r\n        type, // достаём и игнорируем чтоб нельзя было задать другой тип инпута\r\n        onChange, onChangeChecked,\r\n        className, spanClassName,\r\n        children, // в эту переменную попадёт текст, типизировать не нужно так как он затипизирован в React.FC\r\n\r\n        ...restProps// все остальные пропсы попадут в объект restProps\r\n    }\r\n) => {\r\n    const onChangeCallback = (e: ChangeEvent<HTMLInputElement>) => {\r\n        // сделайте так чтоб работал onChange и onChangeChecked\r\n        /*if(onChangeChecked) {\r\n            onChangeChecked(e.currentTarget.checked)\r\n        }\r\n        if(onChange) {\r\n            onChange(e)\r\n        }*/\r\n        onChange && onChange(e);\r\n        onChangeChecked && onChangeChecked(e.currentTarget.checked)\r\n    }\r\n\r\n    const finalInputClassName = `${s.checkbox} ${className ? className : ''}`\r\n\r\n    return (\r\n        <label className={finalInputClassName}>\r\n            <input\r\n                type={'checkbox'}\r\n                onChange={onChangeCallback}\r\n                className={''}\r\n                style={s}\r\n                {...restProps} // отдаём инпуту остальные пропсы если они есть (checked например там внутри)\r\n            />\r\n            <span style={s} >{children && <span className={s.spanClassName}>{children}</span>}</span>\r\n        </label> // благодаря label нажатие на спан передастся в инпут\r\n    )\r\n}\r\n\r\nexport default SuperCheckbox\r\n","import * as yup from \"yup\";\r\n\r\nexport const loginValidation = yup.object().shape({\r\n    email: yup.string().required('Обязательное поле').typeError('Поле должно быть строкой'),\r\n    password: yup.string().required('Обязательное поле').typeError('Поле должно быть строкой')\r\n})\r\n\r\n","import axios, {AxiosError, AxiosRequestConfig} from \"axios\";\r\nimport {BaseQueryFn, createApi} from \"@reduxjs/toolkit/dist/query/react\";\r\n\r\n\r\nexport type FinallyErrorResponseType = {\r\n    status: number\r\n    data: ErrorResponseType\r\n}\r\n\r\nexport type ErrorResponseType = {\r\n    email?: string\r\n    body?: { password: string, token: string }\r\n    error: string\r\n    in: string\r\n}\r\n\r\nexport type ResponseRegistrationType = {\r\n    created: string\r\n    email: string\r\n    isAdmin: boolean\r\n    name: string\r\n    avatar?:string\r\n    publicCardPacksCount: number\r\n    rememberMe: boolean\r\n    updated: string\r\n    verified: boolean\r\n    __v: number\r\n    _id: string\r\n}\r\nexport type ResponseLoginizationType = {\r\n    Avatar?: string,\r\n    Created: string,\r\n    deviceTokens: Array<{ _id: string, device: string, token: string, tokenDeathTime: string }>,\r\n    Email: string,\r\n    isAdmin: boolean,\r\n    name: string,\r\n    publicCardPacksCount: number,\r\n    rememberMe: boolean,\r\n    token: string,\r\n    tokenDeathTime: string,\r\n    Updated: string,\r\n    verified: boolean,\r\n    __v: number,\r\n    _id: string\r\n    emailRegExp: object,\r\n    error: string,\r\n    in: string,\r\n    isEmailValid: boolean,\r\n    isPassValid: true,\r\n    passwordRegExp: string\r\n}\r\n\r\n\r\nexport type CardPackType = {\r\n    cardsCount: number\r\n    created: number\r\n    deckCover: null | string\r\n    grade: number\r\n    more_id: string\r\n    name: string\r\n    path: string\r\n    private: boolean\r\n    rating: number\r\n    shots: number\r\n    type: string\r\n    updated: Date,\r\n    user_id: string\r\n    user_name: string\r\n    __v: number\r\n    _id: string\r\n}\r\nexport type AllCardsType = {\r\n    cardPacks: Array<CardPackType>,\r\n    cardPacksTotalCount: number,\r\n    maxCardsCount: number,\r\n    minCardsCount: number,\r\n    page: number,\r\n    pageCount: number,\r\n    token: string,\r\n    tokenDeathTime: number,\r\n}\r\n\r\nexport const axiosBaseQuery =\r\n    (\r\n        {baseUrl}: { baseUrl: string, } = {baseUrl: 'https://neko-back.herokuapp.com/2.0/'}\r\n    ): BaseQueryFn<{\r\n        url: string\r\n        method: AxiosRequestConfig['method'],\r\n        data?: AxiosRequestConfig['data'],\r\n        params?: AxiosRequestConfig['params']\r\n    },\r\n        unknown,\r\n        unknown> =>\r\n        async ({url, method, data, params}) => {\r\n            try {\r\n                const result = await axios({\r\n                    url: baseUrl + url,\r\n                    method,\r\n                    data,\r\n                    params,\r\n                    withCredentials: true\r\n                })\r\n                return {data: result.data}\r\n            } catch (axiosError) {\r\n                let err = axiosError as AxiosError\r\n                return {\r\n                    error: {\r\n                        status: err.response?.status,\r\n                        data: err.response?.data\r\n                    },\r\n                }\r\n            }\r\n        }\r\n//https://neko-back.herokuapp.com/2.0/'\r\nexport const _authApi = createApi({\r\n    reducerPath: 'authApi',\r\n    /*baseQuery: fetchBaseQuery({baseUrl: 'http://localhost:7542/2.0/', credentials:'include'}), //include, omit, same-origin*/\r\n    baseQuery: axiosBaseQuery({baseUrl: 'https://neko-back.herokuapp.com/2.0/'}),\r\n    endpoints: (build) => ({\r\n        registrationAuth: build.mutation<void, { email: string, password: string }>({\r\n            query: (arg,) => ({\r\n                url: 'auth/register',\r\n                method: 'POST',\r\n                data: arg\r\n            }),\r\n        }),\r\n        createNewPassword: build.mutation<void, { password: string, token: string }>({\r\n            query: (arg,) => ({\r\n                url: 'auth/set-new-password',\r\n                method: 'POST',\r\n                data: arg\r\n            })\r\n        }),\r\n        forgotPassword: build.mutation<void, { email: string }>({\r\n            query: (arg) => ({\r\n                url: 'auth/forgot',\r\n                method: 'POST',\r\n                data: {\r\n                    email: arg.email,\r\n                    from: 'test-front-admin <dima.dimix94@mail.ru>',\r\n                    message: `<div>\r\n                            <p>Для установки нового пароля, перейдите по ссылке</p>\r\n                            <a href=\"https://Dimix-international.github.io/cards-app/new-password/$token$\">\r\n                                Восстановление пароля\r\n                              </a>\r\n                        </div>`\r\n                }\r\n            })\r\n        }),\r\n        checkAuthUser: build.mutation<ResponseRegistrationType, void>({\r\n            query: () => ({\r\n                url: 'auth/me',\r\n                method: 'POST',\r\n            }),\r\n        }),\r\n        updateProfileUser: build.mutation<ResponseRegistrationType, {name:string, avatar:string}>({\r\n            query:(arg) => ({\r\n                url: 'auth/me',\r\n                method: 'PUT',\r\n                data: arg,\r\n            })\r\n        }),\r\n        makeLoginUser: build.mutation<ResponseLoginizationType, {\r\n            email: string, password: string, rememberMe: boolean\r\n        }>({\r\n            query: (arg) => ({\r\n                url: 'auth/login',\r\n                method: 'POST',\r\n                data: arg\r\n            }),\r\n        }),\r\n        logOutUser: build.mutation<{ info: string }, void>({\r\n            query: () => ({\r\n                url: 'auth/me',\r\n                method: 'DELETE',\r\n            })\r\n        }),\r\n    })\r\n});\r\nexport const {\r\n    useRegistrationAuthMutation,\r\n    useCreateNewPasswordMutation,\r\n    useForgotPasswordMutation,\r\n    useCheckAuthUserMutation,\r\n    useUpdateProfileUserMutation,\r\n    useMakeLoginUserMutation,\r\n    useLogOutUserMutation,\r\n} = _authApi;\r\n\r\n\r\n","import {TypedUseSelectorHook, useDispatch, useSelector} from \"react-redux\";\r\nimport {ApplicationDispatch, AppRootStateType} from \"../n1-main/m2-bll/state\";\r\n\r\nexport const useAppDispatch = () => useDispatch<ApplicationDispatch>();\r\nexport const useAppSelector: TypedUseSelectorHook<AppRootStateType> = useSelector;","import {createSlice, PayloadAction} from \"@reduxjs/toolkit\";\r\n\r\nexport type ModalTriggerType =\r\n    'addPack'\r\n    | 'deletePack'\r\n    | 'editPack'\r\n    | 'addCard'\r\n    | 'deleteCard'\r\n    | 'editCard'\r\n    | 'editProfile'\r\n    | null;\r\nexport type RequestStatusType = 'idle' | 'loading' | 'succeeded' | 'failed';\r\n\r\ntype ErrorType = string | null;\r\n\r\nconst initialAppState = {\r\n    status: 'idle' as RequestStatusType,\r\n    error: null as ErrorType,\r\n    isAuthUser: false,\r\n    isOpenedModal: false,\r\n    modalTrigger: null as ModalTriggerType\r\n}\r\n\r\nexport type InitialAppStateType = typeof initialAppState;\r\n\r\n\r\nconst slice = createSlice({\r\n    name: 'app',\r\n    initialState: initialAppState,\r\n    reducers: {\r\n        setAppStatus(state, action: PayloadAction<RequestStatusType>) {\r\n            state.status = action.payload\r\n        },\r\n        setAppError(state, action: PayloadAction<ErrorType>) {\r\n            state.error = action.payload\r\n        },\r\n        setAppIsAuth(state, action: PayloadAction<boolean>) {\r\n            state.isAuthUser = action.payload\r\n        },\r\n        setIsOpenedModal(state, action: PayloadAction<boolean>) {\r\n            state.isOpenedModal = action.payload\r\n        },\r\n        setTriggerModal(state, action: PayloadAction<ModalTriggerType>) {\r\n            state.modalTrigger = action.payload\r\n        },\r\n    },\r\n})\r\n\r\nexport const appReducer = slice.reducer;\r\n\r\nexport const {\r\n    setAppStatus,\r\n    setAppError,\r\n    setIsOpenedModal,\r\n    setAppIsAuth,\r\n    setTriggerModal,\r\n} = slice.actions;\r\n","import {createSlice, PayloadAction} from \"@reduxjs/toolkit\";\r\nimport {ResponseRegistrationType} from \"../m3-dal/auth-api\";\r\n\r\nconst initialState = {\r\n    user: {} as ResponseRegistrationType,\r\n};\r\n\r\nconst slice = createSlice({\r\n    name: 'login',\r\n    initialState,\r\n    reducers: {\r\n        setUser(state, action: PayloadAction<ResponseRegistrationType>) {\r\n            state.user = action.payload\r\n        }\r\n    }\r\n})\r\n\r\nexport const {setUser} = slice.actions\r\nexport const loginReducer = slice.reducer\r\n\r\n\r\n","import React, {FC} from \"react\";\r\nimport {Formik, FormikHelpers} from 'formik';\r\nimport SuperInputText\r\n    from \"../../../n1-main/m1-ui/common/SuperInputText/SuperInputText\";\r\nimport SuperButton from \"../../../n1-main/m1-ui/common/SuperButton/SuperButton\";\r\nimport SuperCheckbox\r\n    from \"../../../n1-main/m1-ui/common/SuperCheckbox/SuperCheckbox\";\r\nimport {loginValidation} from \"./utils/validationSettings\";\r\nimport {NavLink, useNavigate} from \"react-router-dom\";\r\nimport s from './Login.module.css'\r\nimport {\r\n    FinallyErrorResponseType, useCheckAuthUserMutation,\r\n    useMakeLoginUserMutation\r\n} from \"../../../n1-main/m3-dal/auth-api\";\r\nimport {useAppDispatch} from \"../../../hook/redux\";\r\nimport {setAppIsAuth, setAppStatus} from \"../../../n1-main/m2-bll/app-reducer\";\r\nimport {setUser} from \"../../../n1-main/m2-bll/loginization-reducer\";\r\n\r\ntype InitialValuesType = {\r\n    email: string,\r\n    password: string,\r\n    rememberMe: boolean\r\n}\r\nexport const Login: FC = () => {\r\n\r\n    const [makeLogin, {error: errorLoginization}] = useMakeLoginUserMutation();\r\n    const [checkAuthUser] = useCheckAuthUserMutation();\r\n\r\n    const navigate = useNavigate();\r\n    const dispatch = useAppDispatch();\r\n\r\n    const onSubmitHandler = async (values: InitialValuesType) => {\r\n        dispatch(setAppStatus('loading'));\r\n        try {\r\n            await makeLogin(values).unwrap();\r\n            const user = await checkAuthUser().unwrap();\r\n            dispatch(setUser(user))\r\n            dispatch(setAppIsAuth(true))\r\n            dispatch(setAppStatus('succeeded'));\r\n            navigate('/packs-list', {replace: true})\r\n        } catch (e) {\r\n            dispatch(setAppStatus('failed'));\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={s.container}>\r\n            <span className={s.spanLogo}>Login</span>\r\n            <Formik validationSchema={loginValidation}\r\n                    initialValues={{email: '', password: '', rememberMe: false}}\r\n                    onSubmit={(values, formikHelpers: FormikHelpers<InitialValuesType>) => {\r\n                        onSubmitHandler(values)\r\n                            .then(res => {\r\n                                formikHelpers.setSubmitting(false)\r\n                            })\r\n                    }}\r\n                    validateOnMount\r\n            >\r\n                {(formik) => {\r\n                    return (<form onSubmit={formik.handleSubmit}>\r\n                        <SuperInputText\r\n                            required placeholder={'Email'}\r\n                            {...formik.getFieldProps('email')}\r\n                            error={formik.errors.email && formik.dirty ? 'Обязательное' +\r\n                                ' поле' : ''}/>\r\n                        <SuperInputText required\r\n                                        placeholder={'Password'}{...formik.getFieldProps('password')}\r\n                                        error={formik.errors.password && formik.dirty ? 'Обязательное' +\r\n                                            ' поле' : ''} hidden/>\r\n                        <div className={s.actionsContainer}><SuperCheckbox\r\n                            children={'Remember Me'} {...formik.getFieldProps('rememberMe')}/>\r\n                            <SuperButton\r\n                                className={s.btn__send}\r\n                                disabled={!formik.isValid || formik.isSubmitting}\r\n                                value={'Submit'}\r\n                                type={\"submit\"}>\r\n                                Send\r\n                            </SuperButton>\r\n                        </div>\r\n                    </form>)\r\n                }}\r\n            </Formik>\r\n            {\r\n                errorLoginization && <div className={'error'}>\r\n                    {\r\n                        (errorLoginization as FinallyErrorResponseType).data?.error || 'Ошибка соединения'\r\n                    }\r\n                </div>\r\n            }\r\n            <div className={s.links}>\r\n                <NavLink to=\"/recovery-password\">Forgot the password ?</NavLink>\r\n                <NavLink to=\"/registration\">Create an account</NavLink>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from \"react\";\r\nimport s from './TextError.module.css'\r\n\r\ntype TextErrorType={}\r\nexport const TextError: React.FC<TextErrorType> = React.memo(props => {\r\n    return (\r\n        <div className={s.error}>{props.children}</div>\r\n    )\r\n})","export default __webpack_public_path__ + \"static/media/eye.3807f329.png\";","export default __webpack_public_path__ + \"static/media/noEye.cb74c438.png\";","import React, {\r\n    DetailedHTMLProps,\r\n    InputHTMLAttributes,\r\n    useRef,\r\n} from \"react\";\r\nimport {FastField} from 'formik';\r\nimport {TextError} from \"../TextError/TextError\";\r\nimport s from './InputFormik.module.scss';\r\nimport eyePassword from '../../../../assets/eye.png';\r\nimport closeEyePassword from '../../../../assets/noEye.png'\r\nimport {FormikValues} from \"formik/dist/types\";\r\n\r\ntype DefaultInputPropsType = DetailedHTMLProps<InputHTMLAttributes<HTMLInputElement>, HTMLInputElement>\r\n\r\n// здесь мы говорим что у нашего инпута будут такие же пропсы как у обычного инпута\r\n// (чтоб не писать value: string, onChange: ...; они уже все описаны в DefaultInputPropsType)\r\ntype InputPropsType = DefaultInputPropsType & { // и + ещё пропсы которых нет в стандартном инпуте\r\n    label?: string\r\n    name: string\r\n    addClassInput?: string\r\n}\r\n\r\n\r\nexport const InputFormik = React.memo((props: InputPropsType) => {\r\n\r\n    const {label, name, addClassInput, ...restProps} = props;\r\n\r\n\r\n    const finalInputClass = `${s.input} ${addClassInput}`;\r\n\r\n\r\n    const inputRef = useRef<HTMLInputElement | null>(null);\r\n    const imgRef = useRef<HTMLImageElement | null>(null);\r\n\r\n    const showPassword = () => {\r\n        if (inputRef.current?.name === 'password' || inputRef.current?.name === 'confirmPassword') {\r\n            inputRef.current.type = 'text';\r\n            if (imgRef.current) {\r\n                imgRef.current.src = eyePassword\r\n            }\r\n            document.addEventListener('mouseup', hidePassword)\r\n        } else {\r\n            return\r\n        }\r\n    }\r\n    const hidePassword = () => {\r\n        if (inputRef.current?.name === 'password' || inputRef.current?.name === 'confirmPassword') {\r\n            inputRef.current.type = 'password';\r\n\r\n            if (imgRef.current) {\r\n                imgRef.current.src = closeEyePassword\r\n            }\r\n\r\n            document.removeEventListener('mouseup', hidePassword);\r\n\r\n        } else {\r\n            return\r\n        }\r\n    }\r\n\r\n    return (\r\n        <FastField name={name}>\r\n            {\r\n                (props: FormikValues) => {\r\n\r\n                    const {field, form} = props;\r\n\r\n                    return (\r\n                        <div className={s.item}>\r\n                            <label htmlFor={restProps.id}\r\n                                   className={s.label}>{label}</label>\r\n                            <input\r\n                                className={finalInputClass}\r\n                                ref={inputRef}\r\n                                {...restProps}\r\n                                {...field}\r\n                            />\r\n                            {\r\n                                name !== 'email' &&\r\n                                <img\r\n                                    ref={imgRef}\r\n                                    draggable={false}\r\n                                    onMouseDown={showPassword}\r\n                                    className={s.img} src={closeEyePassword}\r\n                                    alt=\"\"\r\n                                />\r\n                            }\r\n                            {\r\n                                form.errors[name] && form.touched[name] && form.dirty &&\r\n                                <TextError>{form.errors[name]}</TextError>\r\n                            }\r\n                        </div>\r\n                    )\r\n                }\r\n            }\r\n        </FastField>\r\n    )\r\n})\r\n\r\n","import React from \"react\";\r\nimport {Form, Formik, FormikHelpers} from 'formik'\r\nimport * as yup from 'yup'\r\nimport SuperButton from \"../../../n1-main/m1-ui/common/SuperButton/SuperButton\";\r\nimport {InputFormik} from \"../../../n1-main/m1-ui/common/InputFormik/InputFormik\";\r\nimport s from './Register.module.scss'\r\nimport {useNavigate} from \"react-router-dom\";\r\nimport {useAppDispatch} from \"../../../hook/redux\";\r\nimport {\r\n    FinallyErrorResponseType,\r\n    useRegistrationAuthMutation\r\n} from \"../../../n1-main/m3-dal/auth-api\";\r\nimport {setAppStatus} from \"../../../n1-main/m2-bll/app-reducer\";\r\n\r\n\r\ntype InitialValuesType = {\r\n    email: string,\r\n    password: string,\r\n    confirmPassword: string\r\n}\r\n\r\n\r\nexport const Register = () => {\r\n\r\n    const initialValues: InitialValuesType = {\r\n        email: '',\r\n        password: '',\r\n        confirmPassword: ''\r\n    }\r\n\r\n    const dispatch = useAppDispatch();\r\n    //  const error = useAppSelector(state => state.registration.error);\r\n    const navigate = useNavigate();\r\n\r\n    const [registrationUser, {error}] = useRegistrationAuthMutation()\r\n\r\n    const validationSchema = yup.object().shape({\r\n        email: yup.string().email('Invalid format email').required('Required'),\r\n        password: yup.string().matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[a-zA-Z\\d]{8,}$/,\r\n            'Minimum eight characters, at least one uppercase letter, one lowercase letter and one number').required('Required'),\r\n        confirmPassword: yup.string().oneOf([yup.ref('password')], 'passwords is not match').required('Required')\r\n    })\r\n\r\n    const onSubmit = async (values: InitialValuesType, formikHelpers: FormikHelpers<InitialValuesType>) => {\r\n\r\n        dispatch(setAppStatus('loading'));\r\n        try {\r\n            await registrationUser({\r\n                email: values.email,\r\n                password: values.password\r\n            }).unwrap()\r\n            dispatch(setAppStatus('succeeded'));\r\n            navigate('/login', {replace: true});\r\n        } catch (e) {\r\n            dispatch(setAppStatus('failed'));\r\n        }\r\n    }\r\n\r\n    const returnBack = () => navigate(-1);\r\n\r\n\r\n    return (\r\n        <div className={s.registration}>\r\n            <h1 className={s.title}>Sign up</h1>\r\n            <div className={s.body}>\r\n                <Formik\r\n                    initialValues={initialValues}\r\n                    validationSchema={validationSchema}\r\n                    onSubmit={onSubmit}\r\n                    validateOnMount\r\n                >\r\n                    {\r\n                        (formik) => (\r\n                            <Form className={s.form}>\r\n                                <InputFormik\r\n                                    id={'email'}\r\n                                    type={'email'}\r\n                                    name={'email'}\r\n                                    label={'Email'}\r\n                                />\r\n                                <InputFormik\r\n                                    id={'password'}\r\n                                    type={'password'}\r\n                                    name={'password'}\r\n                                    label={'Password'}\r\n                                />\r\n                                <InputFormik\r\n                                    id={'confirmPassword'}\r\n                                    type={'password'}\r\n                                    name={'confirmPassword'}\r\n                                    label={'Confirm password'}\r\n                                />\r\n                                {\r\n                                    error && <div className={'error'}>\r\n                                        {\r\n                                            (error as FinallyErrorResponseType).data.error || 'Ошибка соединения'\r\n                                        }\r\n                                    </div>\r\n                                }\r\n                                <div className={s.btns}>\r\n                                    <SuperButton\r\n                                        onClick={returnBack}\r\n                                        className={s.btn__cancel}\r\n                                        type={'button'}\r\n                                    >\r\n                                        Отмена\r\n                                    </SuperButton>\r\n                                    <SuperButton\r\n                                        className={s.btn__send}\r\n                                        disabled={!formik.isValid || formik.isSubmitting}\r\n                                        type={'submit'}\r\n                                    >\r\n                                        Отправить\r\n                                    </SuperButton>\r\n                                </div>\r\n                            </Form>\r\n                        )\r\n                    }\r\n                </Formik>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import {createAsyncThunk, createSlice, PayloadAction} from \"@reduxjs/toolkit\";\r\nimport {setAppStatus} from \"./app-reducer\";\r\nimport {AxiosError} from \"axios\";\r\n\r\n\r\n/*export const recoverPassword = createAsyncThunk<{ email: string, error: null }, { email: string },\r\n    { rejectValue: { error: string } }>('auth/recoveryPass',\r\n    async (param: { email: string },  {dispatch, rejectWithValue}) => {\r\n\r\n        dispatch(setAppStatus('loading'));\r\n\r\n        try {\r\n            await authApi.forgotPassword(param.email);\r\n            dispatch(setAppStatus('succeeded'));\r\n\r\n            return {email: param.email, error:null}\r\n\r\n        } catch (error) {\r\n\r\n            const isAxiosError = (something: any): something is AxiosError => {\r\n                return something.isAxiosError === true;\r\n            }\r\n\r\n            setTimeout(() => {\r\n                dispatch(setRecoverPasswordError({error: null}));\r\n            }, 4000)\r\n\r\n            if (isAxiosError(error)) {\r\n                dispatch(setAppStatus('failed'));\r\n                return rejectWithValue({error: error.message});\r\n\r\n            } else {\r\n                dispatch(setAppStatus('failed'));\r\n                return rejectWithValue({error: 'Some error is occurred!'});\r\n            }\r\n        }\r\n    })*/\r\n\r\ntype InitialStateType = {\r\n    email:string,\r\n    error:string | null\r\n}\r\nconst slice = createSlice({\r\n    name: 'recoveryPass',\r\n    initialState: {email: '', error: null} as InitialStateType,\r\n    reducers: {\r\n/*        setRecoverPasswordError(state, action: PayloadAction<{ error: string | null }>) {\r\n            state.error = action.payload.error\r\n        },*/\r\n        setEmail(state, action: PayloadAction<string>) {\r\n            state.email = action.payload\r\n        }\r\n    },\r\n/*    extraReducers: builder => {\r\n        builder.addCase(recoverPassword.fulfilled, (state, action) => {\r\n            state.email = action.payload.email\r\n            state.error = action.payload.error\r\n        })\r\n        builder.addCase(recoverPassword.rejected, (state, action) => {\r\n            state.error = action.payload?.error || null\r\n        })\r\n    }*/\r\n})\r\nexport const {setEmail} = slice.actions\r\nexport const recoveryPassReducer = slice.reducer;\r\n\r\n","import React from \"react\";\r\nimport * as yup from \"yup\";\r\nimport s from \"../a2-register/Register.module.scss\";\r\nimport {Form, Formik, FormikHelpers} from \"formik\";\r\nimport {InputFormik} from \"../../../n1-main/m1-ui/common/InputFormik/InputFormik\";\r\nimport SuperButton from \"../../../n1-main/m1-ui/common/SuperButton/SuperButton\";\r\nimport c from './RecoverPasswor.module.scss'\r\nimport {Link, useNavigate} from \"react-router-dom\";\r\nimport {setEmail} from \"../../../n1-main/m2-bll/recovery-passw-reducer\";\r\nimport {useAppDispatch, useAppSelector} from \"../../../hook/redux\";\r\nimport {\r\n    FinallyErrorResponseType, useForgotPasswordMutation\r\n} from \"../../../n1-main/m3-dal/auth-api\";\r\nimport {setAppStatus} from \"../../../n1-main/m2-bll/app-reducer\";\r\n\r\n\r\ntype InitialValuesType = {\r\n    email: string,\r\n}\r\nexport type OnSubmitType = {\r\n    setSubmitting: (value: boolean) => void\r\n}\r\n\r\nexport const RecoverPassword = () => {\r\n\r\n    const dispatch = useAppDispatch();\r\n   // const error = useAppSelector(state => state.recoveryPassword.error);\r\n    const navigate = useNavigate();\r\n\r\n    const [forgotPassword, {error}] = useForgotPasswordMutation();\r\n\r\n\r\n    const initialValues: InitialValuesType = {\r\n        email: '',\r\n    }\r\n\r\n    const validationSchema = yup.object().shape({\r\n        email: yup.string().email('Invalid format email').required('Required'),\r\n    })\r\n\r\n    const onSubmit = async (values: InitialValuesType, formikHelpers:FormikHelpers<InitialValuesType>) => {\r\n\r\n        dispatch(setAppStatus('loading'));\r\n        try {\r\n            await forgotPassword({email:values.email}).unwrap()\r\n            dispatch(setEmail(values.email));\r\n            dispatch(setAppStatus('succeeded'));\r\n            navigate('/check-password', {replace: true});\r\n        } catch (e) {\r\n            dispatch(setAppStatus('failed'));\r\n        }\r\n        formikHelpers.setSubmitting(false);\r\n\r\n    }\r\n\r\n    return (\r\n        <div className={s.registration}>\r\n            <h1 className={s.title}>Forgot your password</h1>\r\n            <div className={s.body}>\r\n                <Formik\r\n                    initialValues={initialValues}\r\n                    validationSchema={validationSchema}\r\n                    onSubmit={onSubmit}\r\n                    validateOnMount\r\n                >\r\n                    {\r\n                        (formik) => (\r\n                            <Form className={s.form}>\r\n                                <InputFormik\r\n                                    id={'email'}\r\n                                    type={'email'}\r\n                                    name={'email'}\r\n                                    label={'Email'}\r\n                                />\r\n                                <p className={c.text}>\r\n                                    Enter your email address adn we will send\r\n                                    you\r\n                                    further instructions\r\n                                </p>\r\n                               {/* {\r\n                                    error && <div className={'error'}>\r\n                                        {error }\r\n                                    </div>\r\n                                }*/}\r\n                                {\r\n                                    error && <div className={'error'}>\r\n                                        {\r\n                                            (error as FinallyErrorResponseType).data.error || 'Ошибка соединения'\r\n                                        }\r\n                                    </div>\r\n                                }\r\n                                <SuperButton\r\n                                    className={c.btn}\r\n                                    disabled={!formik.isValid || formik.isSubmitting}\r\n                                    type={'submit'}\r\n                                >\r\n                                    Send instructions\r\n                                </SuperButton>\r\n                                <p className={c.text__sub}>\r\n                                    Did you remember your password?\r\n                                </p>\r\n                                <div className={c.link}>\r\n                                    <Link to={'/login'}>Try loggin in</Link>\r\n                                </div>\r\n\r\n                            </Form>\r\n                        )\r\n                    }\r\n                </Formik>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from \"react\";\r\nimport * as yup from \"yup\";\r\nimport s from \"../a2-register/Register.module.scss\";\r\nimport c from \"./EnterPassword.module.scss\";\r\nimport {Form, Formik, FormikHelpers} from \"formik\";\r\nimport {InputFormik} from \"../../../n1-main/m1-ui/common/InputFormik/InputFormik\";\r\nimport SuperButton from \"../../../n1-main/m1-ui/common/SuperButton/SuperButton\";\r\nimport {useNavigate, useParams} from \"react-router-dom\";\r\nimport {useAppDispatch, useAppSelector} from \"../../../hook/redux\";\r\nimport {\r\n    FinallyErrorResponseType,\r\n    useCreateNewPasswordMutation\r\n} from \"../../../n1-main/m3-dal/auth-api\";\r\nimport {setAppStatus} from \"../../../n1-main/m2-bll/app-reducer\";\r\nimport {setEmail} from \"../../../n1-main/m2-bll/recovery-passw-reducer\";\r\n\r\n\r\ntype InitialValuesType = {\r\n    password: string,\r\n}\r\n\r\nexport const EnterPassword = () => {\r\n\r\n    const initialValues: InitialValuesType = {\r\n        password: '',\r\n    }\r\n\r\n    const dispatch = useAppDispatch();\r\n    // const error = useAppSelector(state => state.newPassword.error);\r\n    const [createNewPassword, {error}] = useCreateNewPasswordMutation();\r\n\r\n    const {token} = useParams();\r\n    const navigate = useNavigate();\r\n\r\n    const validationSchema = yup.object().shape({\r\n        password: yup.string().required('Required'),\r\n    })\r\n\r\n    const onSubmit = async (values: InitialValuesType, formikHelpers: FormikHelpers<InitialValuesType>) => {\r\n        /*if (token) {\r\n            const action = await dispatch(enterNewPassword({password: values.password, token: token}));\r\n            formikHelpers.setSubmitting(false);\r\n\r\n            if(!enterNewPassword.rejected.match(action)) {\r\n                navigate('/', {replace: true})\r\n            }\r\n        }*/\r\n        if (token) {\r\n            dispatch(setAppStatus('loading'));\r\n            try {\r\n                await createNewPassword({\r\n                    password: values.password,\r\n                    token,\r\n                }).unwrap()\r\n                dispatch(setAppStatus('succeeded'));\r\n                navigate('/', {replace: true})\r\n            } catch (e) {\r\n                dispatch(setAppStatus('failed'));\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={s.registration}>\r\n            <h1 className={s.title}>Create new password</h1>\r\n            <div className={s.body}>\r\n                <Formik\r\n                    initialValues={initialValues}\r\n                    validationSchema={validationSchema}\r\n                    onSubmit={onSubmit}\r\n                    validateOnMount\r\n                >\r\n                    {\r\n                        (formik) => (\r\n                            <Form className={s.form}>\r\n                                <InputFormik\r\n                                    type={'password'}\r\n                                    name={'password'}\r\n                                    label={'Password'}\r\n                                />\r\n                                {\r\n                                    error && <div className={'error'}>\r\n                                        {\r\n                                            (error as FinallyErrorResponseType).data.error || 'Ошибка соединения'\r\n                                        }\r\n                                    </div>\r\n                                }\r\n                                <div className={`${s.btns} ${c.btns}`}>\r\n                                    <SuperButton\r\n                                        className={`${s.btn__send} ${c.btn__send}`}\r\n                                        disabled={!formik.isValid || formik.isSubmitting}\r\n                                        type={'submit'}\r\n                                    >\r\n                                        Отправить\r\n                                    </SuperButton>\r\n                                </div>\r\n                            </Form>\r\n                        )\r\n                    }\r\n                </Formik>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from \"react\";\r\nimport s from \"../a2-register/Register.module.scss\";\r\nimport c from \"./CheckPassword.module.scss\";\r\nimport letter from '../../../assets/letter.png';\r\nimport {useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../../n1-main/m2-bll/state\";\r\n\r\nexport const CheckPassword = () => {\r\n\r\n    const email = useSelector<AppRootStateType, string>(state => state.recoveryPassword.email)\r\n\r\n    return (\r\n        <div className={s.registration}>\r\n            <div className={c.image}>\r\n                <img src={letter} alt=\"\"/>\r\n            </div>\r\n            <h1 className={`${s.title} ${c.title}`}>\r\n                Check Email\r\n            </h1>\r\n            <p className={c.text}>\r\n                We've sent an Email with instructions to {email}\r\n            </p>\r\n        </div>\r\n    )\r\n}","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIUAAACFCAYAAAB12js8AAABN2lDQ1BBZG9iZSBSR0IgKDE5OTgpAAAokZWPv0rDUBSHvxtFxaFWCOLgcCdRUGzVwYxJW4ogWKtDkq1JQ5ViEm6uf/oQjm4dXNx9AidHwUHxCXwDxamDQ4QMBYvf9J3fORzOAaNi152GUYbzWKt205Gu58vZF2aYAoBOmKV2q3UAECdxxBjf7wiA10277jTG+38yH6ZKAyNguxtlIYgK0L/SqQYxBMygn2oQD4CpTto1EE9AqZf7G1AKcv8ASsr1fBBfgNlzPR+MOcAMcl8BTB1da4Bakg7UWe9Uy6plWdLuJkEkjweZjs4zuR+HiUoT1dFRF8jvA2AxH2w3HblWtay99X/+PRHX82Vun0cIQCw9F1lBeKEuf1UYO5PrYsdwGQ7vYXpUZLs3cLcBC7dFtlqF8hY8Dn8AwMZP/fNTP8gAAAAJcEhZcwAALiMAAC4jAXilP3YAAAZhaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0NSA3OS4xNjM0OTksIDIwMTgvMDgvMTMtMTY6NDA6MjIgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IChXaW5kb3dzKSIgeG1wOkNyZWF0ZURhdGU9IjIwMTgtMTEtMjJUMTk6MDQ6MDUrMDU6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDE4LTExLTIyVDIxOjExOjU1KzA1OjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDE4LTExLTIyVDIxOjExOjU1KzA1OjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9IkFkb2JlIFJHQiAoMTk5OCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NzI3MzQwNWItMDdhZS0xNzQ4LWFhZTEtYjIzOTRlNDE3Y2E1IiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6NDQwY2Q4ODQtZmE4My05NDRlLTkyM2YtZDcxZDY3Y2EwYWMzIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6NjBlODg4Y2UtNDMyOS0zNjRiLWEzMTctZDcyNDI0ZDYxYzc1Ij4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo2MGU4ODhjZS00MzI5LTM2NGItYTMxNy1kNzI0MjRkNjFjNzUiIHN0RXZ0OndoZW49IjIwMTgtMTEtMjJUMTk6MDQ6MDUrMDU6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IChXaW5kb3dzKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY29udmVydGVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJmcm9tIGFwcGxpY2F0aW9uL3ZuZC5hZG9iZS5waG90b3Nob3AgdG8gaW1hZ2UvcG5nIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo3MjczNDA1Yi0wN2FlLTE3NDgtYWFlMS1i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\"","import React from \"react\";\r\nimport {Link } from \"react-router-dom\";\r\nimport s from './Error404.module.css'\r\n\r\nexport const Error404 = () => {\r\n    return (\r\n        <div className={s.body}>\r\n            <div className={s.errorPage}>\r\n                <div className={s.content}>\r\n                    <h1 data-text={\"404\"}>404</h1>\r\n                    <h4 data-text={\"Oops! Page not found!\"}>Oops! Page not found!</h4>\r\n                    <p>Sorry, the page you are looking for doesn't exist</p>\r\n                    <div className={s.btn}>\r\n                        <Link to={'login'}>\r\n                            <button>return</button>\r\n                        </Link>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","export default __webpack_public_path__ + \"static/media/loader.83d1d7ac.gif\";","import s from './Loader.module.scss'\r\nimport loader from '../../../../assets/loader.gif'\r\nexport const Loader = () => {\r\n    return (\r\n        <div className={s.container}>\r\n            <img className={s.loader} src={loader} alt=\"...loading\"/>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport {Outlet} from \"react-router-dom\";\r\nimport s from './Main.module.css'\r\nimport {Loader} from \"../common/Loader/Loader\";\r\nimport {useAppSelector} from \"../../../hook/redux\";\r\n\r\n\r\nexport const Main = () => {\r\n\r\n    const loadingStatus = useAppSelector(state => state.app.status);\r\n\r\n    return (\r\n        <main className={s.main}>\r\n            <div className={s.container}>\r\n                {loadingStatus === 'loading' && <Loader /> }\r\n                <Outlet/>\r\n            </div>\r\n        </main>\r\n    );\r\n}\r\n","import React from \"react\";\r\nimport {useNavigate} from \"react-router-dom\";\r\n\r\nimport s from './Sidebar.module.css'\r\nimport SuperButton from \"../../common/SuperButton/SuperButton\";\r\nimport {useAppDispatch} from \"../../../../hook/redux\";\r\nimport {useLogOutUserMutation} from \"../../../m3-dal/auth-api\";\r\nimport {setAppIsAuth, setAppStatus} from \"../../../m2-bll/app-reducer\";\r\n\r\nexport const Sidebar = () => {\r\n    const dispatch = useAppDispatch()\r\n\r\n    const [logOutUser] = useLogOutUserMutation();\r\n    const navigate = useNavigate();\r\n\r\n    const logOutHandler = async () => {\r\n        dispatch(setAppStatus('loading'));\r\n        try {\r\n            await logOutUser();\r\n            dispatch(setAppIsAuth(false))\r\n            dispatch(setAppStatus('succeeded'));\r\n            navigate('/login', {replace: true})\r\n        } catch (e) {\r\n            dispatch(setAppStatus('failed'));\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <div className={s.sidebar}>\r\n            <ul className={s.list}>\r\n                <li>\r\n                    <SuperButton onClick={logOutHandler} value={'LogOut'}>LogOut</SuperButton>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport s from './Tab.module.scss'\r\nimport {Link, useMatch} from \"react-router-dom\";\r\nimport PersonIcon from '@mui/icons-material/Person';\r\nimport ListAltIcon from '@mui/icons-material/ListAlt';\r\n\r\ntype TabType = {\r\n    name: string,\r\n    to: string\r\n}\r\nexport const TabComponent: React.FC<TabType> = React.memo(({name, to}) => {\r\n\r\n    const match = useMatch({\r\n        path: to, //главная страница\r\n        //если главная страница - то берем полный путь т.е. состоит только из /\r\n        end: to.length === 1\r\n    });\r\n    const finallyClass = match ? `${s.tab} ${s.active} ` : `${s.tab}`\r\n    return (\r\n        <Link to={to} className={finallyClass}>\r\n            {\r\n                name === 'Packs list'\r\n                    ? <ListAltIcon/>\r\n                    : <PersonIcon/>\r\n            }\r\n            <h2>{name}</h2>\r\n        </Link>\r\n    );\r\n})","import React from 'react';\r\n\r\nimport s from './Tabs.module.scss'\r\nimport {TabComponent} from \"./tab/TabComponent\";\r\n\r\n\r\nexport const Tabs = () => {\r\n\r\n    return (\r\n        <div className={s.container}>\r\n            <TabComponent to={'/packs-list'} name={'Packs list'}/>\r\n            <TabComponent to={'/profile'} name={'Profile'}/>\r\n        </div>\r\n    );\r\n}","import React from 'react';\r\nimport {Sidebar} from \"./sidebar/Sidebar\";\r\nimport s from './Header.module.scss'\r\nimport {Tabs} from \"./tabs/Tabs\";\r\n\r\n\r\nexport const Header = () => {\r\n\r\n    return (\r\n        <div className={s.header}>\r\n            <div className={s.container}>\r\n                <Sidebar/>\r\n                <Tabs />\r\n            </div>\r\n        </div>\r\n    );\r\n}","import React from 'react';\r\nimport s from './Footer.module.scss'\r\n\r\n\r\nexport const Footer = () => {\r\n\r\n    return (\r\n        <div className={s.header}>\r\n            <div className={s.container}>\r\n                footer\r\n            </div>\r\n        </div>\r\n    );\r\n}","import React from 'react';\r\nimport {Main} from \"./main/Main\";\r\nimport {Header} from \"./header/Header\";\r\nimport s from './Layout..module.scss'\r\nimport {Footer} from \"./footer/Footer\";\r\nimport {FinallyErrorResponseType} from \"../m3-dal/auth-api\";\r\nimport {Navigate, Outlet} from 'react-router-dom';\r\nimport {useAppSelector} from \"../../hook/redux\";\r\n\r\ntype LayoutType = {\r\n    error?: FinallyErrorResponseType\r\n}\r\nexport const Layout: React.FC<LayoutType> = ({error}) => {\r\n\r\n    const isAuth = useAppSelector(state => state.app.isAuthUser);\r\n\r\n    return (\r\n        <>\r\n            {\r\n                isAuth ?\r\n                    <div className={s.container}>\r\n                        <Header/>\r\n                        <Main/>\r\n                        <Footer/>\r\n                    </div>\r\n                    : error && error.data === undefined\r\n                        ? <div className={'errorNetwork'}>Сервер временно недоступен =(</div>\r\n                        : <div className={s.containerLogin}>\r\n                         <Outlet/>\r\n                        </div>\r\n            }\r\n        </>\r\n    );\r\n}","import {format} from 'date-fns';\r\n\r\nexport const COLUMNS = [\r\n    {\r\n        Header: 'Name',\r\n        accessor: 'name'\r\n    },\r\n    {\r\n        Header: 'Cards',\r\n        accessor: 'cardsCount'\r\n    },\r\n    {\r\n        Header: 'Last Updated',\r\n        accessor: 'updated',\r\n        Cell: ({value}: { value: Date }) => {\r\n            return format(new Date(value), 'dd.MM.yyyy')\r\n        },\r\n\r\n    },\r\n    {\r\n        Header: 'Created by',\r\n        accessor: 'user_name',\r\n    },\r\n]","import React, {useMemo, MouseEvent} from 'react';\r\nimport {useTable} from \"react-table\";\r\nimport {COLUMNS} from \"../column\";\r\nimport {CardPackType} from \"../../../../m3-dal/auth-api\";\r\nimport {useAppSelector} from \"../../../../../hook/redux\";\r\nimport './Table.scss'\r\nimport {packInfoType} from \"../PacksList\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {SortType} from \"../../../../m3-dal/pack-list-api\";\r\nimport {ModalTriggerType} from \"../../../../m2-bll/app-reducer\";\r\n\r\ntype TableType = {\r\n    data: Array<CardPackType>\r\n    sortData: () => void\r\n    openModalWindow: (value: boolean, trigger: ModalTriggerType, packInfo?: packInfoType) => void\r\n    updateSort: SortType | undefined,\r\n    triggerPage: 'packList' | 'profilePage'\r\n}\r\n\r\nexport const Table: React.FC<TableType> = ({\r\n                                               data,\r\n                                               sortData,\r\n                                               openModalWindow,\r\n                                               updateSort,\r\n                                               triggerPage\r\n                                           }) => {\r\n\r\n    const columns = useMemo(() => COLUMNS, []);\r\n    const userId = useAppSelector(state => state.loginization.user._id);\r\n\r\n    const tableHooks = (hooks: any) => {\r\n        //добавим свою колонку\r\n        hooks.visibleColumns.push((columns: any) => [\r\n            ...columns,\r\n            {\r\n                id: 'actions',\r\n                Header: 'Actions',\r\n                Cell: ({row}: any) => {\r\n                    if (row.original.user_id === userId) {\r\n                        return (\r\n                            <div className={'buttons'}>\r\n                                <button\r\n                                    className={'button button_delete'}\r\n                                    onClick={(e: MouseEvent<HTMLButtonElement>) => {\r\n                                        e.stopPropagation();\r\n                                        openModalWindow(true, \"deletePack\", {\r\n                                            id: row.original._id,\r\n                                            name: row.original.name\r\n                                        })\r\n                                    }\r\n                                    }\r\n                                >\r\n                                    delete\r\n                                </button>\r\n                                <button className={'button button_edit'}\r\n                                        onClick={(e: MouseEvent<HTMLButtonElement>) => {\r\n                                            e.stopPropagation();\r\n                                            openModalWindow(true, \"editPack\", {\r\n                                                id: row.original._id,\r\n                                                name: row.original.name\r\n                                            })\r\n                                        }\r\n                                        }>edit\r\n                                </button>\r\n                                <Link\r\n                                    to={`/packs-list/learnPack?cardsPack_id=${row.original._id}`}\r\n                                    className={'button'}\r\n                                    state={{\r\n                                        packName:row.original.name\r\n                                    }}\r\n                                >\r\n                                    Learn\r\n                                </Link>\r\n                            </div>\r\n                        )\r\n                    } else {\r\n                        return (\r\n                            <div className={'buttons'}>\r\n                                <Link\r\n                                    to={`/packs-list/learnPack?cardsPack_id=${row.original._id}`}\r\n                                    className={'button'}\r\n                                    state={{\r\n                                        packName:row.original.name\r\n                                    }}\r\n                                >\r\n                                    Learn\r\n                                </Link>\r\n                            </div>\r\n                        )\r\n                    }\r\n                }\r\n            }\r\n        ])\r\n    }\r\n\r\n    const {\r\n        getTableProps,\r\n        getTableBodyProps,\r\n        headerGroups,\r\n        rows,\r\n        prepareRow,\r\n    } = useTable({\r\n        // @ts-ignore\r\n        columns,\r\n        data,\r\n    }, tableHooks);\r\n\r\n\r\n    return (\r\n        <>\r\n            <table {...getTableProps()}>\r\n                <thead>\r\n                {\r\n                    headerGroups.map(headerGroup => (\r\n                        <tr {...headerGroup.getHeaderGroupProps()}>\r\n                            {\r\n                                headerGroup.headers.map(column => {\r\n\r\n                                    if (column.Header === 'Last Updated') {\r\n                                        return (\r\n                                            <th\r\n                                                className={updateSort === '0updated'\r\n                                                    ? 'sort'\r\n                                                    : 'sort back'\r\n                                                }\r\n                                                {...column.getHeaderProps()}\r\n                                                onClick={sortData}\r\n                                            >\r\n                                                {column.render('Header')}\r\n                                            </th>\r\n                                        )\r\n                                    } else {\r\n                                        return (\r\n                                            <th {...column.getHeaderProps()}>\r\n                                                {column.render('Header')}\r\n                                            </th>\r\n                                        )\r\n                                    }\r\n                                })\r\n                            }\r\n                        </tr>\r\n                    ))\r\n                }\r\n                </thead>\r\n                <tbody {...getTableBodyProps()}>\r\n                {\r\n                    rows.map(row => {\r\n                        prepareRow(row);\r\n                        return (\r\n\r\n                            <tr {...row.getRowProps()}>\r\n                                {\r\n                                    row.cells.map(cell => {\r\n                                        if (cell.column.Header === 'Name') {\r\n                                            return <td {...cell.getCellProps()}>\r\n                                                <Link\r\n                                                    className={'tdLink'}\r\n                                                    to={\r\n                                                        triggerPage === 'packList'\r\n                                                            ? `/packs-list/cards/card?cardsPack_id=${row.original._id}`\r\n                                                            : `/profile/cards/card?cardsPack_id=${row.original._id}`\r\n                                                    }\r\n                                                    state={{\r\n                                                        packName: cell.value,\r\n                                                        userIdPack: row.original.user_id\r\n                                                    }}\r\n                                                >\r\n                                                    {cell.render('Cell')}\r\n                                                </Link>\r\n                                            </td>\r\n                                        }\r\n                                        return <td {...cell.getCellProps()}>\r\n                                            <div>{cell.render('Cell')}</div>\r\n                                        </td>\r\n                                    })\r\n                                }\r\n                            </tr>\r\n                        )\r\n                    })\r\n                }\r\n                </tbody>\r\n            </table>\r\n        </>\r\n    );\r\n}","import {createApi} from \"@reduxjs/toolkit/dist/query/react\";\r\nimport {AllCardsType, axiosBaseQuery} from \"./auth-api\";\r\n\r\nexport type SortType = '0updated' | '1updated'\r\nexport type QueryParamsGetAllCardsType = {\r\n    packName?: string | null,\r\n    min?: number,\r\n    max?: number,\r\n    sortPacks?: SortType,\r\n    page?: number,\r\n    pageCount?: number,\r\n    user_id?: string | null\r\n}\r\nexport type ObjectPackType = {\r\n    name: string,\r\n    path: string,\r\n    grade: number,\r\n    shots: number,\r\n    rating: number,\r\n    deckCover: string,\r\n    private: boolean,\r\n    type: string\r\n}\r\nexport type CreatePackType = {\r\n    cardsCount: number\r\n    created: string\r\n    grade: number\r\n    more_id: string\r\n    name: string\r\n    path: string\r\n    private: boolean\r\n    rating: number\r\n    shots: number\r\n    type: string\r\n    updated: string\r\n    user_id: string\r\n    user_name: string\r\n    __v: number\r\n    _id: string\r\n    token: string\r\n    tokenDeathTime: number\r\n}\r\n\r\n\r\nexport const packListApi = createApi({\r\n    reducerPath: 'packListApi',\r\n    baseQuery: axiosBaseQuery({baseUrl: 'https://neko-back.herokuapp.com/2.0/'}),\r\n    tagTypes: ['Packs'],\r\n    endpoints: (build) => ({\r\n        getAllPacks: build.query<AllCardsType, QueryParamsGetAllCardsType>({\r\n            query: (arg) => ({\r\n                url: 'cards/pack',\r\n                params: {...arg},\r\n                method: 'GET',\r\n            }),\r\n            providesTags: ['Packs'],\r\n        }),\r\n        createNewPack: build.mutation<CreatePackType, { name: string }>({\r\n            query: (arg) => ({\r\n                url: 'cards/pack',\r\n                method: 'POST',\r\n                data: {cardsPack: arg},\r\n            }),\r\n            transformResponse: (result: { newCardsPack: CreatePackType }) => ({\r\n                ...result.newCardsPack\r\n            }),\r\n            /*invalidatesTags: ['Packs']*/\r\n        }),\r\n        deletePack: build.mutation<ObjectPackType, { id: string }>({\r\n            query: (arg) => ({\r\n                url: `cards/pack`,\r\n                method: 'DELETE',\r\n                params: arg\r\n            }),\r\n            invalidatesTags: ['Packs']\r\n        }),\r\n        updatePack: build.mutation<ObjectPackType, { _id: string, name: string }>({\r\n            query: (arg) => ({\r\n                url: `cards/pack`,\r\n                method: 'PUT',\r\n                data: {cardsPack: arg},\r\n            }),\r\n            invalidatesTags: ['Packs'],\r\n        })\r\n    })\r\n})\r\n\r\nexport const {\r\n    useGetAllPacksQuery,\r\n    useLazyGetAllPacksQuery,\r\n    useCreateNewPackMutation,\r\n    useDeletePackMutation,\r\n    useUpdatePackMutation\r\n} = packListApi;\r\n","import React, {useEffect, useState} from \"react\";\r\nimport s from './Pagination.module.scss'\r\n\r\nexport type PaginationType = {\r\n    totalCards: number,\r\n    pageSize: number,\r\n    pageCurrent: number\r\n    setCurrentPage: (pageNumber: number) => void\r\n    addClass?:string\r\n}\r\ntype LiArrayType = {\r\n    className: string,\r\n    name: string,\r\n    togglePage?: () => void\r\n}\r\n\r\nexport const Pagination: React.FC<PaginationType> =React.memo( (props) => {\r\n    const {totalCards, pageSize, pageCurrent , setCurrentPage, addClass} = props;\r\n\r\n    const [currentPage, setPage] = useState(pageCurrent);//текущая страница*/\r\n\r\n    const totalPages = Math.ceil(totalCards / pageSize)\r\n\r\n    let beforePage = currentPage - 1; // 5 -1 = 4\r\n    let afterPage = currentPage + 1;// 5 + 1 = 6\r\n\r\n    if (currentPage === totalPages) { //если мы на последнем\r\n        beforePage = beforePage - 2; //(20-1) = 19 - 7 = 17 - ,будет видна 17 страница\r\n    } else if (currentPage === totalPages - 1) { // мы на 19 странице(предпоследней)\r\n        beforePage = beforePage - 1;  //(19-1) = 18 - 1 = 17 - ,будет видна 17 страница\r\n    }\r\n\r\n    if (currentPage === 1) { //если мы на первой странице\r\n        afterPage = afterPage + 2; //(1+1) = 2 + 2 = 4 - ,будет видна 4 страница\r\n    } else if (currentPage === 2) { //если мы на второй странице\r\n        afterPage = afterPage + 1; //(2+1) = 3 + 1 = 4 - ,будет видна 4 страница\r\n    }\r\n    useEffect(() => {\r\n        setPage(pageCurrent)\r\n    },[pageCurrent])\r\n    const showElements = () => {\r\n\r\n        const liArray: Array<LiArrayType> = [];\r\n        let classPage = '';\r\n\r\n        if (totalPages === 1) {\r\n            liArray.push({\r\n                className: `${s.numb} ${s.active}`,\r\n                name: '1',\r\n                togglePage() {\r\n                    setCurrentPage(currentPage)\r\n                },\r\n            })\r\n            return liArray\r\n        }\r\n        if (totalPages > 1 && totalPages < 5) {\r\n            for (let i = 1; i < 5; i++) {\r\n                if (i > totalPages) {\r\n                    continue;\r\n                }\r\n                if (i === currentPage) {\r\n                    classPage = `${s.numb} ${s.active}`\r\n                } else {\r\n                    classPage = s.numb\r\n                }\r\n\r\n                liArray.push({\r\n                    className: classPage,\r\n                    name: String(i),\r\n                    togglePage() {\r\n                        setCurrentPage(i)\r\n                    }\r\n                })\r\n            }\r\n            return liArray\r\n        }\r\n\r\n        if (currentPage > 1) {\r\n            liArray.push({\r\n                className: `${s.btn} ${s.prev}`,\r\n                name: 'Prev',\r\n                togglePage() {\r\n                    setCurrentPage(currentPage - 1);\r\n                },\r\n            })\r\n        }\r\n\r\n        if (currentPage > 2) {\r\n            liArray.push({\r\n                className: s.numb,\r\n                name: '1',\r\n                togglePage() {\r\n                    setCurrentPage(1)\r\n                }\r\n            });\r\n\r\n            if (currentPage > 3) {\r\n                liArray.push({className: s.dots, name: '...',});\r\n            }\r\n\r\n        }\r\n\r\n        for (let pageLength = beforePage; pageLength <= afterPage; pageLength++) {\r\n\r\n            if (pageLength > totalPages) {\r\n                continue;\r\n            }\r\n            if (pageLength === 0) {\r\n                pageLength = pageLength + 1;\r\n            }\r\n\r\n            if (pageLength === currentPage) {\r\n                classPage = `${s.numb} ${s.active}`\r\n            } else {\r\n                classPage = s.numb\r\n            }\r\n\r\n            liArray.push({\r\n                className: classPage,\r\n                name: String(pageLength),\r\n                togglePage() {\r\n                    setCurrentPage(pageLength)\r\n                }\r\n            })\r\n        }\r\n\r\n        if (currentPage < totalPages - 1) {\r\n\r\n            if (currentPage < totalPages - 2) {\r\n                liArray.push({className: s.dots, name: '...',});\r\n            }\r\n\r\n            liArray.push({\r\n                className: s.numb,\r\n                name: `${totalPages}`,\r\n                togglePage() {\r\n                    setCurrentPage(totalPages)\r\n                }\r\n            });\r\n        }\r\n\r\n        if (currentPage < totalPages) {\r\n            liArray.push({\r\n                className: `${s.btn} ${s.next}`,\r\n                name: 'Next',\r\n                togglePage() {\r\n                    setCurrentPage(currentPage + 1)\r\n                },\r\n            })\r\n        }\r\n\r\n        return liArray;\r\n    }\r\n\r\n\r\n    return (\r\n            <div className={`${s.pagination} ${addClass}`}>\r\n                <ul className={s.btn}>\r\n                    {\r\n                        showElements().map(li => (\r\n                            <PagePagination\r\n                                key={String(Math.random())}\r\n                                name={li.name}\r\n                                className={li.className}\r\n                                callback={li.togglePage}\r\n                            />\r\n                        ))\r\n                    }\r\n                </ul>\r\n            </div>\r\n    )\r\n})\r\n\r\ntype PageType = {\r\n    className: string\r\n    name: string\r\n    callback?: () => void\r\n}\r\nexport const PagePagination: React.FC<PageType> = React.memo((\r\n    {\r\n        className,\r\n        name,\r\n        callback,\r\n    }) => {\r\n\r\n\r\n        const onClickHandler = () => {\r\n            callback && callback();\r\n        }\r\n\r\n        return (\r\n            <li className={className} onClick={onClickHandler}><span>{name}</span>\r\n            </li>\r\n        )\r\n    }\r\n)\r\n","import React, {ChangeEvent, useEffect, useState} from \"react\";\r\nimport s from './SearchInput.module.scss'\r\nimport {useDebounce} from \"../../../../../hook/debounce\";\r\n\r\ntype SearchInputType = {\r\n    valueSearch:string,\r\n    callback:(value:string) => void\r\n    addClass?: string\r\n}\r\nexport const InputSearch:React.FC<SearchInputType> = React.memo((props) => {\r\n\r\n    const{valueSearch, callback, addClass} = props;\r\n    const[tempValue, setTempValue] = useState(valueSearch)\r\n\r\n    const activeSearchValue = useDebounce({value: tempValue, delay:800})\r\n\r\n    const onChangeHandler = (e:ChangeEvent<HTMLInputElement>) => {\r\n        setTempValue(e.currentTarget.value)\r\n    }\r\n\r\n    useEffect(() => {\r\n       callback(activeSearchValue)\r\n\r\n    },[activeSearchValue])\r\n\r\n    return (\r\n        <input\r\n            type=\"text\"\r\n            className={`${s.input} ${addClass}`}\r\n            value={tempValue}\r\n            onChange={onChangeHandler}\r\n            placeholder={'Search...'}\r\n        />\r\n    )\r\n})","import {useEffect, useState} from \"react\";\r\n\r\ntype DebounceType = {\r\n    value:string,\r\n    delay: number\r\n}\r\nexport const useDebounce = ({value, delay}: DebounceType) => {\r\n\r\n    const [debValue, setDebValue] = useState(value);\r\n\r\n    useEffect(() => {\r\n\r\n        const id:number = window.setTimeout(() => {\r\n            setDebValue(value)\r\n        },delay)\r\n\r\n        return () => {\r\n            clearTimeout(id)\r\n        }\r\n\r\n    },[value, delay])\r\n\r\n    return debValue\r\n}","import React, {useEffect, useState, KeyboardEvent} from 'react'\r\nimport s from './Select.module.scss'\r\n\r\nexport type arrAlternativeType = {\r\n    id:string,\r\n    value:string\r\n}\r\ntype AlternativeSuperSelectType = {\r\n    value: any\r\n    tasks: arrAlternativeType[]\r\n    setValue: (id: string) => void\r\n}\r\nexport const Select: React.FC<AlternativeSuperSelectType> = React.memo((\r\n    {\r\n        value,\r\n        tasks,\r\n        setValue\r\n    }) => {\r\n    const [active, setActive] = useState(false);\r\n    const [hoverElID, setHoverElID] = useState(value);\r\n\r\n    const hoveredElement = tasks.find(t => t.id === hoverElID);\r\n    const selectedItem = tasks.find(t => t.id === value);\r\n    const toggleSelect = () => {\r\n        setActive(!active)\r\n    }\r\n\r\n    useEffect(() => {\r\n        setHoverElID(value)\r\n    }, [value])\r\n\r\n    const onKeyUpHandler = (e: KeyboardEvent<HTMLDivElement>) => {\r\n        if (e.key === 'ArrowUp' || e.key === 'ArrowDown') {\r\n            for (let i = 0; i < tasks.length; i++) {\r\n                if (tasks[i].id === hoverElID) {\r\n                    let newEl = e.key === 'ArrowUp'\r\n                        ? tasks[i - 1]\r\n                        : tasks[i + 1];\r\n                    if (newEl) {\r\n                        setValue(newEl.id)\r\n                    }\r\n                    return\r\n                }\r\n            }\r\n            if (!selectedItem) {\r\n                setValue(tasks[0].id)\r\n            }\r\n        }\r\n        if (e.key === 'Enter' || e.key === 'Escape') {\r\n            setActive(false)\r\n        }\r\n    }\r\n    return (\r\n        <div\r\n            tabIndex={0}\r\n            className={s.select}\r\n            onKeyUp={onKeyUpHandler}\r\n        >\r\n            <div\r\n                className={active ? `${s.title} ${s.active}` : s.title}\r\n                onClick={toggleSelect}\r\n            >\r\n                {selectedItem && selectedItem.value}\r\n            </div>\r\n            {\r\n                active &&\r\n                <div className={s.body}>\r\n                    {tasks.map(t => {\r\n                        const onClickHandler = () => {\r\n                            setValue(t.id);\r\n                            setActive(false)\r\n                        }\r\n                        return (\r\n                            <div\r\n                                className={t === hoveredElement ? `${s.item} ${s.hover} ${s.active}` : s.item}\r\n                                key={t.id}\r\n                                onClick={onClickHandler}\r\n                                onMouseEnter={() => setHoverElID(t.id)}\r\n                            >\r\n                                {t.value}\r\n                            </div>\r\n                        )\r\n                    })}\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n})","import React from \"react\";\r\nimport s from './Radio.module.scss'\r\n\r\ntype RadioButtonsType = {\r\n    name: string\r\n    text: string\r\n    activeBtn: boolean\r\n    callback:(name: string) => void\r\n    value:string\r\n}\r\nexport const RadioButton: React.FC<RadioButtonsType> = React.memo((props) => {\r\n\r\n    const {name, text, activeBtn, callback,value} = props;\r\n\r\n\r\n    const setValueBtn = () => {\r\n        callback(value)\r\n    }\r\n    const finallyClassText = activeBtn ? `${s.label} ${s.active}` : s.label\r\n    return (\r\n        <label className={finallyClassText}>\r\n            <input\r\n                className={`${s.radio}`}\r\n                type=\"radio\" name={name}\r\n                value={value}\r\n                onClick={setValueBtn}\r\n            />\r\n            <span className={s.text}>{text}</span>\r\n        </label>\r\n\r\n    )\r\n})","import React from \"react\";\r\nimport {Slider} from \"@mui/material\";\r\nimport s from './Range.module.scss'\r\n\r\nconst minDistance = 10;\r\n\r\ntype RangeType = {\r\n    minValue: number,\r\n    maxValue: number\r\n    setMinMaxRange: (values: Array<number>) => void\r\n}\r\n\r\nexport const Range: React.FC<RangeType> = React.memo((props) => {\r\n\r\n    const {minValue, maxValue, setMinMaxRange} = props;\r\n\r\n    const [value1, setValue1] = React.useState<number[]>([minValue, maxValue]);\r\n\r\n    const handleChange1 = (\r\n        event: Event,\r\n        newValue: number | number[],\r\n        activeThumb: number,\r\n    ) => {\r\n        if (!Array.isArray(newValue)) {\r\n            return;\r\n        }\r\n\r\n        if (activeThumb === 0) {\r\n            setValue1([Math.min(newValue[0], value1[1] - minDistance), value1[1]]);\r\n        } else {\r\n            setValue1([value1[0], Math.max(newValue[1], value1[0] + minDistance)]);\r\n        }\r\n\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <h3 className={s.title}>\r\n                Number of cards\r\n            </h3>\r\n            <div className={s.range}>\r\n                <Slider\r\n                    classes={{\r\n                        track: s.track,\r\n                        active: s.active, //активный кружок ( за который тянем)\r\n                        //dragging:s.red, //когда тянем кружок, весь range изменяется\r\n                        //focusVisible:s.red, //кружок в фокусе\r\n                        rail: s.rail, //оставшийся путь\r\n                        thumb: s.thumb, //кружки\r\n                        valueLabel:s.label\r\n                    }}\r\n                    getAriaLabel={() => 'Minimum distance'}\r\n                    value={value1}\r\n                    onChange={handleChange1}\r\n                    onMouseUp={() => setMinMaxRange(value1)}\r\n                    valueLabelDisplay=\"auto\"\r\n                    disableSwap\r\n                />\r\n            </div>\r\n        </>\r\n    )\r\n})","import React, {MouseEvent} from \"react\";\r\nimport s from './Modal.module.scss'\r\nimport {ModalTriggerType} from \"../../../m2-bll/app-reducer\";\r\n\r\n\r\ntype ModalType = {\r\n    isActive: boolean,\r\n    setActive: (value: boolean, trigger: ModalTriggerType) => void\r\n    trigger: ModalTriggerType\r\n}\r\nexport const Modal: React.FC<ModalType> = React.memo(props => {\r\n\r\n    const {isActive, setActive,trigger, children} = props;\r\n\r\n    const closeModal = () => {\r\n        setActive(false, trigger )\r\n    }\r\n    const clickContent = (e: MouseEvent<HTMLDivElement>) => {\r\n        e.stopPropagation();\r\n    }\r\n    const finallyClassModal = isActive ? `${s.modal} ${s.active}` : s.modal;\r\n    const finallyClassContent = isActive ? `${s.content} ${s.active}` : s.content;\r\n\r\n\r\n    return (\r\n        <div className={finallyClassModal} onClick={closeModal}>\r\n            <div\r\n                className={finallyClassContent}\r\n                onClick={clickContent}\r\n            >\r\n                {children}\r\n            </div>\r\n        </div>\r\n    )\r\n})","import React, {ChangeEvent, useState} from \"react\";\r\nimport s from './AddEditPackModal.module.scss'\r\nimport SuperButton from \"../../../common/SuperButton/SuperButton\";\r\nimport {ModalTriggerType} from \"../../../../m2-bll/app-reducer\";\r\n\r\n\r\ntype AddNewPackModalType = {\r\n    setNewTitlePack:(name:string) => void\r\n    openCloseModalWindow: (value: boolean, trigger: ModalTriggerType) => void\r\n    title:string\r\n    namePack?:string\r\n    trigger:ModalTriggerType\r\n\r\n}\r\nexport const AddEditPackModal :React.FC<AddNewPackModalType> = React.memo(props => {\r\n\r\n    const {setNewTitlePack, openCloseModalWindow, title, namePack,trigger} = props;\r\n\r\n    const[tempValue, setTempValue] = useState(namePack || '');\r\n\r\n    const onChangeHandler = (e:ChangeEvent<HTMLInputElement>) => {\r\n        setTempValue(e.currentTarget.value)\r\n    }\r\n\r\n    const sendNewTitlePack = () => {\r\n        setNewTitlePack(tempValue);\r\n        setTempValue('');\r\n    }\r\n    const closeModalWindow = () => {\r\n        openCloseModalWindow(false, trigger)\r\n    }\r\n    return(\r\n        <div className={s.container}>\r\n            <div className={s.top}>\r\n                <h2>{title}</h2>\r\n                <span onClick={closeModalWindow}>X</span>\r\n            </div>\r\n            <div className={s.body}>\r\n                <p>Name pack</p>\r\n                <input\r\n                    type=\"text\"\r\n                    onChange={onChangeHandler}\r\n                    value={tempValue}\r\n                />\r\n            </div>\r\n            <div className={s.btns}>\r\n                <SuperButton\r\n                    className={`${s.btn} ${s.cancel}`}\r\n                    onClick={closeModalWindow}\r\n                >\r\n                    Cancel\r\n                </SuperButton>\r\n                <SuperButton className={`${s.btn} ${s.save}`} onClick={sendNewTitlePack}>Save</SuperButton>\r\n            </div>\r\n        </div>\r\n    )\r\n})","import React from \"react\";\r\nimport s from '../AddEditPackModal/AddEditPackModal.module.scss'\r\nimport s2 from './DeleteModal.module.scss'\r\nimport SuperButton from \"../../../common/SuperButton/SuperButton\";\r\nimport {ModalTriggerType} from \"../../../../m2-bll/app-reducer\";\r\n\r\ntype TriggerDeleteType = 'deletePack' | 'deleteCard'\r\n\r\ntype DeletePackModalType = {\r\n    nameValue: string\r\n    deletePack: () => void\r\n    openCloseModalWindow: (value: boolean, trigger: ModalTriggerType) => void,\r\n    triggerDelete: TriggerDeleteType\r\n}\r\nexport const DeleteModalWindow: React.FC<DeletePackModalType> = React.memo(props => {\r\n\r\n    const {deletePack, nameValue, openCloseModalWindow, triggerDelete} = props;\r\n\r\n    const deletePackHandler = () => {\r\n        deletePack();\r\n    }\r\n    const closeModalWindow = () => {\r\n        openCloseModalWindow(false, null)\r\n    }\r\n    return (\r\n        <div className={s.container}>\r\n            <div className={s.top}>\r\n                <h2>{\r\n                    triggerDelete === 'deletePack'\r\n                        ? `Delete pack`\r\n                        : `Delete card`\r\n                }</h2>\r\n                <span onClick={closeModalWindow}>X</span>\r\n            </div>\r\n            <div className={`${s.body} ${s2.body}`}>\r\n                <p>Do you really want to remove <span className={s2.text}>\r\n                    {\r\n                        triggerDelete === 'deletePack'\r\n                            ? `Pack Name - ${nameValue}?`\r\n                            : `Card with question - ${nameValue}`\r\n                    }\r\n                </span></p>\r\n                <p>\r\n                    {\r\n                        triggerDelete === 'deletePack'\r\n                            ? `All cards will be excluded from this course.`\r\n                            : `Card will be excluded from this pack`\r\n                    }</p>\r\n            </div>\r\n            <div className={s.btns}>\r\n                <SuperButton\r\n                    className={`${s.btn} ${s.cancel}`}\r\n                    onClick={closeModalWindow}\r\n                >\r\n                    Cancel\r\n                </SuperButton>\r\n                <SuperButton className={`${s.btn} ${s2.delete}`}\r\n                             onClick={deletePackHandler}>Delete</SuperButton>\r\n            </div>\r\n        </div>\r\n    )\r\n})","import {createSlice, PayloadAction} from \"@reduxjs/toolkit\";\r\nimport {QueryParamsGetAllCardsType} from \"../../m3-dal/pack-list-api\";\r\n\r\n\r\nconst slice = createSlice({\r\n    name: 'PackList',\r\n    initialState: {\r\n        packName: '',\r\n        min: 0,\r\n        max: 50,\r\n        sortPacks: '0updated',\r\n        page: 1,\r\n        pageCount: 10,\r\n        user_id: null\r\n    } as QueryParamsGetAllCardsType,\r\n    reducers: {\r\n        setPackListParams(state, action:PayloadAction<QueryParamsGetAllCardsType>) {\r\n            return {...action.payload}\r\n        }\r\n    }\r\n})\r\n\r\nexport const packListReducer = slice.reducer;\r\nexport const {setPackListParams} = slice.actions;","import React, {useCallback} from 'react';\r\nimport s from './User.module.scss'\r\nimport {useAppDispatch, useAppSelector} from \"../../../../../hook/redux\";\r\nimport PersonIcon from '@mui/icons-material/Person';\r\nimport {\r\n    ModalTriggerType,\r\n    setIsOpenedModal,\r\n    setTriggerModal\r\n} from \"../../../../m2-bll/app-reducer\";\r\nimport {packInfoType} from \"../../packsList/PacksList\";\r\n\r\nexport const User = () => {\r\n\r\n    const user = useAppSelector(state => state.loginization.user);\r\n    const dispatch = useAppDispatch();\r\n\r\n    const openCloseModalWindow = useCallback((value: boolean, triggerName: ModalTriggerType,\r\n                                              info?: packInfoType) => {\r\n        dispatch(setIsOpenedModal(value));\r\n        if (!value) {\r\n\r\n            setTimeout(() => {\r\n                dispatch(setTriggerModal(null));\r\n            }, 400)\r\n\r\n        } else {\r\n            dispatch(setTriggerModal(triggerName));\r\n        }\r\n    }, [dispatch]);\r\n\r\n    return (\r\n        <>\r\n            <div className={s.container}>\r\n                <div title={'aaa'} className={s.image}>\r\n                    {\r\n                        user.avatar\r\n                            ? <img src={user.avatar} alt=\"\"/>\r\n                            : <PersonIcon className={s.unknown}/>\r\n                    }\r\n                </div>\r\n                <h1 className={s.name}>\r\n                    {user.name}\r\n                </h1>\r\n                <p className={s.text}>\r\n                    Front-end developer\r\n                </p>\r\n                <button type={\"button\"}\r\n                        className={s.btn}\r\n                        onClick={() => openCloseModalWindow(true, 'editProfile')}\r\n                >\r\n                    Edit profile\r\n                </button>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n","\r\nexport const convertBase64 = async (file:Blob) => {\r\n\r\n    return new Promise((resolve, reject) => {\r\n\r\n        const fileReader = new FileReader();\r\n        fileReader.readAsDataURL(file);\r\n\r\n        fileReader.onload = () => {\r\n            resolve(fileReader.result)\r\n        }\r\n        fileReader.onerror = (error) => {\r\n            reject(error)\r\n        }\r\n\r\n    })\r\n}","import React, {FormEvent, useEffect, useState} from \"react\";\r\nimport s from '../Pack/AddEditCardModal/AddEditCardModal.module.scss'\r\nimport SuperButton from \"../../../common/SuperButton/SuperButton\";\r\nimport {ModalTriggerType} from \"../../../../m2-bll/app-reducer\";\r\nimport PersonIcon from \"@mui/icons-material/Person\";\r\nimport s2 from './EditProfileModal.module.scss'\r\nimport AddAPhotoIcon from '@mui/icons-material/AddAPhoto';\r\nimport {convertBase64} from \"../../../../../utils/convertBase64\";\r\n\r\nimport {useForm} from \"react-hook-form\";\r\n\r\nimport {yupResolver} from '@hookform/resolvers/yup';\r\nimport * as yup from 'yup'\r\nimport * as Events from \"events\";\r\n\r\ntype InfoProfileType = {\r\n    nickName: string,\r\n    email: string\r\n    avatar: string | undefined\r\n}\r\ntype EditProfileModalType = {\r\n    updateProfileInfo: (nickName: string, avatar: string) => void\r\n    openCloseModalWindow: (value: boolean, trigger: ModalTriggerType) => void\r\n    infoProfile: InfoProfileType\r\n    trigger: ModalTriggerType\r\n\r\n}\r\n\r\ntype TempValueStateType = {\r\n    nickName: string,\r\n    avatar: string\r\n}\r\n\r\n/*const types = ['image/png', 'image/jpeg']\r\nconst dataValidationSchema = yup.object({\r\n    nickName: yup.string().min(3, 'At least 3 symbol!').max(20, 'Max 20 symbol!'),\r\n    avatar: yup.mixed().test('type', \"Invalid file's format!\", (value) => {\r\n        if (value === '' || typeof value === \"string\") {\r\n            return true\r\n        }\r\n        const index = types.findIndex(v => v === value[0].type)\r\n        return index > -1;\r\n    })\r\n})*/\r\n\r\nexport const EditProfileModal: React.FC<EditProfileModalType> = React.memo(props => {\r\n\r\n        const {\r\n            openCloseModalWindow,\r\n            infoProfile,\r\n            trigger,\r\n            updateProfileInfo\r\n        } = props;\r\n\r\n        const [tempValue, setTempValue] = useState<TempValueStateType>({\r\n            nickName: infoProfile.nickName,\r\n            avatar: infoProfile.avatar || '',\r\n        });\r\n\r\n        const {\r\n            register, //позволяет регестрировать поля для формы\r\n            handleSubmit,\r\n            formState: {errors},\r\n            reset, //очистка формы\r\n            getValues,\r\n        } = useForm<TempValueStateType>({\r\n            mode: 'onChange', //режимы валидации\r\n            defaultValues: {\r\n                nickName: infoProfile.nickName,\r\n                avatar: infoProfile.avatar || '',\r\n            },\r\n            /*resolver: yupResolver(dataValidationSchema)*/\r\n        });\r\n\r\n        const sendNewValuesCard = async (data: any) => {\r\n\r\n            try {\r\n                if (typeof data.avatar === 'string') {\r\n                    updateProfileInfo(data.nickName, data.avatar);\r\n                } else {\r\n                    if (data.avatar[0]) {\r\n                        const base64 = await convertBase64(data.avatar[0]);\r\n                        updateProfileInfo(data.nickName, base64 as string);\r\n                    } else {\r\n                        updateProfileInfo(data.nickName, '');\r\n                    }\r\n                }\r\n            } catch (e) {\r\n\r\n            }\r\n        }\r\n        const closeModalWindow = () => {\r\n            openCloseModalWindow(false, trigger)\r\n        }\r\n        const changeFileHandler = async (e: FormEvent<HTMLFormElement>) => {\r\n\r\n            if ((e as any).target.id === 'file') {\r\n\r\n                const {avatar} = getValues();\r\n                const avatarValue = avatar[0];\r\n                if (avatarValue) {\r\n                    //@ts-ignore\r\n                    const base64 = await convertBase64(avatarValue);\r\n                    setTempValue({...tempValue, avatar: base64 as string})\r\n                }\r\n            }\r\n        }\r\n\r\n        return (\r\n            <div className={s.container}>\r\n                <div className={s.top}>\r\n                    <h2>Personal information</h2>\r\n                    <span onClick={closeModalWindow}>X</span>\r\n                </div>\r\n                <form\r\n                    onSubmit={handleSubmit(sendNewValuesCard)}\r\n                    onChange={changeFileHandler}> {/*// handleSubmit передает данные из формы, sendNewValuesCard обработается, если в форме нету ошибок*/}\r\n                    <div className={s.body}>\r\n                        <div className={s2.avatar}>\r\n                            <div className={s2.avatar__container}>\r\n                                {\r\n                                    tempValue.avatar\r\n                                        ? <img src={tempValue.avatar} alt=\"\"/>\r\n                                        : <PersonIcon className={s2.unknown}/>\r\n                                }\r\n                                <label htmlFor={'file'} className={s2.addPhoto}>\r\n                                    <input\r\n                                        id={'file'}\r\n                                        type=\"file\"\r\n                                        accept={'.jpg,.jpeg,.png'}\r\n                                        {...register('avatar')}\r\n                                        className={s2.btnFile}\r\n                                    />\r\n                                    <AddAPhotoIcon style={{\r\n                                        fontSize: '40px',\r\n                                        color: '#020252',\r\n                                        cursor: 'pointer'\r\n                                    }}/>\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                        {\r\n                            errors?.avatar\r\n                            && <div\r\n                                className={'error'}>{errors?.avatar?.message || 'Incorrect file!'}</div>\r\n                        }\r\n                        <p>Nickname</p>\r\n                        <input\r\n                            {...register('nickName', {\r\n                                minLength:{\r\n                                    value:3,\r\n                                    message: 'At least 3 symbols!'\r\n                                },\r\n                                maxLength:{\r\n                                    value:30,\r\n                                    message: 'Max 30 symbols!'\r\n                                },\r\n                            })}\r\n                        />\r\n                        {\r\n                            errors?.nickName\r\n                            && <div\r\n                                className={'error'}>{errors?.nickName?.message || 'Error!'}</div>\r\n                        }\r\n                        <p>Email</p>\r\n                        <input\r\n                            value={infoProfile.email}\r\n                            disabled\r\n                        />\r\n                    </div>\r\n                    <div className={s.btns}>\r\n                        <SuperButton\r\n                            className={`${s.btn} ${s.cancel}`}\r\n                            onClick={closeModalWindow}\r\n                        >\r\n                            Cancel\r\n                        </SuperButton>\r\n                        <SuperButton\r\n                            type={'submit'}\r\n                            className={`${s.btn} ${s.save}`}\r\n                        >\r\n                            Save\r\n                        </SuperButton>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n)","import React, {useCallback, useEffect, useMemo, useState} from 'react';\r\nimport {Navigate, useNavigate, useSearchParams} from \"react-router-dom\";\r\nimport {Table} from \"./table/Table\";\r\nimport {useAppDispatch, useAppSelector} from \"../../../../hook/redux\";\r\nimport {\r\n    SortType,\r\n    useCreateNewPackMutation,\r\n    useDeletePackMutation,\r\n    useGetAllPacksQuery,\r\n    useUpdatePackMutation,\r\n    useLazyGetAllPacksQuery,\r\n} from \"../../../m3-dal/pack-list-api\";\r\nimport {Loader} from \"../../common/Loader/Loader\";\r\nimport s from './packList.module.scss'\r\nimport {Pagination} from \"../../common/Pagination/Pagination\";\r\nimport {InputSearch} from \"./searchInput/SearchInput\";\r\nimport {Select} from \"../../common/Select/Select\";\r\nimport {RadioButton} from \"../../common/RadioButtons/RadioButton\";\r\nimport {Range} from \"./range/Range\";\r\nimport {\r\n    ModalTriggerType,\r\n    setAppStatus,\r\n    setIsOpenedModal,\r\n    setTriggerModal\r\n} from \"../../../m2-bll/app-reducer\";\r\nimport {Modal} from \"../../common/Modal/Modal\";\r\nimport {AddEditPackModal} from \"./AddEditPackModal/AddEditPackModal\";\r\nimport {DeleteModalWindow} from \"./DeletePackModal/DeleteModalWindow\";\r\nimport {\r\n    FinallyErrorResponseType, useCheckAuthUserMutation,\r\n    useUpdateProfileUserMutation\r\n} from \"../../../m3-dal/auth-api\";\r\nimport {AxiosResponse} from \"axios\";\r\nimport {setPackListParams} from \"../../../m2-bll/a1-pakcList/packListReducer\";\r\nimport {User} from \"../profile/User/User\";\r\nimport {EditProfileModal} from \"./EditProfileModal/EditProfileModal\";\r\nimport {setUser} from \"../../../m2-bll/loginization-reducer\";\r\n\r\n\r\nexport type OptionsSelectType = {\r\n    id: string,\r\n    value: string\r\n}\r\nconst selectOptions: Array<OptionsSelectType> = [\r\n    {\r\n        id: '1',\r\n        value: '10'\r\n    },\r\n    {\r\n        id: '2',\r\n        value: '25'\r\n    },\r\n    {\r\n        id: '3',\r\n        value: '50'\r\n    },\r\n]\r\n\r\nexport type packInfoType = {\r\n    id: string,\r\n    name: string\r\n}\r\ntype PacksListType = {\r\n    triggerPage: 'packList' | 'profilePage'\r\n}\r\nexport const PacksList: React.FC<PacksListType> = React.memo((props) => {\r\n\r\n    const {triggerPage} = props;\r\n\r\n    const [searchParams, setSearchParams] = useSearchParams();\r\n\r\n    const [selectedOptionId, setSelectedOptionId] = useState(selectOptions[0].id);\r\n    const [packInfo, setPackInfo] = useState<packInfoType>({\r\n        id: '',\r\n        name: ''\r\n    });\r\n\r\n    const triggerModal = useAppSelector(state => state.app.modalTrigger);\r\n    const isAuth = useAppSelector(state => state.app.isAuthUser);\r\n    const userId = useAppSelector(state => state.loginization.user._id);\r\n    const isOpenModal = useAppSelector(state => state.app.isOpenedModal);\r\n    const queryParams = useAppSelector(state => state.packList);\r\n\r\n    const {name: nickNameUser, email: emailUser, avatar: avatarUser} =\r\n        useAppSelector(state => state.loginization.user);\r\n\r\n    const dispatch = useAppDispatch();\r\n\r\n    const navigate = useNavigate();\r\n    const {\r\n        data: allCards,\r\n        isLoading,\r\n        isFetching,\r\n        error: errorGettingPacks\r\n    } = useGetAllPacksQuery({\r\n        ...queryParams,\r\n        //чтобы когда мы на profile получали толко наши packs list\r\n        user_id: triggerPage === 'profilePage' ? userId : queryParams.user_id\r\n    }, {\r\n        skip: !isAuth,\r\n    });\r\n\r\n    const [createPack] = useCreateNewPackMutation();\r\n    const [deletePack] = useDeletePackMutation();\r\n    const [updatePack] = useUpdatePackMutation();\r\n    const [updateProfile] = useUpdateProfileUserMutation();\r\n    const [checkAuthUser] = useCheckAuthUserMutation();\r\n\r\n    const[lazyGetPack] = useLazyGetAllPacksQuery();\r\n\r\n    const data = useMemo(() => allCards ? allCards.cardPacks : [], [allCards]);\r\n\r\n    const setCurrentPageHandler = useCallback((page: number) => {\r\n        dispatch(setPackListParams({...queryParams, page}))\r\n    }, [queryParams, dispatch]);\r\n\r\n    const searchPackName = useCallback((packName: string) => {\r\n        dispatch(setPackListParams({...queryParams, packName}))\r\n    }, [queryParams, dispatch])\r\n\r\n    const setRadioButtonsValue = useCallback((name: string) => {\r\n        if (name === 'my') {\r\n            dispatch(setPackListParams({\r\n                ...queryParams,\r\n                user_id: userId\r\n            }))\r\n        } else {\r\n            dispatch(setPackListParams({...queryParams, user_id: null}))\r\n        }\r\n    }, [queryParams, userId, dispatch]);\r\n\r\n    const sortData = useCallback(() => {\r\n        const sort: SortType = queryParams.sortPacks === '0updated' ? '1updated' : '0updated';\r\n        dispatch(setPackListParams({...queryParams, sortPacks: sort}))\r\n    }, [queryParams, dispatch]);\r\n\r\n    const setMinMaxRange = useCallback((values: Array<number>) => {\r\n        dispatch(setPackListParams({\r\n            ...queryParams,\r\n            min: values[0],\r\n            max: values[1]\r\n        }))\r\n    }, [queryParams, dispatch]);\r\n\r\n    const openCloseModalWindow = useCallback((value: boolean, triggerName: ModalTriggerType,\r\n                                              info?: packInfoType) => {\r\n        dispatch(setIsOpenedModal(value));\r\n        if (!value) {\r\n\r\n            setTimeout(() => {\r\n                setPackInfo({id: '', name: ''});\r\n                dispatch(setTriggerModal(null));\r\n            }, 400)\r\n\r\n        } else {\r\n            if (triggerName === 'deletePack' || triggerName === 'editPack') {\r\n                info && setPackInfo({...info});\r\n            } else {\r\n                setPackInfo({id: '', name: ''})\r\n            }\r\n            dispatch(setTriggerModal(triggerName));\r\n        }\r\n    }, [dispatch]);\r\n\r\n\r\n    const createPackHandler = useCallback(async (name: string) => {\r\n        dispatch(setAppStatus('loading'));\r\n\r\n        try {\r\n\r\n            const response = await createPack({name});\r\n\r\n            await lazyGetPack({...queryParams,\r\n                //чтобы когда мы на profile получали толко наши packs list\r\n                user_id: triggerPage === 'profilePage' ? userId : queryParams.user_id})\r\n\r\n\r\n            dispatch(setIsOpenedModal(false));\r\n            dispatch(setAppStatus('succeeded'));\r\n            navigate(`/packs-list/cards/card?cardsPack_id=${(response as AxiosResponse).data._id}`,\r\n                {\r\n                    replace: true,\r\n                    state: {\r\n                        packName: name,\r\n                        userIdPack: (response as AxiosResponse).data.user_id\r\n                    }\r\n                }\r\n            )\r\n        } catch (e) {\r\n            dispatch(setAppStatus('failed'));\r\n        }\r\n    }, [createPack, dispatch, navigate]);\r\n\r\n    const updateProfileInfo = useCallback(async (nickName: string,\r\n                                                 avatar: string) => {\r\n        dispatch(setAppStatus('loading'));\r\n        try {\r\n            await updateProfile({name: nickName, avatar: avatar});\r\n            const response = await checkAuthUser().unwrap();\r\n            dispatch(setUser(response))\r\n            dispatch(setIsOpenedModal(false));\r\n            dispatch(setAppStatus('succeeded'));\r\n        } catch (e) {\r\n            dispatch(setAppStatus('failed'));\r\n        }\r\n    }, [dispatch, updateProfile, checkAuthUser]);\r\n\r\n    const updatePackHandler = useCallback(async (name: string) => {\r\n        dispatch(setAppStatus('loading'));\r\n        try {\r\n            await updatePack({_id: packInfo.id, name});\r\n            dispatch(setIsOpenedModal(false));\r\n            dispatch(setAppStatus('succeeded'));\r\n        } catch (e) {\r\n            dispatch(setAppStatus('failed'));\r\n        }\r\n    }, [dispatch, packInfo.id, updatePack]);\r\n\r\n    const deletePackHandler = useCallback(async () => {\r\n        dispatch(setAppStatus('loading'));\r\n        try {\r\n            await deletePack({id: packInfo.id});\r\n            dispatch(setIsOpenedModal(false));\r\n            dispatch(setAppStatus('succeeded'));\r\n        } catch (e) {\r\n            dispatch(setAppStatus('failed'));\r\n        }\r\n    }, [dispatch, deletePack, packInfo]);\r\n\r\n\r\n    //установка query параметров в url\r\n    useEffect(() => {\r\n\r\n        setSearchParams({...Object.entries(searchParams), ...queryParams})\r\n    }, [allCards, queryParams, searchParams, setSearchParams]);\r\n\r\n\r\n    useEffect(() => {\r\n        //чтобы на profile отражались только профиля packs\r\n        triggerPage === 'profilePage' && queryParams.user_id === null\r\n        && dispatch(setPackListParams({...queryParams, user_id: userId}))\r\n    }, [triggerPage, userId, dispatch])\r\n\r\n    //установка значения select\r\n    useEffect(() => {\r\n        const el = selectOptions.find(option => option.id === selectedOptionId);\r\n        if (el) {\r\n            dispatch(setPackListParams({\r\n                ...queryParams,\r\n                pageCount: Number(el.value)\r\n            }))\r\n        }\r\n    }, [selectedOptionId, dispatch]);\r\n\r\n    //блокируем скролл всей страницы, когда открыто модальное окно\r\n    /*    useEffect(() => {\r\n            if (isOpenModal) {\r\n                document.body.classList.add(s.body_lock)\r\n            } else {\r\n                document.body.className = ''\r\n            }\r\n        }, [isOpenModal])*/\r\n\r\n    if (!isAuth) {\r\n        return <Navigate to={'/login'} replace/>\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {isLoading\r\n                ? <Loader/>\r\n                :\r\n\r\n                errorGettingPacks ? <div className={'error'}>\r\n                        {\r\n                            (errorGettingPacks as FinallyErrorResponseType)?.data?.error || 'Ошибка соединения'\r\n                        }\r\n                    </div>\r\n                    :\r\n                    <>\r\n                        <div className={s.packList}>\r\n                            <div className={triggerPage === 'packList'\r\n                                ? s.panelCards\r\n                                : `${s.panelCards} ${s.noPadding}`}>\r\n                                {triggerPage === 'packList'\r\n                                    ? <>\r\n                                        <h3 className={s.title}>Show pack\r\n                                            cards</h3>\r\n                                        <div className={s.radioButtons}>\r\n                                            <RadioButton\r\n                                                activeBtn={queryParams.user_id !== null}\r\n                                                name={'cardsRadio'} text={'My'}\r\n                                                value={'my'}\r\n                                                callback={setRadioButtonsValue}/>\r\n                                            <RadioButton\r\n                                                activeBtn={queryParams.user_id === null}\r\n                                                value={'all'}\r\n                                                name={'cardsRadio'} text={'All'}\r\n                                                callback={setRadioButtonsValue}/>\r\n                                        </div>\r\n                                    </>\r\n                                    : <User/>\r\n                                }\r\n                                <div className={triggerPage === 'packList'\r\n                                    ? s.noPadding\r\n                                    : s.rangeContainer}>\r\n                                    <Range\r\n                                        minValue={queryParams.min || 0}\r\n                                        maxValue={queryParams.max || 100}\r\n                                        setMinMaxRange={setMinMaxRange}\r\n                                    /></div>\r\n                            </div>\r\n                            <div className={s.bodyCards}>\r\n                                <h2 className={s.title}>Packs List</h2>\r\n                                <div className={s.search}>\r\n                                    <InputSearch\r\n                                        valueSearch={queryParams.packName || ''}\r\n                                        callback={searchPackName}\r\n                                        addClass={s.input}\r\n                                    />\r\n                                    <button\r\n                                        onClick={() => openCloseModalWindow(true, 'addPack')}\r\n                                        className={s.button}>\r\n                                        Add new\r\n                                    </button>\r\n                                </div>\r\n                                <Table\r\n                                    data={data}\r\n                                    sortData={sortData}\r\n                                    openModalWindow={openCloseModalWindow}\r\n                                    updateSort={queryParams.sortPacks}\r\n                                    triggerPage={triggerPage}\r\n                                />\r\n                                <div className={s.selectCard}>\r\n                                    <Pagination\r\n                                        totalCards={allCards?.cardPacksTotalCount || 0}\r\n                                        pageSize={queryParams.pageCount || 10}\r\n                                        pageCurrent={queryParams.page || 1}\r\n                                        setCurrentPage={setCurrentPageHandler}\r\n                                    />\r\n                                    <div className={s.selectBody}>\r\n                                        <span>Show</span>\r\n                                        <Select\r\n                                            value={selectedOptionId}\r\n                                            tasks={selectOptions}\r\n                                            setValue={setSelectedOptionId}\r\n                                        />\r\n                                        <span>Cards per Page</span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <Modal\r\n                            isActive={isOpenModal}\r\n                            setActive={openCloseModalWindow}\r\n                            trigger={triggerModal}\r\n                        >\r\n                            {\r\n                                triggerModal === 'addPack'\r\n                                    ? <AddEditPackModal\r\n                                        setNewTitlePack={createPackHandler}\r\n                                        openCloseModalWindow={openCloseModalWindow}\r\n                                        title={'Add new pack'}\r\n                                        trigger={'addPack'}\r\n                                    />\r\n                                    : triggerModal === 'editPack'\r\n                                    ? <AddEditPackModal\r\n                                        setNewTitlePack={updatePackHandler}\r\n                                        openCloseModalWindow={openCloseModalWindow}\r\n                                        title={'Edit pack'}\r\n                                        namePack={packInfo.name}\r\n                                        trigger={'editPack'}\r\n                                    />\r\n                                    : triggerModal === 'deletePack'\r\n                                        ? <DeleteModalWindow\r\n                                            nameValue={packInfo.name}\r\n                                            deletePack={deletePackHandler}\r\n                                            openCloseModalWindow={openCloseModalWindow}\r\n                                            triggerDelete={'deletePack'}\r\n                                        />\r\n                                        : triggerModal === 'editProfile'\r\n                                            ? <EditProfileModal\r\n                                                openCloseModalWindow={openCloseModalWindow}\r\n                                                infoProfile={{\r\n                                                    nickName: nickNameUser,\r\n                                                    email: emailUser,\r\n                                                    avatar: avatarUser,\r\n                                                }}\r\n                                                trigger={'editProfile'}\r\n                                                updateProfileInfo={updateProfileInfo}\r\n                                            />\r\n                                            : false\r\n                            }\r\n                        </Modal>\r\n                    </>\r\n            }\r\n        </>\r\n    );\r\n})\r\n","import React from 'react';\r\nimport {PacksList} from \"../packsList/PacksList\";\r\nimport {useAppSelector} from \"../../../../hook/redux\";\r\n\r\n\r\nexport const Profile = () => {\r\n    /*const isAuth = useAppSelector(state => state.app.isAuthUser);\r\n    console.log(isAuth)*/\r\n    return (\r\n        <PacksList triggerPage={'profilePage'} />\r\n    );\r\n}\r\n","import {createApi} from \"@reduxjs/toolkit/dist/query/react\";\r\nimport {axiosBaseQuery} from \"./auth-api\";\r\nimport {SortType} from \"./pack-list-api\";\r\n\r\nexport type CardType = {\r\n    answer: string\r\n    cardsPack_id: string\r\n    comments: string\r\n    created: string\r\n    grade: number\r\n    more_id: string\r\n    question: string\r\n    rating: number\r\n    shots: number\r\n    type: string\r\n    updated: string\r\n    user_id: string\r\n    __v: number,\r\n    _id: string\r\n    answerImg?: null | string\r\n    answerVideo?: null | string\r\n    questionImg?: null | string\r\n    questionVideo?: null | string\r\n}\r\ntype UpdateGradeCardType = {\r\n    token: string\r\n    tokenDeathTime: number\r\n    updatedGrade: CardType\r\n}\r\ntype ResponseGetCard = {\r\n    cards: Array<CardType>\r\n    cardsTotalCount: number\r\n    maxGrade: number\r\n    minGrade: number\r\n    packUserId: number\r\n    page: number\r\n    pageCount: number\r\n    token: number\r\n    tokenDeathTime: number\r\n}\r\nexport type QueryParamsGetCardsOfPackType = {\r\n    cardAnswer?: string,\r\n    cardQuestion?: string,\r\n    cardsPack_id: string,\r\n    min?: number,\r\n    max?: number,\r\n    sortCards?: SortType,\r\n    page?: number,\r\n    pageCount?: number,\r\n}\r\nexport type RequestCreateCard = {\r\n    cardsPack_id: string,\r\n    question: string,\r\n    answer: string,\r\n    answerImg?: null | string\r\n    answerVideo?: null | string\r\n    questionImg?: null | string\r\n    questionVideo?: null | string\r\n}\r\nexport type RequestEditCard = {\r\n    _id: string,\r\n    question: string,\r\n    answer: string,\r\n    answerImg?: null | string\r\n    answerVideo?: null | string\r\n    questionImg?: null | string\r\n    questionVideo?: null | string\r\n}\r\n\r\nexport const cardsApi = createApi({\r\n    reducerPath: 'cardsApi',\r\n    baseQuery: axiosBaseQuery({baseUrl: 'https://neko-back.herokuapp.com/2.0/'}),\r\n    tagTypes: ['Cards'],\r\n    endpoints: (build) => ({\r\n        getCardsOfPack: build.query<ResponseGetCard, QueryParamsGetCardsOfPackType>({\r\n            query: (arg) => ({\r\n                url: 'cards/card',\r\n                params: {\r\n                    ...arg\r\n                },\r\n                method: 'GET'\r\n            }),\r\n            providesTags: ['Cards']\r\n        }),\r\n        createNewCard: build.mutation<{ newCard: CardType }, { card: RequestCreateCard }>({\r\n            query: (arg) => ({\r\n                url: 'cards/card',\r\n                method: 'POST',\r\n                data: {...arg},\r\n            }),\r\n            /*invalidatesTags: ['Cards']*/\r\n        }),\r\n        deleteCard: build.mutation<{ deletedCard: CardType }, { id: string }>({\r\n            query: (arg) => ({\r\n                url: 'cards/card',\r\n                method: 'DELETE',\r\n                params: {...arg}\r\n            }),\r\n            invalidatesTags: ['Cards']\r\n        }),\r\n        editCard: build.mutation<void, { card: RequestEditCard }>({\r\n            query: (arg) => ({\r\n                url: 'cards/card',\r\n                method: 'PUT',\r\n                data: {...arg},\r\n            }),\r\n            invalidatesTags: ['Cards'],\r\n        }),\r\n        setCardGrade: build.mutation<UpdateGradeCardType, {grade: number, card_id: string}>({\r\n            query:(arg) => ({\r\n                url: 'cards/grade',\r\n                method: 'PUT',\r\n                data: {...arg}\r\n            }),\r\n            /*invalidatesTags: ['Cards'],*/\r\n        })\r\n    })\r\n});\r\n\r\nexport const {\r\n    useGetCardsOfPackQuery,\r\n    useLazyGetCardsOfPackQuery,\r\n    useCreateNewCardMutation,\r\n    useDeleteCardMutation,\r\n    useEditCardMutation,\r\n    useSetCardGradeMutation,\r\n} = cardsApi;","import {format} from 'date-fns';\r\n\r\nexport const COLUMNS_CARD = [\r\n    {\r\n        Header: 'Question',\r\n        accessor: 'question'\r\n    },\r\n    {\r\n        Header: 'Answer',\r\n        accessor: 'answer'\r\n    },\r\n    {\r\n        Header: 'Last Updated',\r\n        accessor: 'updated',\r\n        Cell: ({value}: { value: Date }) => {\r\n            return format(new Date(value), 'dd.MM.yyyy')\r\n        },\r\n\r\n    },\r\n    {\r\n        Header: 'Grade',\r\n        accessor: 'rating',\r\n    },\r\n]","import {FC, MouseEvent, useEffect, useRef} from \"react\";\r\nimport s from './StarsRating.module.scss'\r\nimport {setRatingActiveWidth} from \"./count-width-active-start\";\r\n\r\ntype StarsRatingType = {\r\n    grade: number\r\n    setStarsRating?: (stars:number) => void\r\n    isChangeRating?: boolean\r\n}\r\ntype RatingStarType = {\r\n    id: string,\r\n    name:'rating',\r\n    value:number\r\n}\r\nexport const StarsRating:FC<StarsRatingType> = (props) => {\r\n\r\n    const {grade, setStarsRating, isChangeRating} = props;\r\n    const ratingStars:Array<RatingStarType> = [\r\n        {\r\n            id: '1',\r\n            name:\"rating\",\r\n            value: 1,\r\n        },\r\n        {\r\n            id: '2',\r\n            name:\"rating\",\r\n            value: 2,\r\n        },\r\n        {\r\n            id: '3',\r\n            name:\"rating\",\r\n            value: 3,\r\n        },\r\n        {\r\n            id: '4',\r\n            name:\"rating\",\r\n            value: 4,\r\n        },\r\n        {\r\n            id: '5',\r\n            name:\"rating\",\r\n            value: 5,\r\n        },\r\n    ]\r\n    const ratingActiveRef = useRef<HTMLDivElement | null>(null);\r\n\r\n\r\n/*    const onMouseEnterHandle = (e:MouseEvent<HTMLInputElement>) => {\r\n        /!*if(isChangeRating) {\r\n            if(ratingActiveRef.current) {\r\n                ratingActiveRef.current.style.width = `${setRatingActiveWidth(Number(e.currentTarget.value))}%`\r\n            }\r\n        }*!/\r\n        if(ratingActiveRef.current) {\r\n            ratingActiveRef.current.style.width = `${setRatingActiveWidth(Number(e.currentTarget.value))}%`\r\n        }\r\n    }\r\n    const onMouseLeaveHandle = (e:MouseEvent<HTMLInputElement>) => {\r\n        /!*if(isChangeRating) {\r\n            if(ratingActiveRef.current) {\r\n                ratingActiveRef.current.style.width = `${setRatingActiveWidth(rating)}%`\r\n            }\r\n        }*!/\r\n        if(ratingActiveRef.current) {\r\n            ratingActiveRef.current.style.width = `${setRatingActiveWidth(rating)}%`\r\n        }\r\n    }*/\r\n    const setRating = (e:MouseEvent<HTMLInputElement>) => {\r\n        setStarsRating && setStarsRating(Number(e.currentTarget.value))\r\n    }\r\n\r\n    useEffect(() =>{\r\n        if(ratingActiveRef.current) {\r\n            ratingActiveRef.current.style.width = `${setRatingActiveWidth(grade)}%`\r\n        }\r\n    },[grade])\r\n\r\n    return (\r\n        <div className={s.wrapper}>\r\n            <form action=\"#\" className={s.from}>\r\n                {/*<div className={s.form__item}>\r\n                    <div className={s.simple__rating}>\r\n                        <div className={s.simpleRating__items}>\r\n                            <input type=\"radio\"\r\n                                   className={s.simpleRating__item}\r\n                                   name={'rating'}\r\n                                   value={5}\r\n                                   id={'rating-5'}\r\n                            />\r\n                            <label htmlFor=\"rating-5\" className={s.simpleRating__label}> </label>\r\n                            <input type=\"radio\"\r\n                                   className={s.simpleRating__item}\r\n                                   name={'rating'}\r\n                                   value={4}\r\n                                   id={'rating-4'}\r\n                            />\r\n                            <label htmlFor=\"rating-4\" className={s.simpleRating__label}> </label>\r\n                            <input type=\"radio\"\r\n                                   className={s.simpleRating__item}\r\n                                   name={'rating'}\r\n                                   value={3}\r\n                                   id={'rating-3'}\r\n                            />\r\n                            <label htmlFor=\"rating-3\" className={s.simpleRating__label}> </label>\r\n                            <input type=\"radio\"\r\n                                   className={s.simpleRating__item}\r\n                                   name={'rating'}\r\n                                   value={2}\r\n                                   id={'rating-2'}\r\n                            />\r\n                            <label htmlFor=\"rating-2\" className={s.simpleRating__label}> </label>\r\n                            <input type=\"radio\"\r\n                                   className={s.simpleRating__item}\r\n                                   name={'rating'}\r\n                                   value={1}\r\n                                   id={'rating-1'}\r\n                            />\r\n                            <label htmlFor=\"rating-1\" className={s.simpleRating__label}> </label>\r\n                        </div>\r\n                    </div>\r\n                </div>*/}\r\n                <div className={s.form__item}>\r\n                    <div className={s.rating}>\r\n                        <div className={s.rating__body}>\r\n                            <div ref={ratingActiveRef} className={s.rating__active}> </div>\r\n                            <div className={s.rating__items}>\r\n                                {\r\n                                    ratingStars.map(star => (\r\n                                        <input\r\n                                            key={star.id}\r\n                                            className={s.rating__item}\r\n                                            type=\"radio\"\r\n                                            /*onMouseEnter={onMouseEnterHandle}\r\n                                            onMouseLeave={onMouseLeaveHandle}*/\r\n                                            onClick={setRating}\r\n                                            {...star}\r\n                                        />\r\n                                    ))\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                        {/*<div className={s.rating__value}>{rating}</div>*/}\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}","\r\nexport const setRatingActiveWidth = (index:number) => {\r\n    return index / 0.05;\r\n}\r\n","import React, {MouseEvent, useMemo} from 'react';\r\nimport {useTable} from \"react-table\";\r\nimport '../../table/Table.scss'\r\nimport {COLUMNS_CARD} from \"./columnCard\";\r\nimport {CardType} from \"../../../../../m3-dal/cards-api\";\r\nimport {SortType} from \"../../../../../m3-dal/pack-list-api\";\r\nimport {StarsRating} from \"../../../../common/StarsRating/StarsRating\";\r\nimport {useAppSelector} from \"../../../../../../hook/redux\";\r\nimport {ModalTriggerType} from \"../../../../../m2-bll/app-reducer\";\r\nimport {CardInfoType} from \"../CardsOfPack\";\r\n\r\ntype TableType = {\r\n    data: Array<CardType>\r\n    sortData: () => void\r\n    isOwnerCard: boolean\r\n    updateSort: SortType | undefined\r\n    openModalWindow: (value: boolean, trigger: ModalTriggerType, cardInfo?: CardInfoType) => void\r\n}\r\n\r\nexport const TableCard: React.FC<TableType> = ({\r\n                                                   data,\r\n                                                   sortData,\r\n                                                   isOwnerCard,\r\n                                                   updateSort,\r\n                                                   openModalWindow\r\n                                               }) => {\r\n\r\n    const columns = useMemo(() => COLUMNS_CARD, []);\r\n    const userId = useAppSelector(state => state.loginization.user._id);\r\n\r\n    const tableHooks = (hooks: any) => {\r\n        isOwnerCard && hooks.visibleColumns.push((columns: any) => [\r\n            ...columns,\r\n            {\r\n                Header: 'Actions',\r\n                id: 'actions',\r\n                Cell: ({row}: any) => {\r\n                    return (\r\n                        <div className={'buttons'}>\r\n                            <button\r\n                                className={'button button_delete'}\r\n                                onClick={() => {\r\n                                    openModalWindow(true,'deleteCard', {\r\n                                        id: row.original._id,\r\n                                        question:row.original.question,\r\n                                        answer:row.original.answer,\r\n                                        answerImg: row.original.answerImg,\r\n                                        answerVideo: row.original.answerVideo,\r\n                                        questionImg: row.original.questionImg,\r\n                                        questionVideo: row.original.questionVideo,\r\n                                    })\r\n                                }\r\n                                }\r\n                            >\r\n                                delete\r\n                            </button>\r\n                            <button className={'button button_edit'}\r\n                                    onClick={(e: MouseEvent<HTMLButtonElement>) => {\r\n                                        openModalWindow(true,'editCard', {\r\n                                            id: row.original._id,\r\n                                            question:row.original.question,\r\n                                            answer:row.original.answer,\r\n                                            answerImg: row.original.answerImg,\r\n                                            answerVideo: row.original.answerVideo,\r\n                                            questionImg: row.original.questionImg,\r\n                                            questionVideo: row.original.questionVideo,\r\n                                        })\r\n                                    }\r\n                                    }>edit\r\n                            </button>\r\n                        </div>\r\n                    )\r\n                }\r\n            }\r\n        ])\r\n    }\r\n    const {\r\n        getTableProps,\r\n        getTableBodyProps,\r\n        headerGroups,\r\n        rows,\r\n        prepareRow,\r\n    } = useTable({\r\n        // @ts-ignore\r\n        columns,\r\n        data,\r\n    }, tableHooks);\r\n\r\n    return (\r\n        <>\r\n            <table {...getTableProps()}>\r\n                <thead>\r\n                {\r\n                    headerGroups.map(headerGroup => (\r\n                        <tr {...headerGroup.getHeaderGroupProps()}>\r\n                            {\r\n                                headerGroup.headers.map(column => {\r\n\r\n                                    if (column.Header === 'Last Updated') {\r\n                                        return (\r\n                                            <th\r\n                                                className={updateSort === '0updated'\r\n                                                    ? 'sort'\r\n                                                    : 'sort back'\r\n                                                }\r\n                                                {...column.getHeaderProps()}\r\n                                                onClick={sortData}\r\n                                            >\r\n                                                {column.render('Header')}\r\n                                            </th>\r\n                                        )\r\n                                    } else {\r\n                                        return (\r\n                                            <th {...column.getHeaderProps()}>\r\n                                                {column.render('Header')}\r\n                                            </th>\r\n                                        )\r\n                                    }\r\n                                })\r\n                            }\r\n                        </tr>\r\n                    ))\r\n                }\r\n                </thead>\r\n                <tbody {...getTableBodyProps()}>\r\n                {\r\n                    rows.map((row,indexRow) => {\r\n\r\n                        prepareRow(row);\r\n                        return (\r\n\r\n                            <tr {...row.getRowProps()}>\r\n                                {\r\n\r\n                                    row.cells.map((cell, index) => {\r\n                                        return <td {...cell.getCellProps()}>\r\n                                            {\r\n                                                cell.column.Header === 'Grade'\r\n                                                ? <StarsRating\r\n                                                        grade={data[indexRow].grade}\r\n                                                        isChangeRating={row.original.user_id === String(userId)}\r\n                                                    />\r\n                                                : cell.render('Cell')\r\n                                            }\r\n                                        </td>\r\n                                    })\r\n                                }\r\n                            </tr>\r\n                        )\r\n                    })\r\n                }\r\n                </tbody>\r\n            </table>\r\n        </>\r\n    );\r\n}","import React from \"react\";\r\nimport s from \"./AddEditCardModal.module.scss\";\r\nimport {FileType} from \"./AddEditCardModal\";\r\n\r\ntype ImgVideoAudioType = {\r\n    file: FileType\r\n}\r\nexport const ImgVideoAudio: React.FC<ImgVideoAudioType> = React.memo(props => {\r\n\r\n    const {file} = props;\r\n    return (\r\n        <>\r\n            {\r\n                file &&\r\n                (file.type === 'image/jpeg'\r\n                    || file.type === 'image/png'\r\n                    || file.type === 'image/svg+xml'\r\n                )\r\n                    ? <div className={s.file}>\r\n                        <img\r\n                            src={file.name}\r\n                            alt=\"\"\r\n                        />\r\n                    </div>\r\n                    : file.type === 'video/webm'\r\n                    || file.type === 'video/mp4'\r\n                    || file.type === 'video/ogg'\r\n                    ? <div className={s.file}>\r\n                        <video preload=\"metadata\" controls>\r\n                            <source\r\n                                type={file.type}\r\n                                src={file.name}/>\r\n                        </video>\r\n                    </div>\r\n                    : false\r\n            }\r\n        </>\r\n    )\r\n})","import React, {\r\n    DetailedHTMLProps,\r\n    InputHTMLAttributes,\r\n    useEffect,\r\n    useState\r\n} from \"react\";\r\nimport s from './AddEditCardModal.module.scss'\r\n\r\nimport SuperButton from \"../../../../common/SuperButton/SuperButton\";\r\nimport {ModalTriggerType} from \"../../../../../m2-bll/app-reducer\";\r\nimport {CardInfoType} from \"../CardsOfPack\";\r\nimport {get, useForm} from \"react-hook-form\";\r\nimport {yupResolver} from \"@hookform/resolvers/yup\";\r\nimport * as yup from \"yup\";\r\nimport {convertBase64} from \"../../../../../../utils/convertBase64\";\r\nimport {ImgVideoAudio} from \"./ImgVideoAudio\";\r\n\r\n/*\r\nconst types = ['image/png', 'image/jpeg', 'image/svg+xml', 'video/mp4', 'video/ogg',\r\n    'video/webm'];\r\n//'audio/webm', 'audio/ogg', 'audio/mp4', 'audio/mpeg'\r\n\r\nconst dataValidationSchema = yup.object({\r\n    question: yup.string().min(1, 'At least 1 symbols'),\r\n    answer: yup.string().min(1, 'At least 1 symbols'),\r\n    fileQuestion: yup.mixed().test('type', \"Invalid file's format!\", (value) => {\r\n\r\n        if (value === '' || typeof value === \"string\") {\r\n            return true\r\n        }\r\n        const index = types.findIndex(v => v === value[0].type)\r\n        return index > -1;\r\n    }),\r\n    fileAnswer: yup.mixed().test('type', \"Invalid file's format!\", (value) => {\r\n\r\n        if (value === '' || typeof value === \"string\") {\r\n            return true\r\n        }\r\n        const index = types.findIndex(v => v === value[0].type)\r\n        return index > -1;\r\n    })\r\n})\r\n*/\r\n\r\ntype AddNewCardModalType = {\r\n    setNewCard: (data: CardInfoType) => void\r\n    openCloseModalWindow: (value: boolean, trigger: ModalTriggerType) => void\r\n    title: string\r\n    cardInfo?: CardInfoType\r\n    trigger: ModalTriggerType\r\n}\r\n\r\nexport type FileType = {\r\n    type: string,\r\n    name: string\r\n}\r\nexport type FilesType = {\r\n    fileQuestion: FileType,\r\n    fileAnswer: FileType\r\n}\r\n\r\nexport type TriggerType = 'question' | 'answer';\r\n\r\nexport const AddEditCardModal: React.FC<AddNewCardModalType> = React.memo(props => {\r\n\r\n    const {setNewCard, openCloseModalWindow, title, cardInfo, trigger} = props;\r\n\r\n    const [files, setFiles] = useState<FilesType>({\r\n        fileQuestion: {\r\n            type: '',\r\n            name: '',\r\n        },\r\n        fileAnswer: {\r\n            type: '',\r\n            name: '',\r\n        },\r\n    });\r\n\r\n    const {\r\n        register, //позволяет регестрировать поля для формы\r\n        handleSubmit,\r\n        formState: {errors},\r\n        reset, //очистка формы\r\n        getValues,\r\n    } = useForm<CardInfoType & { fileQuestion: string, fileAnswer: string }>({\r\n        mode: 'onChange', //режимы валидации\r\n        defaultValues: {\r\n            id: cardInfo?.id || '',\r\n            question: cardInfo?.question || '',\r\n            answer: cardInfo?.answer || '',\r\n            fileQuestion: cardInfo?.questionImg || cardInfo?.questionVideo || '',\r\n            fileAnswer: cardInfo?.answerImg || cardInfo?.answerVideo || '',\r\n        },\r\n        /*resolver: yupResolver(dataValidationSchema)*/\r\n    });\r\n\r\n    useEffect(() => {\r\n        const {fileQuestion, fileAnswer} = getValues();\r\n        if(fileQuestion) {\r\n            const str = fileQuestion.slice(fileQuestion.indexOf(':') + 1, fileQuestion.indexOf(';'))\r\n            setFiles({...files, fileQuestion:{\r\n                name:fileQuestion,\r\n                    type:str\r\n            }})\r\n        }\r\n        if(fileAnswer) {\r\n            const str = fileAnswer.slice(fileAnswer.indexOf(':') + 1, fileAnswer.indexOf(';'))\r\n            setFiles({...files, fileAnswer:{\r\n                    name:fileAnswer,\r\n                    type:str\r\n                }})\r\n        }\r\n    },[getValues])\r\n\r\n    const sendNewValuesCard = (dataForm: CardInfoType & FilesType) => {\r\n        setNewCard({\r\n            ...dataForm,\r\n            questionImg:\r\n                files.fileQuestion.type === 'image/png' ||\r\n                files.fileQuestion.type === 'image/jpeg' ||\r\n                files.fileQuestion.type === 'image/svg+xml'\r\n                    ? files.fileQuestion.name : null,\r\n\r\n            questionVideo:\r\n                files.fileQuestion.type === 'video/mp4' ||\r\n                files.fileQuestion.type === 'video/ogg' ||\r\n                files.fileQuestion.type === 'video/webm'\r\n                    ? files.fileQuestion.name : null,\r\n\r\n            answerImg:\r\n                files.fileAnswer.type === 'image/png' ||\r\n                files.fileAnswer.type === 'image/jpeg' ||\r\n                files.fileAnswer.type === 'image/svg+xml'\r\n                    ? files.fileQuestion.name : null,\r\n\r\n            answerVideo:\r\n                files.fileAnswer.type === 'video/mp4' ||\r\n                files.fileAnswer.type === 'video/ogg' ||\r\n                files.fileAnswer.type === 'video/webm'\r\n                    ? files.fileQuestion.name : null,\r\n        });\r\n    }\r\n    const closeModalWindow = () => {\r\n        openCloseModalWindow(false, trigger)\r\n    }\r\n\r\n    const changeFileHandler = async (e: DetailedHTMLProps<InputHTMLAttributes<HTMLInputElement>, HTMLInputElement>) => {\r\n\r\n        const values = getValues();\r\n\r\n        if ((e as any).target.dataset.name) {\r\n            const trigger: string = (e as any).target.dataset.name;\r\n\r\n            if (trigger === 'question') {\r\n                const fileValue = values.fileQuestion[0];\r\n                if (fileValue) {\r\n                    //@ts-ignore\r\n                    const base64 = await convertBase64(fileValue);\r\n                    setFiles({\r\n                        ...files,\r\n                        fileQuestion: {\r\n                            name: base64 as string,\r\n                            //@ts-ignore\r\n                            type: fileValue.type\r\n                        }\r\n                    })\r\n                }\r\n            } else {\r\n                const fileValue = values.fileAnswer[0];\r\n                if (fileValue) {\r\n                    //@ts-ignore\r\n                    const base64 = await convertBase64(fileValue);\r\n                    setFiles({\r\n                        ...files,\r\n                        fileAnswer: {\r\n                            name: base64 as string,\r\n                            //@ts-ignore\r\n                            type: fileValue.type\r\n                        }\r\n                    })\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    const clearFileHandler = (trigger: TriggerType) => {\r\n\r\n        if (trigger === 'question') {\r\n            reset({...getValues(), fileQuestion: ''})\r\n            setFiles({...files, fileQuestion: {name: '', type: ''}})\r\n        } else {\r\n            reset({...getValues(), fileAnswer: ''})\r\n            setFiles({...files, fileAnswer: {name: '', type: ''}})\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={s.container}>\r\n            <div className={s.top}>\r\n                <h2>{title}</h2>\r\n                <span onClick={closeModalWindow}>X</span>\r\n            </div>\r\n            <form onSubmit={handleSubmit(sendNewValuesCard)}\r\n                  onChange={changeFileHandler}>\r\n                <div className={s.body}>\r\n                    <p>Question</p>\r\n                    <input\r\n                        {...register('question', {\r\n                            minLength: {\r\n                                value: 1,\r\n                                message: 'Empty field!'\r\n                            }\r\n                        })}\r\n                    />\r\n                    <ImgVideoAudio file={files.fileQuestion}/>\r\n                    <div className={s.containerLabel}>\r\n                        <label className={s.fileLabel} htmlFor=\"fileQuestion\">\r\n                            <p>+ Attach file</p>\r\n                            <input\r\n                                type=\"file\"\r\n                                id={'fileQuestion'}\r\n                                {...register('fileQuestion')}\r\n                                data-name={'question'}\r\n                                accept={'.jpg,.jpeg,.png,.svg+xml,.mp4,.ogg,.webm'}\r\n                            />\r\n                        </label>\r\n                        {\r\n                            files.fileQuestion.name && !errors?.fileQuestion &&\r\n                            <span className={s.clearFile}\r\n                                  onClick={() => clearFileHandler('question')}\r\n                            >\r\n                                delete\r\n                            </span>\r\n                        }\r\n                    </div>\r\n                    {\r\n                        errors?.fileQuestion\r\n                        && <div\r\n                            className={'error'}>{errors?.fileQuestion?.message || 'Incorrect file!'}\r\n                        </div>\r\n                    }\r\n                    {/*-----------*/}\r\n                    <p>Answer</p>\r\n                    <input\r\n                        {...register('answer', {\r\n                            minLength: {\r\n                                value: 1,\r\n                                message: 'Empty field!'\r\n                            },\r\n                        })}\r\n                    />\r\n                    <ImgVideoAudio file={files.fileAnswer}/>\r\n                    <div className={s.containerLabel}>\r\n                        <label className={s.fileLabel} htmlFor=\"fileAnswer\">\r\n                            <p>+ Attach file</p>\r\n                            <input\r\n                                type=\"file\"\r\n                                id={'fileAnswer'}\r\n                                {...register('fileAnswer')}\r\n                                data-name={'answer'}\r\n                                accept={'.jpg,.jpeg,.png,.svg+xml,.mp4,.ogg,.webm'}\r\n                            />\r\n                        </label>\r\n                        {\r\n                            files.fileAnswer.name && !errors?.fileAnswer &&\r\n                            <span className={s.clearFile}\r\n                                  onClick={() => clearFileHandler('answer')}\r\n                            >delete\r\n                            </span>\r\n                        }\r\n                    </div>\r\n                    {\r\n                        errors?.fileAnswer\r\n                        && <div\r\n                            className={'error'}>{errors?.fileAnswer?.message || 'Incorrect file!'}\r\n                        </div>\r\n                    }\r\n                </div>\r\n                <div className={s.btns}>\r\n                    <SuperButton\r\n                        className={`${s.btn} ${s.cancel}`}\r\n                        onClick={closeModalWindow}\r\n                    >\r\n                        Cancel\r\n                    </SuperButton>\r\n                    <SuperButton\r\n                        className={`${s.btn} ${s.save}`} type={'submit'}\r\n                    >\r\n                        Save\r\n                    </SuperButton>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n})\r\n","import React, {useCallback, useEffect, useState} from \"react\";\r\nimport {useLocation, useNavigate, useSearchParams} from \"react-router-dom\";\r\nimport {\r\n    QueryParamsGetCardsOfPackType, RequestCreateCard,\r\n    useCreateNewCardMutation,\r\n    useDeleteCardMutation,\r\n    useEditCardMutation,\r\n    useGetCardsOfPackQuery, useLazyGetCardsOfPackQuery\r\n} from \"../../../../m3-dal/cards-api\";\r\nimport {TableCard} from \"./tableCard/TableCard\";\r\nimport s from './CardsOfPack.module.scss'\r\nimport ArrowBackIcon from '@mui/icons-material/ArrowBack';\r\nimport {useAppDispatch, useAppSelector} from \"../../../../../hook/redux\";\r\nimport {InputSearch} from \"../searchInput/SearchInput\";\r\nimport {Loader} from \"../../../common/Loader/Loader\";\r\nimport {OptionsSelectType} from \"../PacksList\";\r\nimport {Select} from \"../../../common/Select/Select\";\r\nimport {Pagination} from \"../../../common/Pagination/Pagination\";\r\nimport {\r\n    SortType,\r\n    useLazyGetAllPacksQuery\r\n} from \"../../../../m3-dal/pack-list-api\";\r\nimport {\r\n    ModalTriggerType,\r\n    setAppStatus,\r\n    setIsOpenedModal,\r\n    setTriggerModal\r\n} from \"../../../../m2-bll/app-reducer\";\r\nimport {Modal} from \"../../../common/Modal/Modal\";\r\nimport {AddEditCardModal} from \"./AddEditCardModal/AddEditCardModal\";\r\nimport {DeleteModalWindow} from \"../DeletePackModal/DeleteModalWindow\";\r\n\r\n\r\nexport type CardInfoType = {\r\n    id: string,\r\n    question: string,\r\n    answer: string,\r\n    answerImg?: null | string\r\n    answerVideo?: null | string\r\n    questionImg?: null | string\r\n    questionVideo?: null | string\r\n}\r\nconst selectOptions: Array<OptionsSelectType> = [\r\n    {\r\n        id: '1',\r\n        value: '5'\r\n    },\r\n    {\r\n        id: '2',\r\n        value: '10'\r\n    },\r\n    {\r\n        id: '3',\r\n        value: '20'\r\n    },\r\n]\r\ntype PackType = {}\r\ntype LocationStateType = {\r\n    userIdPack: string\r\n    packName: string;\r\n}\r\n\r\nexport const CardsOfPack: React.FC<PackType> = React.memo(props => {\r\n\r\n        const [searchParams, setSearchParams] = useSearchParams();\r\n        const navigate = useNavigate();\r\n        const location = useLocation();\r\n        const packInfo = location.state as LocationStateType;\r\n        const dispatch = useAppDispatch();\r\n\r\n        const cardId = searchParams.get('cardsPack_id') || ''; //поисковый запрос, || '' -если не найдет\r\n\r\n        const isOpenModal = useAppSelector(state => state.app.isOpenedModal);\r\n        const isAuth = useAppSelector(state => state.app.isAuthUser);\r\n        const userId = useAppSelector(state => state.loginization.user._id);\r\n        const triggerModal = useAppSelector(state => state.app.modalTrigger);\r\n        const queryPackParams = useAppSelector(state => state.packList);\r\n\r\n        const [queryParams, setQueryParams] = useState<QueryParamsGetCardsOfPackType>({\r\n            cardsPack_id: cardId,\r\n            pageCount: 10,\r\n            cardQuestion: '',\r\n            cardAnswer: '',\r\n            sortCards: '0updated',\r\n            page: 1,\r\n        });\r\n        const [selectedOptionId, setSelectedOptionId] = useState(selectOptions[1].id);\r\n\r\n        const [cardInfo, setCardInfo] = useState<CardInfoType>({\r\n            id: '',\r\n            question: '',\r\n            answer: '',\r\n            answerImg: null,\r\n            answerVideo: null,\r\n            questionImg: null,\r\n            questionVideo: null,\r\n        });\r\n\r\n        const {\r\n            data,\r\n            isLoading,\r\n            isError,\r\n        } = useGetCardsOfPackQuery(queryParams, {\r\n            skip: !isAuth,\r\n        });\r\n        const [upd] = useLazyGetCardsOfPackQuery();\r\n\r\n        useEffect(() => {\r\n            upd(queryParams); //для обновления звезд\r\n        },[])\r\n\r\n        const [createCard] = useCreateNewCardMutation();\r\n        const [deleteCard] = useDeleteCardMutation();\r\n        const [updateCard] = useEditCardMutation();\r\n        const [getCards] = useLazyGetCardsOfPackQuery();\r\n        const [updatePacks] = useLazyGetAllPacksQuery();\r\n\r\n\r\n        const sortData = useCallback(() => {\r\n            const sort: SortType = queryParams.sortCards === '0updated' ? '1updated' : '0updated';\r\n            setQueryParams({...queryParams, sortCards: sort})\r\n        }, [queryParams]);\r\n\r\n        const goBack = async () => {\r\n            await updatePacks(queryPackParams)\r\n            navigate(-1)\r\n        };\r\n\r\n        const searchCardName = useCallback((searchValue: string) => {\r\n            setQueryParams({...queryParams, cardQuestion: searchValue})\r\n        }, [queryParams]);\r\n\r\n        const setCurrentPageHandler = useCallback((page: number) => {\r\n            if (isAuth) {\r\n                setQueryParams({...queryParams, page})\r\n            }\r\n        }, [isAuth, queryParams]);\r\n\r\n        const createCardHandler = useCallback(async (data: CardInfoType) => {\r\n            dispatch(setAppStatus('loading'));\r\n\r\n            try {\r\n                await createCard({\r\n                    card: {\r\n                        cardsPack_id: cardId,\r\n                        question: data.question,\r\n                        answer: data.answer,\r\n                        answerImg: data.answerImg || null,\r\n                        answerVideo: data.answerVideo || null,\r\n                        questionImg: data.questionImg || null,\r\n                        questionVideo: data.questionVideo || null,\r\n\r\n                    }\r\n                });\r\n                await getCards(queryParams)\r\n                dispatch(setIsOpenedModal(false));\r\n                dispatch(setAppStatus('succeeded'));\r\n\r\n\r\n            } catch (e) {\r\n                dispatch(setAppStatus('failed'));\r\n            }\r\n        }, [createCard, dispatch, cardId]);\r\n\r\n        const deleteCardHandler = useCallback(async () => {\r\n\r\n            dispatch(setAppStatus('loading'));\r\n            try {\r\n\r\n                await deleteCard({id: cardInfo.id});\r\n                dispatch(setIsOpenedModal(false));\r\n                dispatch(setAppStatus('succeeded'));\r\n            } catch (e) {\r\n                dispatch(setAppStatus('failed'));\r\n            }\r\n        }, [cardInfo.id, deleteCard, dispatch,])\r\n\r\n        const editCardHandler = useCallback(async (data: CardInfoType) => {\r\n            dispatch(setAppStatus('loading'));\r\n\r\n            try {\r\n                await updateCard({\r\n                    card: {\r\n                        _id: data.id,\r\n                        question: data.question,\r\n                        answer: data.answer,\r\n                        answerImg: data.answerImg || null,\r\n                        answerVideo: data.answerVideo || null,\r\n                        questionImg: data.questionImg || null,\r\n                        questionVideo: data.questionVideo || null,\r\n                    }\r\n                });\r\n\r\n                dispatch(setIsOpenedModal(false));\r\n                dispatch(setAppStatus('succeeded'));\r\n\r\n            } catch (e) {\r\n                dispatch(setAppStatus('failed'));\r\n            }\r\n        }, [dispatch, updateCard])\r\n\r\n\r\n        const openCloseModalWindow = useCallback(\r\n            (value: boolean, triggerName: ModalTriggerType, info?: CardInfoType) => {\r\n\r\n                dispatch(setIsOpenedModal(value));\r\n\r\n                if (!value) {\r\n\r\n                    setTimeout(() => {\r\n                        setCardInfo({id: '', question: '', answer: ''});\r\n                        dispatch(setTriggerModal(null));\r\n                    }, 400)\r\n\r\n                } else {\r\n                    if (triggerName === 'deleteCard' || triggerName === 'editCard') {\r\n                        info && setCardInfo({...info});\r\n                    } else {\r\n                        setCardInfo({id: '', question: '', answer: ''});\r\n                    }\r\n                    dispatch(setTriggerModal(triggerName));\r\n                }\r\n            }, [dispatch]);\r\n\r\n        useEffect(() => {\r\n            const el = selectOptions.find(option => option.id === selectedOptionId);\r\n            if (el) {\r\n                setQueryParams({\r\n                    ...queryParams,\r\n                    pageCount: Number(el.value)\r\n                })\r\n            }\r\n        }, [selectedOptionId]);\r\n\r\n\r\n        return (\r\n            <>\r\n                {\r\n                    isLoading\r\n                        ? <Loader/>\r\n                        : <div className={s.container}>\r\n                            <div className={s.header}>\r\n                                <ArrowBackIcon className={s.arrow} onClick={goBack}/>\r\n                                <h1 className={s.title}>{packInfo.packName}</h1>\r\n                            </div>\r\n                            <div className={s.search}>\r\n                                <InputSearch\r\n                                    valueSearch={queryParams.cardQuestion || ''}\r\n                                    callback={searchCardName}\r\n                                    addClass={s.input}\r\n                                />\r\n                                {\r\n                                    packInfo.userIdPack === userId &&\r\n                                    <button\r\n                                        className={s.button}\r\n                                        onClick={() => openCloseModalWindow(true, 'addCard')}\r\n                                    >\r\n                                        Add new card\r\n                                    </button>\r\n                                }\r\n                            </div>\r\n                            {\r\n\r\n                                isError\r\n                                    ? <div className={'error'}>\r\n                                        Ошибка соединения\r\n                                    </div>\r\n                                    : <>\r\n                                        {\r\n                                            data?.cards.length === 0\r\n                                                ?\r\n                                                <p className={s.emptyPackText}>This pack\r\n                                                    is\r\n                                                    empty!</p>\r\n                                                : <>\r\n                                                    <TableCard\r\n                                                        data={data?.cards || []}\r\n                                                        sortData={sortData}\r\n                                                        isOwnerCard={packInfo.userIdPack === userId}\r\n                                                        updateSort={queryParams.sortCards}\r\n                                                        openModalWindow={openCloseModalWindow}\r\n                                                    />\r\n                                                    <div className={s.selectCard}>\r\n                                                        <Pagination\r\n                                                            totalCards={data?.cardsTotalCount || 0}\r\n                                                            pageSize={queryParams.pageCount || 10}\r\n                                                            pageCurrent={queryParams.page || 1}\r\n                                                            setCurrentPage={setCurrentPageHandler}\r\n                                                        />\r\n                                                        <div className={s.selectBody}>\r\n                                                            <span>Show</span>\r\n                                                            <Select\r\n                                                                value={selectedOptionId}\r\n                                                                tasks={selectOptions}\r\n                                                                setValue={setSelectedOptionId}\r\n                                                            />\r\n                                                            <span>Cards per Page</span>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </>\r\n                                        }\r\n                                        <Modal\r\n                                            isActive={isOpenModal}\r\n                                            setActive={openCloseModalWindow}\r\n                                            trigger={triggerModal}\r\n                                        >\r\n                                            {\r\n                                                triggerModal === 'addCard'\r\n                                                    ? < AddEditCardModal\r\n                                                        setNewCard={createCardHandler}\r\n                                                        openCloseModalWindow={openCloseModalWindow}\r\n                                                        title={'Add new card'}\r\n                                                        trigger={'addCard'}\r\n                                                    />\r\n                                                    : triggerModal === 'editCard'\r\n                                                    ? < AddEditCardModal\r\n                                                        setNewCard={editCardHandler}\r\n                                                        openCloseModalWindow={openCloseModalWindow}\r\n                                                        title={'Edit card'}\r\n                                                        trigger={'editCard'}\r\n                                                        cardInfo={cardInfo}\r\n                                                    />\r\n                                                    : triggerModal === 'deleteCard'\r\n                                                        ? <DeleteModalWindow\r\n                                                            nameValue={cardInfo.question}\r\n                                                            deletePack={deleteCardHandler}\r\n                                                            openCloseModalWindow={openCloseModalWindow}\r\n                                                            triggerDelete={'deleteCard'}\r\n                                                        />\r\n                                                        : false\r\n                                            }\r\n                                        </Modal>\r\n                                    </>\r\n                            }\r\n\r\n                        </div>\r\n                }\r\n            </>\r\n        )\r\n    }\r\n)","import {createSlice, PayloadAction} from \"@reduxjs/toolkit\";\r\nimport {CardType} from \"../../m3-dal/cards-api\";\r\n\r\nconst slice = createSlice({\r\n    name: 'learningPack',\r\n    initialState: {\r\n        cards: [] as Array<CardType>,\r\n    },\r\n    reducers: {\r\n        setLearningCards(state, action: PayloadAction<Array<CardType>>) {\r\n            state.cards  = action.payload\r\n        },\r\n        setGradeOfCard(state, action: PayloadAction<{ cardId: string, grade: number }>) {\r\n\r\n            const id = state.cards.findIndex(card => card._id === action.payload.cardId);\r\n            if (id > -1) {\r\n                state.cards[id].grade = action.payload.grade\r\n            }\r\n        },\r\n    }\r\n})\r\n\r\nexport const learnPackReducer = slice.reducer;\r\nexport const {setLearningCards, setGradeOfCard} = slice.actions;","import React from \"react\";\r\nimport s from \"../LearnPack.module.scss\";\r\nimport SuperButton from \"../../../../common/SuperButton/SuperButton\";\r\nimport {CardType} from \"../../../../../m3-dal/cards-api\";\r\n\r\ntype QuestionCardType = {\r\n    card: CardType\r\n    finishLearn: () => void\r\n    showAnswer: () => void\r\n}\r\nexport const QuestionCard: React.FC<QuestionCardType> = React.memo((props) => {\r\n\r\n    const {card, finishLearn, showAnswer} = props;\r\n\r\n    const stopLearning = () => {\r\n        finishLearn()\r\n    }\r\n\r\n    const showAnswerAndRate = () => {\r\n        showAnswer()\r\n    }\r\n    return (\r\n        <>\r\n            <p className={card.question ? s.question : s.emptyText}>\r\n                {\r\n                    card.question\r\n                        ? <><span>Question:</span>{card.question}</>\r\n                        : 'This pack is empty!'\r\n                }\r\n            </p>\r\n            {\r\n                (card.questionImg || card.questionVideo) &&\r\n                <div className={s.fileLearn}>\r\n                    {\r\n                        card.questionImg\r\n                            ? <img src={card.questionImg} alt=\"\"/>\r\n                            : card.questionVideo\r\n                            ? <video preload=\"metadata\" controls>\r\n                                <source src={card.questionVideo}/>\r\n                            </video>\r\n                            : false\r\n                    }\r\n                </div>\r\n            }\r\n            <div className={s.btns}>\r\n                <SuperButton\r\n                    className={`${s.btn} ${s.cancel}`}\r\n                    onClick={stopLearning}\r\n                >\r\n                    Finish\r\n                </SuperButton>\r\n                <SuperButton\r\n                    className={`${s.btn} ${s.save}`}\r\n                    onClick={showAnswerAndRate}\r\n                    disabled={!card.question}\r\n                >\r\n                    Show\r\n                    answer</SuperButton>\r\n            </div>\r\n        </>\r\n    )\r\n})","import React, {ChangeEvent, useState} from \"react\";\r\nimport s from \"../LearnPack.module.scss\";\r\nimport SuperButton from \"../../../../common/SuperButton/SuperButton\";\r\nimport {CardType} from \"../../../../../m3-dal/cards-api\";\r\n\r\n\r\ntype AnswerWithRateType = {\r\n    card: CardType\r\n    finishLearn: () => void\r\n    nextQuestion: (prevGrade: number) => void\r\n}\r\ntype RateType = {\r\n    id: string,\r\n    value: number,\r\n    text: string\r\n}\r\nconst ratingValue: Array<RateType> = [\r\n    {\r\n        id: '1',\r\n        value: 1,\r\n        text: 'Did not know'\r\n    },\r\n    {\r\n        id: '2',\r\n        value: 2,\r\n        text: 'Forgot'\r\n    },\r\n    {\r\n        id: '3',\r\n        value: 3,\r\n        text: 'A lot of thought'\r\n    },\r\n    {\r\n        id: '4',\r\n        value: 4,\r\n        text: 'Confused'\r\n    },\r\n    {\r\n        id: '5',\r\n        value: 5,\r\n        text: 'Knew the answer'\r\n    },\r\n]\r\n\r\nexport const AnswerWithRate: React.FC<AnswerWithRateType> = React.memo((props) => {\r\n\r\n    const {card, finishLearn, nextQuestion} = props;\r\n\r\n    const [checkedRate, setCheckedRate] = useState(0)\r\n\r\n    const stopLearning = () => {\r\n        finishLearn()\r\n    }\r\n\r\n    const showNextQuestion = () => {\r\n        nextQuestion(checkedRate)\r\n    }\r\n    const setRateHandler = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setCheckedRate(Number(e.currentTarget.value))\r\n    }\r\n    return (\r\n        <>\r\n            <p className={s.question}>\r\n                <span>Question:</span>{card.question}\r\n            </p>\r\n            {\r\n                (card.questionImg || card.questionVideo) &&\r\n                <div className={s.fileLearn}>\r\n                    {\r\n                        card.questionImg\r\n                            ? <img src={card.questionImg} alt=\"\"/>\r\n                            : card.questionVideo\r\n                            ? <video preload=\"metadata\" controls>\r\n                                <source src={card.questionVideo}/>\r\n                            </video>\r\n                            : false\r\n                    }\r\n                </div>\r\n            }\r\n            <p className={s.question}>\r\n                <span>Answer:</span>{card.answer}\r\n            </p>\r\n            {\r\n                (card.answerImg || card.answerVideo) &&\r\n                <div className={s.fileLearn}>\r\n                    {\r\n                        card.answerImg\r\n                            ? <img src={card.answerImg} alt=\"\"/>\r\n                            : card.answerVideo\r\n                            ? <video preload=\"metadata\" controls>\r\n                                <source src={card.answerVideo}/>\r\n                            </video>\r\n                            : false\r\n                    }\r\n                </div>\r\n            }\r\n            <div className={s.rate}>\r\n                <h2 className={s.titleRate}>Rate yourself:</h2>\r\n                {\r\n                    ratingValue.map(item => (\r\n                        <label key={item.id} className={s.label}>\r\n                            <input\r\n                                checked={checkedRate === item.value}\r\n                                className={s.radio}\r\n                                type=\"radio\"\r\n                                name={'rate'}\r\n                                value={item.value}\r\n                                onChange={setRateHandler}\r\n                            />\r\n                            <span className={s.radioText}>{item.text}</span>\r\n                        </label>\r\n                    ))\r\n                }\r\n            </div>\r\n            <div className={s.btns}>\r\n                <SuperButton\r\n                    className={`${s.btn} ${s.cancel}`}\r\n                    onClick={stopLearning}\r\n                >\r\n                    Finish\r\n                </SuperButton>\r\n                <SuperButton\r\n                    className={`${s.btn} ${s.save}`}\r\n\r\n                    onClick={showNextQuestion}>Next</SuperButton>\r\n            </div>\r\n        </>\r\n    )\r\n})","import s from './LearnPack.module.scss'\r\nimport {useLocation, useNavigate, useSearchParams} from \"react-router-dom\";\r\nimport {useAppDispatch, useAppSelector} from \"../../../../../hook/redux\";\r\nimport {\r\n    CardType,\r\n    useGetCardsOfPackQuery,\r\n    useLazyGetCardsOfPackQuery,\r\n    useSetCardGradeMutation\r\n} from \"../../../../m3-dal/cards-api\";\r\nimport {Loader} from \"../../../common/Loader/Loader\";\r\nimport React, {useCallback, useEffect, useState} from \"react\";\r\nimport {\r\n    setGradeOfCard,\r\n    setLearningCards\r\n} from \"../../../../m2-bll/a2-learnPack/learnPackReducer\";\r\nimport {QuestionCard} from \"./Question/QuestionCard\";\r\nimport {AnswerWithRate} from \"./AnswerWithRate/AnswerWithRateCard\";\r\nimport {getCard} from \"../../../../../utils/GetRandomCard\";\r\n\r\n\r\ntype LocationState = {\r\n    packName: string;\r\n}\r\nexport const LearnPack = () => {\r\n\r\n    const [searchParams, setSearchParams] = useSearchParams();\r\n    const cardId = searchParams.get('cardsPack_id') || ''; //поисковый запрос, || '' -если не найдет\r\n    const isAuth = useAppSelector(state => state.app.isAuthUser);\r\n    const location = useLocation();\r\n\r\n    const {packName} = location.state as LocationState;\r\n    const navigate = useNavigate();\r\n    const dispatch = useAppDispatch();\r\n\r\n   /* const queryPackParams = useAppSelector(state => state.packList);*/\r\n    const learningCardsOfPack = useAppSelector(state => state.learningPack.cards)\r\n\r\n    const [isShowQuestion, setIsShowQuestion] = useState(true);\r\n\r\n    const {\r\n        data,\r\n        isLoading,\r\n        isSuccess,\r\n        isFetching,\r\n    } = useGetCardsOfPackQuery({cardsPack_id: cardId, pageCount: 10}, {\r\n        skip: !isAuth,\r\n    });\r\n\r\n    const [updateGradesOfCards, {\r\n        isLoading: isLoadingUpdateCardGrade,\r\n        isSuccess: isSuccessUpdateCardGrade,\r\n    }] = useSetCardGradeMutation();\r\n\r\n   /* const [updatePacks] = useLazyGetAllPacksQuery();*/\r\n    const [updateCards] = useLazyGetCardsOfPackQuery();\r\n\r\n    const [card, setCard] = useState<CardType>({\r\n        answer: '',\r\n        cardsPack_id: '',\r\n        comments: '',\r\n        created: '',\r\n        grade: 0,\r\n        more_id: '',\r\n        question: '',\r\n        rating: 0,\r\n        shots: 0,\r\n        type: '',\r\n        updated: '',\r\n        user_id: '',\r\n        __v: 0,\r\n        _id: '',\r\n        answerImg: null,\r\n        answerVideo: null,\r\n        questionImg: null,\r\n        questionVideo: null,\r\n    });\r\n\r\n    const finishLearn = useCallback(async () => {\r\n\r\n        if(learningCardsOfPack.length === 0) {\r\n            navigate('/', {replace: true})\r\n            return\r\n        }\r\n        for (let i = 0; i < learningCardsOfPack.length; i++) {\r\n            if (learningCardsOfPack[i].grade > 0 ) {\r\n                await updateGradesOfCards({grade: learningCardsOfPack[i].grade, card_id: learningCardsOfPack[i]._id})\r\n            }\r\n        }\r\n        dispatch(setLearningCards([]))\r\n\r\n    }, [learningCardsOfPack, updateGradesOfCards,navigate, dispatch])\r\n\r\n    const showAnswer = useCallback(() => {\r\n        setIsShowQuestion(false)\r\n    }, [])\r\n\r\n    const showNextQuestion = useCallback((prevGrade: number) => {\r\n        dispatch(setGradeOfCard({cardId: card._id, grade: prevGrade}))\r\n        setIsShowQuestion(true)\r\n\r\n    }, [dispatch, card]);\r\n\r\n    useEffect(() => {\r\n        if (isSuccess) {\r\n            data?.cards && dispatch(setLearningCards(data.cards))\r\n        }\r\n    }, [data?.cards, dispatch, isSuccess])\r\n\r\n    useEffect(() => {\r\n        if (learningCardsOfPack.length && isSuccess) {\r\n            setCard(getCard(learningCardsOfPack))\r\n        }\r\n    }, [learningCardsOfPack, isSuccess])\r\n\r\n    useEffect(() => {\r\n        isSuccessUpdateCardGrade && navigate('/', {replace: true})\r\n    },[isSuccessUpdateCardGrade, navigate ])\r\n\r\n\r\n    return (\r\n        <>\r\n            {\r\n                isLoading || isLoadingUpdateCardGrade || isFetching\r\n                    ? <Loader />\r\n                    : <div className={s.container}>\r\n                        <h1 className={s.title}>{`Learn '${packName}'`}</h1>\r\n                        {\r\n                            isShowQuestion\r\n                                ? <QuestionCard\r\n                                    card={card}\r\n                                    finishLearn={finishLearn}\r\n                                    showAnswer={showAnswer}\r\n                                />\r\n                                : <AnswerWithRate\r\n                                    card={card}\r\n                                    finishLearn={finishLearn}\r\n                                    nextQuestion={showNextQuestion}\r\n                                />\r\n                        }\r\n                    </div>\r\n            }\r\n        </>\r\n    )\r\n}","import {CardType} from \"../n1-main/m3-dal/cards-api\";\r\n\r\n\r\nexport const getCard = (cards: CardType[]) => {\r\n    const sum = cards.reduce((acc, card) => acc + (6 - card.grade) * (6 - card.grade), 0);\r\n    const rand = Math.random() * sum;\r\n    const res = cards.reduce((acc: { sum: number, id: number}, card, i) => {\r\n            const newSum = acc.sum + (6 - card.grade) * (6 - card.grade);\r\n            return {sum: newSum, id: newSum < rand ? i : acc.id}\r\n        }\r\n        , {sum: 0, id: -1});\r\n    console.log('test: ', sum, rand, res)\r\n\r\n    return cards[res.id + 1];\r\n}","import React, {useEffect, useMemo, useState} from 'react';\r\nimport './App.css'\r\nimport {Route, Routes, useNavigate, Navigate} from \"react-router-dom\";\r\nimport {Login} from \"../../n2-features/f1-auth/a1-login/Login\";\r\nimport {Register} from \"../../n2-features/f1-auth/a2-register/Register\";\r\nimport {RecoverPassword} from \"../../n2-features/f1-auth/a4-recovery-pass/RecoverPasswor\";\r\nimport {EnterPassword} from \"../../n2-features/f1-auth/a5-enter-new-pass/EnterPassword\";\r\nimport {CheckPassword} from \"../../n2-features/f1-auth/a6-check-password/CheckPassword\";\r\nimport {Error404} from \"../../n2-features/f1-auth/a3-Error404/Error404\";\r\nimport {Layout} from \"./Layout\";\r\nimport {PacksList} from \"./main/packsList/PacksList\";\r\nimport {Profile} from \"./main/profile/Profile\";\r\nimport {\r\n    FinallyErrorResponseType,\r\n    useCheckAuthUserMutation\r\n} from \"../m3-dal/auth-api\";\r\nimport {Loader} from \"./common/Loader/Loader\";\r\nimport {useAppDispatch, useAppSelector} from \"../../hook/redux\";\r\nimport {setAppIsAuth} from \"../m2-bll/app-reducer\";\r\nimport {setUser} from \"../m2-bll/loginization-reducer\";\r\nimport {CardsOfPack} from \"./main/packsList/Pack/CardsOfPack\";\r\nimport {LearnPack} from \"./main/packsList/LearnPack/LearnPack\";\r\n\r\n\r\nexport const App = () => {\r\n\r\n    const [checkAuthUser, {\r\n        error: errorAuthUser,\r\n        isLoading,\r\n    }] = useCheckAuthUserMutation();\r\n\r\n    const dispatch = useAppDispatch();\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        checkAuthUser().unwrap()\r\n            .then(res => {\r\n                dispatch(setAppIsAuth(true));\r\n                dispatch(setUser(res))\r\n            })\r\n            .catch(error => {\r\n                navigate('/login', {replace: true});\r\n            })\r\n    }, [checkAuthUser, dispatch])\r\n\r\n    const finallyError = useMemo(() => {\r\n        return errorAuthUser\r\n    }, [errorAuthUser])\r\n\r\n    if (isLoading) {\r\n        return <Loader/>\r\n    }\r\n\r\n    return (\r\n        <div className=\"App\">\r\n            <Routes>\r\n                <Route path=\"/\" element={<Layout\r\n                    error={finallyError as FinallyErrorResponseType}/>}>\r\n                    <Route path=\"/\" element={<Navigate to={'packs-list'}/>}/>\r\n                    <Route path={'packs-list'} element={<PacksList triggerPage={'packList'}/>}/>\r\n                    <Route path={'packs-list/learnPack'} element={<LearnPack />}/>\r\n                    <Route path={'packs-list/cards/card'} element={<CardsOfPack/>}/>\r\n                    <Route path={'profile/cards/card'} element={<CardsOfPack/>}/>\r\n                    <Route path={'profile'} element={<Profile/>}/>\r\n                    <Route path={'login'} element={<Login/>}/>\r\n                    <Route path={'registration'} element={<Register/>}/>\r\n                    <Route path={'recovery-password'}\r\n                           element={<RecoverPassword/>}/>\r\n                    <Route path={'new-password/:token'}\r\n                           element={<EnterPassword/>}/>\r\n                    <Route path={'check-password'}\r\n                           element={<CheckPassword/>}/>\r\n                    <Route path={'*'} element={<Error404/>}/>\r\n                </Route>\r\n            </Routes>\r\n        </div>\r\n    );\r\n}\r\n\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import {createApi} from \"@reduxjs/toolkit/dist/query/react\";\r\nimport {axiosBaseQuery} from \"./auth-api\";\r\n\r\n\r\nexport const fileApi = createApi({\r\n    reducerPath: 'fileApi',\r\n    baseQuery: axiosBaseQuery(\r\n        {baseUrl: 'https://dry-forest-56016.herokuapp.com'}\r\n    ),\r\n    tagTypes:['File'],\r\n    endpoints:(builder) =>({\r\n        getFile: builder.query({\r\n            query:(arg) => ({\r\n                url:'file',\r\n                method: 'GET'\r\n            })\r\n        }),\r\n        createFile: builder.mutation<void, {myFile:string}>({\r\n            query:(arg) => ({\r\n                url:'file',\r\n                data: {formData : arg},\r\n                method: 'GET',\r\n            })\r\n        })\r\n    })\r\n})\r\n\r\nexport const {useGetFileQuery, useCreateFileMutation} = fileApi;","import {loginReducer} from \"./loginization-reducer\";\r\nimport {combineReducers} from \"redux\";\r\nimport {recoveryPassReducer} from \"./recovery-passw-reducer\";\r\n\r\nimport {ThunkDispatch} from \"redux-thunk\";\r\nimport {AnyAction, configureStore} from \"@reduxjs/toolkit\";\r\n\r\nimport {_authApi} from \"../m3-dal/auth-api\";\r\nimport {packListApi} from \"../m3-dal/pack-list-api\";\r\nimport {cardsApi} from \"../m3-dal/cards-api\";\r\nimport {packListReducer} from \"./a1-pakcList/packListReducer\";\r\nimport {appReducer} from \"./app-reducer\";\r\nimport {learnPackReducer} from \"./a2-learnPack/learnPackReducer\";\r\nimport {fileApi} from \"../m3-dal/file-api\";\r\n\r\n\r\nexport const AppRootReducer = combineReducers({\r\n    loginization: loginReducer,\r\n    recoveryPassword: recoveryPassReducer,\r\n    app: appReducer,\r\n    packList: packListReducer,\r\n    learningPack: learnPackReducer,\r\n    [_authApi.reducerPath] : _authApi.reducer,\r\n    [packListApi.reducerPath] : packListApi.reducer,\r\n    [cardsApi.reducerPath] : cardsApi.reducer,\r\n    [fileApi.reducerPath] : fileApi.reducer,\r\n});\r\n\r\nexport type AppRootStateType = ReturnType<typeof AppRootReducer>;\r\n\r\nexport const store = configureStore({\r\n    reducer: AppRootReducer,\r\n    middleware: (getDefaultMiddleware) => getDefaultMiddleware().concat(\r\n        _authApi.middleware,\r\n        packListApi.middleware,\r\n        cardsApi.middleware,\r\n        fileApi.middleware\r\n    )\r\n})\r\n\r\nexport type ApplicationDispatch = ThunkDispatch<AppRootStateType, void, AnyAction>\r\n\r\n//@ts-ignore\r\nwindow.store = store;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.scss';\r\nimport {App} from './n1-main/m1-ui/App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport {Provider} from \"react-redux\";\r\nimport {store} from \"./n1-main/m2-bll/state\";\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n      <BrowserRouter basename={'/cards-app'}>\r\n        <Provider store={store}><App /></Provider>\r\n      </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. LearnPack more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"superInput\":\"SuperInputText_superInput__3724i\",\"errorInput\":\"SuperInputText_errorInput__3tuBc\",\"error\":\"SuperInputText_error__jgHnG\",\"group\":\"SuperInputText_group__1yLP6\",\"label\":\"SuperInputText_label__1faR5\",\"errorLabel\":\"SuperInputText_errorLabel__1qNVL\",\"bar\":\"SuperInputText_bar__3CdCQ\",\"errorBar\":\"SuperInputText_errorBar__2DHkz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"CardsOfPack_container__3q7_z\",\"header\":\"CardsOfPack_header__3gu4N\",\"arrow\":\"CardsOfPack_arrow__hu9Nd\",\"title\":\"CardsOfPack_title__1IyKg\",\"emptyPackText\":\"CardsOfPack_emptyPackText__EgCiH\",\"search\":\"CardsOfPack_search__31eW5\",\"input\":\"CardsOfPack_input__1-6Da\",\"button\":\"CardsOfPack_button__36VaZ\",\"selectCard\":\"CardsOfPack_selectCard__2uw5V\",\"selectBody\":\"CardsOfPack_selectBody__3GKDb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"select\":\"Select_select__fnXZv\",\"title\":\"Select_title__2Yj86\",\"active\":\"Select_active__Cv-WG\",\"body\":\"Select_body__1peH4\",\"item\":\"Select_item__2_4sS\",\"hover\":\"Select_hover__iDRp-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"simple__rating\":\"StarsRating_simple__rating__1JWIB\",\"simpleRating__items\":\"StarsRating_simpleRating__items__2Zs_E\",\"simpleRating__item\":\"StarsRating_simpleRating__item__fVfbB\",\"simpleRating__label\":\"StarsRating_simpleRating__label__3any0\",\"wrapper\":\"StarsRating_wrapper__2nEsu\",\"rating\":\"StarsRating_rating__2Mug5\",\"rating__body\":\"StarsRating_rating__body__1o2uM\",\"rating__active\":\"StarsRating_rating__active__3kyZa\",\"rating__items\":\"StarsRating_rating__items__2Gp--\",\"rating__item\":\"StarsRating_rating__item__3_EEU\",\"rating__value\":\"StarsRating_rating__value__kFiW2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"Range_title__rgvbl\",\"range\":\"Range_range__EYbEB\",\"track\":\"Range_track__1bhdb\",\"rail\":\"Range_rail__1hT9v\",\"thumb\":\"Range_thumb__3hFRS\",\"active\":\"Range_active__1m1Yq\",\"label\":\"Range_label__2OCCL\",\"red\":\"Range_red__39SJG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"Modal_modal__3ZrD1\",\"active\":\"Modal_active__kAorr\",\"content\":\"Modal_content__xDohH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"User_container__1ggtt\",\"image\":\"User_image__1_Q4X\",\"unknown\":\"User_unknown__uFccy\",\"name\":\"User_name__1OD7U\",\"text\":\"User_text__17xLv\",\"btn\":\"User_btn__336QV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spanLogo\":\"Login_spanLogo__G5R85\",\"links\":\"Login_links__3FrsO\",\"container\":\"Login_container__2xZOn\",\"actionsContainer\":\"Login_actionsContainer__I1Tog\",\"btn__send\":\"Login_btn__send__1VJHt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"label\":\"Radio_label__3eZgS\",\"radio\":\"Radio_radio__1Unt6\",\"text\":\"Radio_text__1wG-w\",\"active\":\"Radio_active__3N7Cq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"EditProfileModal_avatar__1-S8K\",\"avatar__container\":\"EditProfileModal_avatar__container__flZQm\",\"unknown\":\"EditProfileModal_unknown__3XMKN\",\"btnFile\":\"EditProfileModal_btnFile__1CyND\",\"addPhoto\":\"EditProfileModal_addPhoto__3xOT7\",\"loadingImg\":\"EditProfileModal_loadingImg__2pGfK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"checkbox\":\"SuperCheckbox_checkbox__3BGtu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"InputFormik_item__2RMYZ\",\"label\":\"InputFormik_label__3jULD\",\"img\":\"InputFormik_img__3pCY5\",\"input\":\"InputFormik_input__3WU30\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"text\":\"RecoverPasswor_text__2HiGx\",\"text__sub\":\"RecoverPasswor_text__sub__zNW61\",\"btn\":\"RecoverPasswor_btn__2N-0O\",\"link\":\"RecoverPasswor_link__3-ZfE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"body\":\"Error404_body__2IKwL\",\"errorPage\":\"Error404_errorPage__2RbM_\",\"content\":\"Error404_content__19wAj\",\"animate\":\"Error404_animate__20P4k\",\"btn\":\"Error404_btn__243Mv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"image\":\"CheckPassword_image__3AdR2\",\"title\":\"CheckPassword_title__1nR5Y\",\"text\":\"CheckPassword_text__97JBR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tab\":\"Tab_tab__3zxrk\",\"active\":\"Tab_active__3cmkZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"delete\":\"DeleteModal_delete__UfDYQ\",\"text\":\"DeleteModal_text__2fRIt\",\"body\":\"DeleteModal_body__2c2ug\"};"],"sourceRoot":""}